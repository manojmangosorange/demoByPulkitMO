import{j as e}from"./chunk-aAkv6woa.js";import{r as s}from"./chunk-CRvknJha.js";import{r as a,B as r,J as n}from"../assets/index-BdECdtOY.js";import{X as t,aD as i,M as l,aE as c,aq as d,U as o,d as m}from"./chunk-CwPyCuk6.js";import{a as x,u as h,L as f}from"./chunk-KSTQTUbB.js";const u=({children:u})=>{const[g,b]=s.useState(null),[j,p]=s.useState(!0),[N,v]=s.useState(!1),y=x(),k=h();s.useEffect(()=>{w()},[]);const w=async()=>{const e=await a.getCurrentUser();e?b(e):y("/admin/login"),p(!1)},C=(()=>{const e=[{name:"Dashboard",href:"/admin",icon:c},{name:"Job Postings",href:"/admin/jobs",icon:d},{name:"Applicants",href:"/admin/applicants",icon:o},{name:"Settings",href:"/admin/settings",icon:m}];return"Admin"===g?.role?[{name:"Admin Dashboard",href:"/admin/dashboard",icon:c},...e.slice(1)]:e})();return j?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):g?e.jsxs("div",{className:"min-h-screen bg-background",children:[N&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>v(!1)}),e.jsx("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-card border-r border-border transform transition-transform duration-300 ease-in-out lg:translate-x-0 "+(N?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-border",children:[e.jsx(f,{to:"/admin",className:"text-xl font-bold text-primary",children:"MangosOrange Admin"}),e.jsx(r,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>v(!1),children:e.jsx(t,{className:"w-4 h-4"})})]}),e.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:C.map(s=>{const a=s.icon,r=k.pathname===s.href;return e.jsxs(f,{to:s.href,className:"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors "+(r?"bg-primary text-primary-foreground":"text-gray-800 hover:text-foreground hover:bg-accent"),onClick:()=>v(!1),children:[e.jsx(a,{className:"w-4 h-4"}),s.name]},s.name)})}),e.jsxs("div",{className:"p-4 border-t border-border",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground text-sm font-medium",children:g?.name?.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-foreground truncate",children:g.name}),e.jsx("div",{className:"text-xs text-gray-800 truncate",children:g.role})]})]}),e.jsxs(r,{variant:"ghost",size:"sm",className:"w-full justify-start text-gray-800 hover:text-foreground",onClick:async()=>{await a.signOut(),b(null),y("/admin/login"),n.success("Signed out successfully")},children:[e.jsx(i,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})}),e.jsxs("div",{className:"lg:pl-64",children:[e.jsxs("div",{className:"sticky top-0 z-30 flex h-16 items-center gap-4 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-6",children:[e.jsx(r,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>v(!0),children:e.jsx(l,{className:"w-4 h-4"})}),e.jsx("div",{className:"flex-1",children:e.jsx("h1",{className:"text-lg font-semibold text-foreground",children:"Career Management"})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-sm text-gray-800",children:["Welcome, ",g.name]})})]}),e.jsx("main",{className:"p-6",children:u})]})]}):null};export{u as A};
