import{a as e,u as t,b as n,j as i,P as r,f as a,t as o}from"./chunk-aAkv6woa.js";import{r as s,g as c,d as l,a as d,e as h}from"./chunk-CRvknJha.js";import{w as u,v as p,o as f,s as g,_ as m,x as b,f as y,i as v,C as x,a as _,b as w,c as D,j as T,k as A,l as E,m as C,n as k,I as S,p as U,B as O,J as F}from"../assets/index-BdECdtOY.js";import{B as N}from"./chunk-DGs3gSCA.js";import{S as P,a as I,b as M,c as R,d as B}from"./chunk-D1gP0dpu.js";import{A as L}from"./chunk-D8XlI3mD.js";import{c as j}from"./chunk-BjzA4HJ1.js";import{m as W,ap as q,ay as z,a0 as H,aq as V,h as G,E as $,av as K,az as X,U as Y,a4 as Z}from"./chunk-CwPyCuk6.js";import"./chunk-DbexCMFd.js";import"./chunk-DdJ5UvfL.js";import"./chunk-Djsr9rkS.js";import"./chunk-KSTQTUbB.js";var Q="Switch",[J,ee]=e(Q),[te,ne]=J(Q),ie=s.forwardRef((e,o)=>{const{__scopeSwitch:c,name:l,checked:d,defaultChecked:h,required:u,disabled:p,value:f="on",onCheckedChange:g,form:m,...b}=e,[y,v]=s.useState(null),x=t(o,e=>v(e)),_=s.useRef(!1),w=!y||(m||!!y.closest("form")),[D=!1,T]=n({prop:d,defaultProp:h,onChange:g});return i.jsxs(te,{scope:c,checked:D,disabled:p,children:[i.jsx(r.button,{type:"button",role:"switch","aria-checked":D,"aria-required":u,"data-state":se(D),"data-disabled":p?"":void 0,disabled:p,value:f,...b,ref:x,onClick:a(e.onClick,e=>{T(e=>!e),w&&(_.current=e.isPropagationStopped(),_.current||e.stopPropagation())})}),w&&i.jsx(oe,{control:y,bubbles:!_.current,name:l,value:f,checked:D,required:u,disabled:p,form:m,style:{transform:"translateX(-100%)"}})]})});ie.displayName=Q;var re="SwitchThumb",ae=s.forwardRef((e,t)=>{const{__scopeSwitch:n,...a}=e,o=ne(re,n);return i.jsx(r.span,{"data-state":se(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})});ae.displayName=re;var oe=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,c=s.useRef(null),l=u(n),d=o(t);return s.useEffect(()=>{const e=c.current,t=window.HTMLInputElement.prototype,i=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==n&&i){const t=new Event("click",{bubbles:r});i.call(e,n),e.dispatchEvent(t)}},[l,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:c,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function se(e){return e?"checked":"unchecked"}var ce=ie,le=ae;const de=s.forwardRef(({className:e,...t},n)=>i.jsx(ce,{className:p("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:i.jsx(le,{className:p("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));de.displayName=ce.displayName;var he="1.13.7",ue="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},pe=Array.prototype,fe=Object.prototype,ge="undefined"!=typeof Symbol?Symbol.prototype:null,me=pe.push,be=pe.slice,ye=fe.toString,ve=fe.hasOwnProperty,xe="undefined"!=typeof ArrayBuffer,_e="undefined"!=typeof DataView,we=Array.isArray,De=Object.keys,Te=Object.create,Ae=xe&&ArrayBuffer.isView,Ee=isNaN,Ce=isFinite,ke=!{toString:null}.propertyIsEnumerable("toString"),Se=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Ue=Math.pow(2,53)-1;function Oe(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var a=Array(t+1);for(r=0;r<t;r++)a[r]=arguments[r];return a[t]=i,e.apply(this,a)}}function Fe(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function Ne(e){return null===e}function Pe(e){return void 0===e}function Ie(e){return!0===e||!1===e||"[object Boolean]"===ye.call(e)}function Me(e){return!(!e||1!==e.nodeType)}function Re(e){var t="[object "+e+"]";return function(e){return ye.call(e)===t}}const Be=Re("String"),Le=Re("Number"),je=Re("Date"),We=Re("RegExp"),qe=Re("Error"),ze=Re("Symbol"),He=Re("ArrayBuffer");var Ve=Re("Function"),Ge=ue.document&&ue.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Ge&&(Ve=function(e){return"function"==typeof e||!1});const $e=Ve,Ke=Re("Object");var Xe=_e&&(!/\[native code\]/.test(String(DataView))||Ke(new DataView(new ArrayBuffer(8)))),Ye="undefined"!=typeof Map&&Ke(new Map),Ze=Re("DataView");const Qe=Xe?function(e){return null!=e&&$e(e.getInt8)&&He(e.buffer)}:Ze,Je=we||Re("Array");function et(e,t){return null!=e&&ve.call(e,t)}var tt=Re("Arguments");!function(){tt(arguments)||(tt=function(e){return et(e,"callee")})}();const nt=tt;function it(e){return!ze(e)&&Ce(e)&&!isNaN(parseFloat(e))}function rt(e){return Le(e)&&Ee(e)}function at(e){return function(){return e}}function ot(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=Ue}}function st(e){return function(t){return null==t?void 0:t[e]}}const ct=st("byteLength"),lt=ot(ct);var dt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const ht=xe?function(e){return Ae?Ae(e)&&!Qe(e):lt(e)&&dt.test(ye.call(e))}:at(!1),ut=st("length");function pt(e,t){t=function(e){for(var t={},n=e.length,i=0;i<n;++i)t[e[i]]=!0;return{contains:function(e){return!0===t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=Se.length,i=e.constructor,r=$e(i)&&i.prototype||fe,a="constructor";for(et(e,a)&&!t.contains(a)&&t.push(a);n--;)(a=Se[n])in e&&e[a]!==r[a]&&!t.contains(a)&&t.push(a)}function ft(e){if(!Fe(e))return[];if(De)return De(e);var t=[];for(var n in e)et(e,n)&&t.push(n);return ke&&pt(e,t),t}function gt(e){if(null==e)return!0;var t=ut(e);return"number"==typeof t&&(Je(e)||Be(e)||nt(e))?0===t:0===ut(ft(e))}function mt(e,t){var n=ft(t),i=n.length;if(null==e)return!i;for(var r=Object(e),a=0;a<i;a++){var o=n[a];if(t[o]!==r[o]||!(o in r))return!1}return!0}function bt(e){return e instanceof bt?e:this instanceof bt?void(this._wrapped=e):new bt(e)}function yt(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,ct(e))}bt.VERSION=he,bt.prototype.value=function(){return this._wrapped},bt.prototype.valueOf=bt.prototype.toJSON=bt.prototype.value,bt.prototype.toString=function(){return String(this._wrapped)};var vt="[object DataView]";function xt(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var r=typeof e;return("function"===r||"object"===r||"object"==typeof t)&&_t(e,t,n,i)}function _t(e,t,n,i){e instanceof bt&&(e=e._wrapped),t instanceof bt&&(t=t._wrapped);var r=ye.call(e);if(r!==ye.call(t))return!1;if(Xe&&"[object Object]"==r&&Qe(e)){if(!Qe(t))return!1;r=vt}switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0===+e?1/+e==1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return ge.valueOf.call(e)===ge.valueOf.call(t);case"[object ArrayBuffer]":case vt:return _t(yt(e),yt(t),n,i)}var a="[object Array]"===r;if(!a&&ht(e)){if(ct(e)!==ct(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;a=!0}if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!($e(o)&&o instanceof o&&$e(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}i=i||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),a){if((c=e.length)!==t.length)return!1;for(;c--;)if(!xt(e[c],t[c],n,i))return!1}else{var l,d=ft(e);if(c=d.length,ft(t).length!==c)return!1;for(;c--;)if(!et(t,l=d[c])||!xt(e[l],t[l],n,i))return!1}return n.pop(),i.pop(),!0}function wt(e,t){return xt(e,t)}function Dt(e){if(!Fe(e))return[];var t=[];for(var n in e)t.push(n);return ke&&pt(e,t),t}function Tt(e){var t=ut(e);return function(n){if(null==n)return!1;var i=Dt(n);if(ut(i))return!1;for(var r=0;r<t;r++)if(!$e(n[e[r]]))return!1;return e!==St||!$e(n[At])}}var At="forEach",Et=["clear","delete"],Ct=["get","has","set"],kt=Et.concat(At,Ct),St=Et.concat(Ct),Ut=["add"].concat(Et,At,"has");const Ot=Ye?Tt(kt):Re("Map"),Ft=Ye?Tt(St):Re("WeakMap"),Nt=Ye?Tt(Ut):Re("Set"),Pt=Re("WeakSet");function It(e){for(var t=ft(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i}function Mt(e){for(var t=ft(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i}function Rt(e){for(var t={},n=ft(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t}function Bt(e){var t=[];for(var n in e)$e(e[n])&&t.push(n);return t.sort()}function Lt(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var a=arguments[r],o=e(a),s=o.length,c=0;c<s;c++){var l=o[c];t&&void 0!==n[l]||(n[l]=a[l])}return n}}const jt=Lt(Dt),Wt=Lt(ft),qt=Lt(Dt,!0);function zt(e){if(!Fe(e))return{};if(Te)return Te(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Ht(e,t){var n=zt(e);return t&&Wt(n,t),n}function Vt(e){return Fe(e)?Je(e)?e.slice():jt({},e):e}function Gt(e,t){return t(e),e}function $t(e){return Je(e)?e:[e]}function Kt(e){return bt.toPath(e)}function Xt(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0}function Yt(e,t,n){var i=Xt(e,Kt(t));return Pe(i)?n:i}function Zt(e,t){for(var n=(t=Kt(t)).length,i=0;i<n;i++){var r=t[i];if(!et(e,r))return!1;e=e[r]}return!!n}function Qt(e){return e}function Jt(e){return e=Wt({},e),function(t){return mt(t,e)}}function en(e){return e=Kt(e),function(t){return Xt(t,e)}}function tn(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,a){return e.call(t,n,i,r,a)}}return function(){return e.apply(t,arguments)}}function nn(e,t,n){return null==e?Qt:$e(e)?tn(e,t,n):Fe(e)&&!Je(e)?Jt(e):en(e)}function rn(e,t){return nn(e,t,1/0)}function an(e,t,n){return bt.iteratee!==rn?bt.iteratee(e,t):nn(e,t,n)}function on(e,t,n){t=an(t,n);for(var i=ft(e),r=i.length,a={},o=0;o<r;o++){var s=i[o];a[s]=t(e[s],s,e)}return a}function sn(){}function cn(e){return null==e?sn:function(t){return Yt(e,t)}}function ln(e,t,n){var i=Array(Math.max(0,e));t=tn(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i}function dn(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}bt.toPath=$t,bt.iteratee=rn;const hn=Date.now||function(){return(new Date).getTime()};function un(e){var t=function(t){return e[t]},n="(?:"+ft(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}}const pn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},fn=un(pn),gn=un(Rt(pn)),mn=bt.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var bn=/(.)^/,yn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},vn=/\\|'|\r|\n|\u2028|\u2029/g;function xn(e){return"\\"+yn[e]}var _n=/^\s*(\w|\$)+\s*$/;function wn(e,t,n){!t&&n&&(t=n),t=qt({},t,bt.templateSettings);var i=RegExp([(t.escape||bn).source,(t.interpolate||bn).source,(t.evaluate||bn).source].join("|")+"|$","g"),r=0,a="__p+='";e.replace(i,function(t,n,i,o,s){return a+=e.slice(r,s).replace(vn,xn),r=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n";var o,s=t.variable;if(s){if(!_n.test(s))throw new Error("variable is not a bare identifier: "+s)}else a="with(obj||{}){\n"+a+"}\n",s="obj";a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{o=new Function(s,"_",a)}catch(l){throw l.source=a,l}var c=function(e){return o.call(this,e,bt)};return c.source="function("+s+"){\n"+a+"}",c}function Dn(e,t,n){var i=(t=Kt(t)).length;if(!i)return $e(n)?n.call(e):n;for(var r=0;r<i;r++){var a=null==e?void 0:e[t[r]];void 0===a&&(a=n,r=i),e=$e(a)?a.call(e):a}return e}var Tn=0;function An(e){var t=++Tn+"";return e?e+t:t}function En(e){var t=bt(e);return t._chain=!0,t}function Cn(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var a=zt(e.prototype),o=e.apply(a,r);return Fe(o)?o:a}var kn=Oe(function(e,t){var n=kn.placeholder,i=function(){for(var r=0,a=t.length,o=Array(a),s=0;s<a;s++)o[s]=t[s]===n?arguments[r++]:t[s];for(;r<arguments.length;)o.push(arguments[r++]);return Cn(e,i,this,this,o)};return i});kn.placeholder=bt;const Sn=Oe(function(e,t,n){if(!$e(e))throw new TypeError("Bind must be called on a function");var i=Oe(function(r){return Cn(e,i,t,this,n.concat(r))});return i}),Un=ot(ut);function On(e,t,n,i){if(i=i||[],t||0===t){if(t<=0)return i.concat(e)}else t=1/0;for(var r=i.length,a=0,o=ut(e);a<o;a++){var s=e[a];if(Un(s)&&(Je(s)||nt(s)))if(t>1)On(s,t-1,n,i),r=i.length;else for(var c=0,l=s.length;c<l;)i[r++]=s[c++];else n||(i[r++]=s)}return i}const Fn=Oe(function(e,t){var n=(t=On(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=Sn(e[i],e)}return e});function Nn(e,t){var n=function(i){var r=n.cache,a=""+(t?t.apply(this,arguments):i);return et(r,a)||(r[a]=e.apply(this,arguments)),r[a]};return n.cache={},n}const Pn=Oe(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),In=kn(Pn,bt,1);function Mn(e,t,n){var i,r,a,o,s=0;n||(n={});var c=function(){s=!1===n.leading?0:hn(),i=null,o=e.apply(r,a),i||(r=a=null)},l=function(){var l=hn();s||!1!==n.leading||(s=l);var d=t-(l-s);return r=this,a=arguments,d<=0||d>t?(i&&(clearTimeout(i),i=null),s=l,o=e.apply(r,a),i||(r=a=null)):i||!1===n.trailing||(i=setTimeout(c,d)),o};return l.cancel=function(){clearTimeout(i),s=0,i=r=a=null},l}function Rn(e,t,n){var i,r,a,o,s,c=function(){var l=hn()-r;t>l?i=setTimeout(c,t-l):(i=null,n||(o=e.apply(s,a)),i||(a=s=null))},l=Oe(function(l){return s=this,a=l,r=hn(),i||(i=setTimeout(c,t),n&&(o=e.apply(s,a))),o});return l.cancel=function(){clearTimeout(i),i=a=s=null},l}function Bn(e,t){return kn(t,e)}function Ln(e){return function(){return!e.apply(this,arguments)}}function jn(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}}function Wn(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function qn(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}const zn=kn(qn,2);function Hn(e,t,n){t=an(t,n);for(var i,r=ft(e),a=0,o=r.length;a<o;a++)if(t(e[i=r[a]],i,e))return i}function Vn(e){return function(t,n,i){n=an(n,i);for(var r=ut(t),a=e>0?0:r-1;a>=0&&a<r;a+=e)if(n(t[a],a,t))return a;return-1}}const Gn=Vn(1),$n=Vn(-1);function Kn(e,t,n,i){for(var r=(n=an(n,i,1))(t),a=0,o=ut(e);a<o;){var s=Math.floor((a+o)/2);n(e[s])<r?a=s+1:o=s}return a}function Xn(e,t,n){return function(i,r,a){var o=0,s=ut(i);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return i[a=n(i,r)]===r?a:-1;if(r!=r)return(a=t(be.call(i,o,s),rt))>=0?a+o:-1;for(a=e>0?o:s-1;a>=0&&a<s;a+=e)if(i[a]===r)return a;return-1}}const Yn=Xn(1,Gn,Kn),Zn=Xn(-1,$n);function Qn(e,t,n){var i=(Un(e)?Gn:Hn)(e,t,n);if(void 0!==i&&-1!==i)return e[i]}function Jn(e,t){return Qn(e,Jt(t))}function ei(e,t,n){var i,r;if(t=tn(t,n),Un(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var a=ft(e);for(i=0,r=a.length;i<r;i++)t(e[a[i]],a[i],e)}return e}function ti(e,t,n){t=an(t,n);for(var i=!Un(e)&&ft(e),r=(i||e).length,a=Array(r),o=0;o<r;o++){var s=i?i[o]:o;a[o]=t(e[s],s,e)}return a}function ni(e){return function(t,n,i,r){var a=arguments.length>=3;return function(t,n,i,r){var a=!Un(t)&&ft(t),o=(a||t).length,s=e>0?0:o-1;for(r||(i=t[a?a[s]:s],s+=e);s>=0&&s<o;s+=e){var c=a?a[s]:s;i=n(i,t[c],c,t)}return i}(t,tn(n,r,4),i,a)}}const ii=ni(1),ri=ni(-1);function ai(e,t,n){var i=[];return t=an(t,n),ei(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i}function oi(e,t,n){return ai(e,Ln(an(t)),n)}function si(e,t,n){t=an(t,n);for(var i=!Un(e)&&ft(e),r=(i||e).length,a=0;a<r;a++){var o=i?i[a]:a;if(!t(e[o],o,e))return!1}return!0}function ci(e,t,n){t=an(t,n);for(var i=!Un(e)&&ft(e),r=(i||e).length,a=0;a<r;a++){var o=i?i[a]:a;if(t(e[o],o,e))return!0}return!1}function li(e,t,n,i){return Un(e)||(e=It(e)),("number"!=typeof n||i)&&(n=0),Yn(e,t,n)>=0}const di=Oe(function(e,t,n){var i,r;return $e(t)?r=t:(t=Kt(t),i=t.slice(0,-1),t=t[t.length-1]),ti(e,function(e){var a=r;if(!a){if(i&&i.length&&(e=Xt(e,i)),null==e)return;a=e[t]}return null==a?a:a.apply(e,n)})});function hi(e,t){return ti(e,en(t))}function ui(e,t){return ai(e,Jt(t))}function pi(e,t,n){var i,r,a=-1/0,o=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=Un(e)?e:It(e)).length;s<c;s++)null!=(i=e[s])&&i>a&&(a=i);else t=an(t,n),ei(e,function(e,n,i){((r=t(e,n,i))>o||r===-1/0&&a===-1/0)&&(a=e,o=r)});return a}function fi(e,t,n){var i,r,a=1/0,o=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,c=(e=Un(e)?e:It(e)).length;s<c;s++)null!=(i=e[s])&&i<a&&(a=i);else t=an(t,n),ei(e,function(e,n,i){((r=t(e,n,i))<o||r===1/0&&a===1/0)&&(a=e,o=r)});return a}var gi=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function mi(e){return e?Je(e)?be.call(e):Be(e)?e.match(gi):Un(e)?ti(e,Qt):It(e):[]}function bi(e,t,n){if(null==t||n)return Un(e)||(e=It(e)),e[dn(e.length-1)];var i=mi(e),r=ut(i);t=Math.max(Math.min(t,r),0);for(var a=r-1,o=0;o<t;o++){var s=dn(o,a),c=i[o];i[o]=i[s],i[s]=c}return i.slice(0,t)}function yi(e){return bi(e,1/0)}function vi(e,t,n){var i=0;return t=an(t,n),hi(ti(e,function(e,n,r){return{value:e,index:i++,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")}function xi(e,t){return function(n,i,r){var a=t?[[],[]]:{};return i=an(i,r),ei(n,function(t,r){var o=i(t,r,n);e(a,t,o)}),a}}const _i=xi(function(e,t,n){et(e,n)?e[n].push(t):e[n]=[t]}),wi=xi(function(e,t,n){e[n]=t}),Di=xi(function(e,t,n){et(e,n)?e[n]++:e[n]=1}),Ti=xi(function(e,t,n){e[n?0:1].push(t)},!0);function Ai(e){return null==e?0:Un(e)?e.length:ft(e).length}function Ei(e,t,n){return t in n}const Ci=Oe(function(e,t){var n={},i=t[0];if(null==e)return n;$e(i)?(t.length>1&&(i=tn(i,t[1])),t=Dt(e)):(i=Ei,t=On(t,!1,!1),e=Object(e));for(var r=0,a=t.length;r<a;r++){var o=t[r],s=e[o];i(s,o,e)&&(n[o]=s)}return n}),ki=Oe(function(e,t){var n,i=t[0];return $e(i)?(i=Ln(i),t.length>1&&(n=t[1])):(t=ti(On(t,!1,!1),String),i=function(e,n){return!li(t,n)}),Ci(e,i,n)});function Si(e,t,n){return be.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Ui(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:Si(e,e.length-t)}function Oi(e,t,n){return be.call(e,null==t||n?1:t)}function Fi(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:Oi(e,Math.max(0,e.length-t))}function Ni(e){return ai(e,Boolean)}function Pi(e,t){return On(e,t,!1)}const Ii=Oe(function(e,t){return t=On(t,!0,!0),ai(e,function(e){return!li(t,e)})}),Mi=Oe(function(e,t){return Ii(e,t)});function Ri(e,t,n,i){Ie(t)||(i=n,n=t,t=!1),null!=n&&(n=an(n,i));for(var r=[],a=[],o=0,s=ut(e);o<s;o++){var c=e[o],l=n?n(c,o,e):c;t&&!n?(o&&a===l||r.push(c),a=l):n?li(a,l)||(a.push(l),r.push(c)):li(r,c)||r.push(c)}return r}const Bi=Oe(function(e){return Ri(On(e,!0,!0))});function Li(e){for(var t=[],n=arguments.length,i=0,r=ut(e);i<r;i++){var a=e[i];if(!li(t,a)){var o;for(o=1;o<n&&li(arguments[o],a);o++);o===n&&t.push(a)}}return t}function ji(e){for(var t=e&&pi(e,ut).length||0,n=Array(t),i=0;i<t;i++)n[i]=hi(e,i);return n}const Wi=Oe(ji);function qi(e,t){for(var n={},i=0,r=ut(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n}function zi(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),a=0;a<i;a++,e+=n)r[a]=e;return r}function Hi(e,t){if(null==t||t<1)return[];for(var n=[],i=0,r=e.length;i<r;)n.push(be.call(e,i,i+=t));return n}function Vi(e,t){return e._chain?bt(t).chain():t}function Gi(e){return ei(Bt(e),function(t){var n=bt[t]=e[t];bt.prototype[t]=function(){var e=[this._wrapped];return me.apply(e,arguments),Vi(this,n.apply(bt,e))}}),bt}ei(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=pe[e];bt.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Vi(this,n)}}),ei(["concat","join","slice"],function(e){var t=pe[e];bt.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Vi(this,e)}});var $i=Gi(Object.freeze(Object.defineProperty({__proto__:null,VERSION:he,after:Wn,all:si,allKeys:Dt,any:ci,assign:Wt,before:qn,bind:Sn,bindAll:Fn,chain:En,chunk:Hi,clone:Vt,collect:ti,compact:Ni,compose:jn,constant:at,contains:li,countBy:Di,create:Ht,debounce:Rn,default:bt,defaults:qt,defer:In,delay:Pn,detect:Qn,difference:Ii,drop:Oi,each:ei,escape:fn,every:si,extend:jt,extendOwn:Wt,filter:ai,find:Qn,findIndex:Gn,findKey:Hn,findLastIndex:$n,findWhere:Jn,first:Ui,flatten:Pi,foldl:ii,foldr:ri,forEach:ei,functions:Bt,get:Yt,groupBy:_i,has:Zt,head:Ui,identity:Qt,include:li,includes:li,indexBy:wi,indexOf:Yn,initial:Si,inject:ii,intersection:Li,invert:Rt,invoke:di,isArguments:nt,isArray:Je,isArrayBuffer:He,isBoolean:Ie,isDataView:Qe,isDate:je,isElement:Me,isEmpty:gt,isEqual:wt,isError:qe,isFinite:it,isFunction:$e,isMap:Ot,isMatch:mt,isNaN:rt,isNull:Ne,isNumber:Le,isObject:Fe,isRegExp:We,isSet:Nt,isString:Be,isSymbol:ze,isTypedArray:ht,isUndefined:Pe,isWeakMap:Ft,isWeakSet:Pt,iteratee:rn,keys:ft,last:Fi,lastIndexOf:Zn,map:ti,mapObject:on,matcher:Jt,matches:Jt,max:pi,memoize:Nn,methods:Bt,min:fi,mixin:Gi,negate:Ln,noop:sn,now:hn,object:qi,omit:ki,once:zn,pairs:Mt,partial:kn,partition:Ti,pick:Ci,pluck:hi,property:en,propertyOf:cn,random:dn,range:zi,reduce:ii,reduceRight:ri,reject:oi,rest:Oi,restArguments:Oe,result:Dn,sample:bi,select:ai,shuffle:yi,size:Ai,some:ci,sortBy:vi,sortedIndex:Kn,tail:Oi,take:Ui,tap:Gt,template:wn,templateSettings:mn,throttle:Mn,times:ln,toArray:mi,toPath:$t,transpose:ji,unescape:gn,union:Bi,uniq:Ri,unique:Ri,uniqueId:An,unzip:ji,values:It,where:ui,without:Mi,wrap:Bn,zip:Wi},Symbol.toStringTag,{value:"Module"})));$i._=$i;const Ki=c(Object.freeze(Object.defineProperty({__proto__:null,VERSION:he,after:Wn,all:si,allKeys:Dt,any:ci,assign:Wt,before:qn,bind:Sn,bindAll:Fn,chain:En,chunk:Hi,clone:Vt,collect:ti,compact:Ni,compose:jn,constant:at,contains:li,countBy:Di,create:Ht,debounce:Rn,default:$i,defaults:qt,defer:In,delay:Pn,detect:Qn,difference:Ii,drop:Oi,each:ei,escape:fn,every:si,extend:jt,extendOwn:Wt,filter:ai,find:Qn,findIndex:Gn,findKey:Hn,findLastIndex:$n,findWhere:Jn,first:Ui,flatten:Pi,foldl:ii,foldr:ri,forEach:ei,functions:Bt,get:Yt,groupBy:_i,has:Zt,head:Ui,identity:Qt,include:li,includes:li,indexBy:wi,indexOf:Yn,initial:Si,inject:ii,intersection:Li,invert:Rt,invoke:di,isArguments:nt,isArray:Je,isArrayBuffer:He,isBoolean:Ie,isDataView:Qe,isDate:je,isElement:Me,isEmpty:gt,isEqual:wt,isError:qe,isFinite:it,isFunction:$e,isMap:Ot,isMatch:mt,isNaN:rt,isNull:Ne,isNumber:Le,isObject:Fe,isRegExp:We,isSet:Nt,isString:Be,isSymbol:ze,isTypedArray:ht,isUndefined:Pe,isWeakMap:Ft,isWeakSet:Pt,iteratee:rn,keys:ft,last:Fi,lastIndexOf:Zn,map:ti,mapObject:on,matcher:Jt,matches:Jt,max:pi,memoize:Nn,methods:Bt,min:fi,mixin:Gi,negate:Ln,noop:sn,now:hn,object:qi,omit:ki,once:zn,pairs:Mt,partial:kn,partition:Ti,pick:Ci,pluck:hi,property:en,propertyOf:cn,random:dn,range:zi,reduce:ii,reduceRight:ri,reject:oi,rest:Oi,restArguments:Oe,result:Dn,sample:bi,select:ai,shuffle:yi,size:Ai,some:ci,sortBy:vi,sortedIndex:Kn,tail:Oi,take:Ui,tap:Gt,template:wn,templateSettings:mn,throttle:Mn,times:ln,toArray:mi,toPath:$t,transpose:ji,unescape:gn,union:Bi,uniq:Ri,unique:Ri,uniqueId:An,unzip:ji,values:It,where:ui,without:Mi,wrap:Bn,zip:Wi},Symbol.toStringTag,{value:"Module"})));var Xi,Yi,Zi,Qi={},Ji={},er={exports:{}},tr={exports:{}};function nr(){if(Xi)return tr.exports;Xi=1;var e=function(){return void 0===this}();if(e)tr.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:e,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var t={}.hasOwnProperty,n={}.toString,i={}.constructor.prototype,r=function(e){var n=[];for(var i in e)t.call(e,i)&&n.push(i);return n};tr.exports={isArray:function(e){try{return"[object Array]"===n.call(e)}catch(t){return!1}},keys:r,names:r,defineProperty:function(e,t,n){return e[t]=n.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(t){return i}},isES5:e,propertyIsWritable:function(){return!0}}}return tr.exports}function ir(){if(Zi)return Yi;Zi=1;var e,t={},n=nr(),i="undefined"==typeof navigator,r={e:{}},a="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==l||void 0!==l?l:null;function o(){try{var t=e;return e=null,t.apply(this,arguments)}catch(n){return r.e=n,r}}function s(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function c(e,t,i){if(s(e))return e;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return n.defineProperty(e,t,r),e}var d=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(n.isES5){var i=Object.getOwnPropertyNames;return function(e){for(var r=[],a=Object.create(null);null!=e&&!t(e);){var o;try{o=i(e)}catch(d){return r}for(var s=0;s<o.length;++s){var c=o[s];if(!a[c]){a[c]=!0;var l=Object.getOwnPropertyDescriptor(e,c);null!=l&&null==l.get&&null==l.set&&r.push(c)}}e=n.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var a in n)if(r.call(n,a))i.push(a);else{for(var o=0;o<e.length;++o)if(r.call(e[o],a))continue e;i.push(a)}return i}}(),h=/this\s*\.\s*\S+\s*=/;var u=/^[a-z$_][a-z$_0-9]*$/i;function p(e){try{return e+""}catch(t){return"[no string representation]"}}function f(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function g(e){return f(e)&&n.propertyIsWritable(e,"stack")}var m="stack"in new Error?function(e){return g(e)?e:new Error(p(e))}:function(e){if(g(e))return e;try{throw new Error(p(e))}catch(t){return t}};function b(e){return{}.toString.call(e)}var y=function(e){return n.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var v="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],i=e[Symbol.iterator]();!(t=i.next()).done;)n.push(t.value);return n};y=function(e){return n.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?v(e):null}}var x="undefined"!=typeof process&&"[object process]"===b(process).toLowerCase(),_="undefined"!=typeof process&&!0;var w={isClass:function(e){try{if("function"==typeof e){var t=n.names(e.prototype),i=n.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),a=h.test(e+"")&&n.names(e).length>0;if(i||r||a)return!0}return!1}catch(o){return!1}},isIdentifier:function(e){return u.test(e)},inheritedDataKeys:d,getDataPropertyOrDefault:function(e,t,i){if(!n.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(e){throw e},isArray:n.isArray,asArray:y,notEnumerableProp:c,isPrimitive:s,isObject:function(e){return"function"==typeof e||"object"==typeof e&&null!==e},isError:f,canEvaluate:i,errorObj:r,tryCatch:function(t){return e=t,o},inherits:function(e,t){var n={}.hasOwnProperty;function i(){for(var i in this.constructor=e,this.constructor$=t,t.prototype)n.call(t.prototype,i)&&"$"!==i.charAt(i.length-1)&&(this[i+"$"]=t.prototype[i])}return i.prototype=t.prototype,e.prototype=new i,e.prototype},withAppended:function(e,t){var n,i=e.length,r=new Array(i+1);for(n=0;n<i;++n)r[n]=e[n];return r[n]=t,r},maybeWrapAsError:function(e){return s(e)?new Error(p(e)):e},toFastProperties:function(e){return e},filledRange:function(e,t,n){for(var i=new Array(e),r=0;r<e;++r)i[r]=t+r+n;return i},toString:p,canAttachTrace:g,ensureErrorObject:m,originatesFromRejection:function(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)},markAsOriginatingFromRejection:function(e){try{c(e,"isOperational",!0)}catch(t){}},classString:b,copyDescriptors:function(e,t,i){for(var r=n.names(e),a=0;a<r.length;++a){var o=r[a];if(i(o))try{n.defineProperty(t,o,n.getDescriptor(e,o))}catch(s){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:x,hasEnvVariables:_,env:function(e){return _?t[e]:void 0},global:a,getNativePromise:function(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(t){}},domainBind:function(e,t){return e.bind(t)}};w.isRecentNode=w.isNode&&function(){var e=process.versions.node.split(".").map(Number);return 0===e[0]&&e[1]>10||e[0]>0}(),w.isNode&&w.toFastProperties(process);try{throw new Error}catch(D){w.lastLineError=D}return Yi=w}var rr,ar,or,sr,cr,lr,dr,hr,ur,pr,fr,gr,mr,br,yr,vr,xr,_r,wr,Dr,Tr,Ar,Er,Cr,kr,Sr,Ur,Or,Fr,Nr,Pr,Ir,Mr,Rr,Br,Lr,jr,Wr,qr,zr,Hr,Vr,Gr,$r,Kr,Xr,Yr,Zr,Qr,Jr,ea,ta,na,ia,ra,aa,oa,sa,ca,la,da,ha,ua,pa,fa={exports:{}};function ga(){if(ar)return rr;ar=1;var e,t=ir(),n=t.getNativePromise();if(t.isNode&&"undefined"==typeof MutationObserver){var i=l.setImmediate,r=process.nextTick;e=t.isRecentNode?function(e){i.call(l,e)}:function(e){r.call(process,e)}}else if("function"==typeof n&&"function"==typeof n.resolve){var a=n.resolve();e=function(e){a.then(e)}}else e="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,i=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),n=!1}).observe(i,t);return function(r){var a=new MutationObserver(function(){a.disconnect(),r()});a.observe(e,t),n||(n=!0,i.classList.toggle("foo"))}}();return rr=e}function ma(){if(cr)return fa.exports;var e;cr=1;try{throw new Error}catch(c){e=c}var t=ga(),n=function(){if(sr)return or;function e(e){this._capacity=e,this._length=0,this._front=0}return sr=1,e.prototype._willBeOverCapacity=function(e){return this._capacity<e},e.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},e.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var a=this._capacity-1;this[r+0&a]=e,this[r+1&a]=t,this[r+2&a]=n,this._length=i},e.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,function(e,t,n,i,r){for(var a=0;a<r;++a)n[a+i]=e[a+t],e[a+t]=void 0}(this,0,this,t,this._front+this._length&t-1)},or=e}(),i=ir();function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=t}function a(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function o(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function s(e){this._normalQueue._pushOne(e),this._queueTick()}return r.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){i.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},r.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(c){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},i.hasDevTools?(r.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?a.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},r.prototype.invoke=function(e,t,n){this._trampolineEnabled?o.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},r.prototype.settlePromises=function(e){this._trampolineEnabled?s.call(this,e):this._schedule(function(){e._settlePromises()})}):(r.prototype.invokeLater=a,r.prototype.invoke=o,r.prototype.settlePromises=s),r.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),i=e.shift();t.call(n,i)}else t._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},fa.exports=r,fa.exports.firstLineError=e,fa.exports}function ba(){if(dr)return lr;dr=1;var e,t,n=nr(),i=n.freeze,r=ir(),a=r.inherits,o=r.notEnumerableProp;function s(e,t){function n(i){if(!(this instanceof n))return new n(i);o(this,"message","string"==typeof i?i:t),o(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return a(n,Error),n}var c=s("Warning","warning"),l=s("CancellationError","cancellation error"),d=s("TimeoutError","timeout error"),h=s("AggregateError","aggregate error");try{e=TypeError,t=RangeError}catch(b){e=s("TypeError","type error"),t=s("RangeError","range error")}for(var u="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<u.length;++p)"function"==typeof Array.prototype[u[p]]&&(h.prototype[u[p]]=Array.prototype[u[p]]);n.defineProperty(h.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),h.prototype.isOperational=!0;var f=0;function g(e){if(!(this instanceof g))return new g(e);o(this,"name","OperationalError"),o(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(o(this,"message",e.message),o(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}h.prototype.toString=function(){var e=Array(4*f+1).join(" "),t="\n"+e+"AggregateError of:\n";f++,e=Array(4*f+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),a=0;a<r.length;++a)r[a]=e+r[a];t+=(i=r.join("\n"))+"\n"}return f--,t},a(g,Error);var m=Error.__BluebirdErrorTypes__;return m||(m=i({CancellationError:l,TimeoutError:d,OperationalError:g,RejectionError:g,AggregateError:h}),n.defineProperty(Error,"__BluebirdErrorTypes__",{value:m,writable:!1,enumerable:!1,configurable:!1})),lr={Error:Error,TypeError:e,RangeError:t,CancellationError:m.CancellationError,OperationalError:m.OperationalError,TimeoutError:m.TimeoutError,AggregateError:m.AggregateError,Warning:c}}function ya(){return ur||(ur=1,hr=function(e,t){var n=ir(),i=n.errorObj,r=n.isObject;var a={}.hasOwnProperty;return function(o,s){if(r(o)){if(o instanceof e)return o;var c=function(e){try{return function(e){return e.then}(e)}catch(t){return i.e=t,i}}(o);if(c===i){s&&s._pushContext();var l=e.reject(c.e);return s&&s._popContext(),l}if("function"==typeof c){if(function(e){try{return a.call(e,"_promise0")}catch(t){return!1}}(o)){l=new e(t);return o._then(l._fulfill,l._reject,void 0,l,null),l}return function(r,a,o){var s=new e(t),c=s;o&&o._pushContext();s._captureStackTrace(),o&&o._popContext();var l=!0,d=n.tryCatch(a).call(r,h,u);l=!1,s&&d===i&&(s._rejectCallback(d.e,!0,!0),s=null);function h(e){s&&(s._resolveCallback(e),s=null)}function u(e){s&&(s._rejectCallback(e,l,!0),s=null)}return c}(o,c,s)}}return o}}),hr}function va(){return yr||(yr=1,br=function(e,t){var n,i,r,a=e._getDomain,o=e._async,s=ba().Warning,c=ir(),l=c.canAttachTrace,d=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,h=/\((?:timers\.js):\d+:\d+\)/,u=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,f=null,g=!1,m=!(0==c.env("BLUEBIRD_DEBUG")||!c.env("BLUEBIRD_DEBUG")&&"development"!==c.env("NODE_ENV")),b=!(0==c.env("BLUEBIRD_WARNINGS")||!m&&!c.env("BLUEBIRD_WARNINGS")),y=!(0==c.env("BLUEBIRD_LONG_STACK_TRACES")||!m&&!c.env("BLUEBIRD_LONG_STACK_TRACES")),v=0!=c.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(b||!!c.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},e.prototype._ensurePossibleRejectionHandled=function(){524288&this._bitField||(this._setRejectionIsUnhandled(),o.invokeLater(this._notifyUnhandledRejection,this,void 0))},e.prototype._notifyUnhandledRejectionIsHandled=function(){W("rejectionHandled",n,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return!!(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),W("unhandledRejection",i,e,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(e,t,n){return R(e,t,n||this)},e.onPossiblyUnhandledRejection=function(e){var t=a();i="function"==typeof e?null===t?e:c.domainBind(t,e):void 0},e.onUnhandledRejectionHandled=function(e){var t=a();n="function"==typeof e?null===t?e:c.domainBind(t,e):void 0};var x=function(){};e.longStackTraces=function(){if(o.haveItemsQueued()&&!X.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!X.longStackTraces&&z()){var n=e.prototype._captureStackTrace,i=e.prototype._attachExtraTrace;X.longStackTraces=!0,x=function(){if(o.haveItemsQueued()&&!X.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=n,e.prototype._attachExtraTrace=i,t.deactivateLongStackTraces(),o.enableTrampoline(),X.longStackTraces=!1},e.prototype._captureStackTrace=I,e.prototype._attachExtraTrace=M,t.activateLongStackTraces(),o.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return X.longStackTraces&&z()};var _=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return c.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!c.global.dispatchEvent(n)}}if("function"==typeof Event){e=new Event("CustomEvent");return c.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!c.global.dispatchEvent(n)}}return(e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),c.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!c.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),w=c.isNode?function(){return process.emit.apply(process,arguments)}:c.global?function(e){var t="on"+e.toLowerCase(),n=c.global[t];return!!n&&(n.apply(c.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function D(e,t){return{promise:t}}var T={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:D},A=function(e){var t=!1;try{t=w.apply(null,arguments)}catch(i){o.throwLater(i),t=!0}var n=!1;try{n=_(e,T[e].apply(null,arguments))}catch(i){o.throwLater(i),n=!0}return n||t};function E(){return!1}function C(e,t,n){var i=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+c.toString(e));i._attachCancellationCallback(e)})}catch(r){return r}}function k(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?c.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function S(){return this._onCancelField}function U(e){this._onCancelField=e}function O(){this._cancellationParent=void 0,this._onCancelField=void 0}function F(e,t){if(1&t){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}2&t&&e._isBound()&&this._setBoundTo(e._boundTo)}e.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&x()),"warnings"in t){var n=t.warnings;X.warnings=!!n,v=X.warnings,c.isObject(n)&&"wForgottenReturn"in n&&(v=!!n.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!X.cancellation){if(o.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=O,e.prototype._propagateFrom=F,e.prototype._onCancel=S,e.prototype._setOnCancel=U,e.prototype._attachCancellationCallback=k,e.prototype._execute=C,N=F,X.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!X.monitoring?(X.monitoring=!0,e.prototype._fireEvent=A):!t.monitoring&&X.monitoring&&(X.monitoring=!1,e.prototype._fireEvent=E)),e},e.prototype._fireEvent=E,e.prototype._execute=function(e,t,n){try{e(t,n)}catch(i){return i}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(e){},e.prototype._attachCancellationCallback=function(e){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(e,t){};var N=function(e,t){2&t&&e._isBound()&&this._setBoundTo(e._boundTo)};function P(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function I(){this._trace=new $(this._peekContext())}function M(e,t){if(l(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=L(e);c.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),c.notEnumerableProp(e,"__stackCleaned__",!0)}}}function R(t,n,i){if(X.warnings){var r,a=new s(t);if(n)i._attachExtraTrace(a);else if(X.longStackTraces&&(r=e._peekContext()))r.attachExtraTrace(a);else{var o=L(a);a.stack=o.message+"\n"+o.stack.join("\n")}A("warning",a)||j(a,"",!0)}}function B(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],r="    (No stack trace)"===i||p.test(i),a=r&&H(i);r&&!a&&(g&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t}function L(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||p.test(i))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:B(t)}}function j(e,t,n){if("undefined"!=typeof console){var i;if(c.isObject(e)){var a=e.stack;i=t+f(a,e)}else i=t+String(e);"function"==typeof r?r(i,n):"function"==typeof console.log||console.log}}function W(e,t,n,i){var r=!1;try{"function"==typeof t&&(r=!0,"rejectionHandled"===e?t(i):t(n,i))}catch(a){o.throwLater(a)}"unhandledRejection"===e?A(e,n,i)||r||j(n,"Unhandled rejection "):A(e,i)}function q(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():c.toString(e);if(/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(n){}0===t.length&&(t="(empty array)")}return"(<"+function(e){var t=41;if(e.length<t)return e;return e.substr(0,t-3)+"..."}(t)+">, no stack trace)"}function z(){return"function"==typeof K}var H=function(){return!1},V=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function G(e){var t=e.match(V);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function $(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);K(this,$),t>32&&this.uncycle()}c.inherits($,Error),t.CapturedTrace=$,$.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},i=0,r=this;void 0!==r;++i)t.push(r),r=r._parent;for(i=(e=this._length=i)-1;i>=0;--i){var a=t[i].stack;void 0===n[a]&&(n[a]=i)}for(i=0;i<e;++i){var o=n[t[i].stack];if(void 0!==o&&o!==i){o>0&&(t[o-1]._parent=void 0,t[o-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var s=i>0?t[i-1]:this;o<e-1?(s._parent=t[o+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var c=s._length+1,l=i-2;l>=0;--l)t[l]._length=c,c++;return}}}},$.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=L(e),n=t.message,i=[t.stack],r=this;void 0!==r;)i.push(B(r.stack.split("\n"))),r=r._parent;!function(e){for(var t=e[0],n=1;n<e.length;++n){for(var i=e[n],r=t.length-1,a=t[r],o=-1,s=i.length-1;s>=0;--s)if(i[s]===a){o=s;break}for(s=o;s>=0;--s){var c=i[s];if(t[r]!==c)break;t.pop(),r--}t=i}}(i),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(i),c.notEnumerableProp(e,"stack",function(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}(n,i)),c.notEnumerableProp(e,"__stackCleaned__",!0)}};var K=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():q(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,p=e,f=t;var n=Error.captureStackTrace;return H=function(e){return d.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var i,r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,f=t,g=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(a){i="stack"in a}return!("stack"in r)&&i&&"number"==typeof Error.stackTraceLimit?(p=e,f=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(a){e.stack=a.stack}Error.stackTraceLimit-=6}):(f=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?q(t):t.toString()},null)}();"undefined"!=typeof console&&void 0!==console.warn&&(r=function(e){},c.isNode&&process.stderr.isTTY?r=function(e,t){}:c.isNode||"string"!=typeof(new Error).stack||(r=function(e,t){}));var X={warnings:b,longStackTraces:!1,cancellation:!1,monitoring:!1};return y&&e.longStackTraces(),{longStackTraces:function(){return X.longStackTraces},warnings:function(){return X.warnings},cancellation:function(){return X.cancellation},monitoring:function(){return X.monitoring},propagateFromFunction:function(){return N},boundValueFunction:function(){return P},checkForgottenReturns:function(e,t,n,i,r){if(void 0===e&&null!==t&&v){if(void 0!==r&&r._returnedNonUndefined())return;if(!(65535&i._bitField))return;n&&(n+=" ");var a="",o="";if(t._trace){for(var s=t._trace.stack.split("\n"),c=B(s),l=c.length-1;l>=0;--l){var d=c[l];if(!h.test(d)){var p=d.match(u);p&&(a="at "+p[1]+":"+p[2]+":"+p[3]+" ");break}}if(c.length>0){var f=c[0];for(l=0;l<s.length;++l)if(s[l]===f){l>0&&(o="\n"+s[l-1]);break}}}var g="a promise was created in a "+n+"handler "+a+"but was not returned from it, see http://goo.gl/rRqMUw"+o;i._warn(g,!0,t)}},setBounds:function(e,t){if(z()){for(var n,i,r=e.stack.split("\n"),a=t.stack.split("\n"),o=-1,s=-1,c=0;c<r.length;++c){if(l=G(r[c])){n=l.fileName,o=l.line;break}}for(c=0;c<a.length;++c){var l;if(l=G(a[c])){i=l.fileName,s=l.line;break}}o<0||s<0||!n||!i||n!==i||o>=s||(H=function(e){if(d.test(e))return!0;var t=G(e);return!!(t&&t.fileName===n&&o<=t.line&&t.line<=s)})}},warn:R,deprecated:function(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),R(n)},CapturedTrace:$,fireDomEvent:_,fireGlobalEvent:w}}),br}function xa(){if(Tr)return Dr;Tr=1;var e=ir(),t=e.maybeWrapAsError,n=ba().OperationalError,i=nr();var r=/^(?:name|message|stack|cause)$/;function a(t){var a;if(function(e){return e instanceof Error&&i.getPrototypeOf(e)===Error.prototype}(t)){(a=new n(t)).name=t.name,a.message=t.message,a.stack=t.stack;for(var o=i.keys(t),s=0;s<o.length;++s){var c=o[s];r.test(c)||(a[c]=t[c])}return a}return e.markAsOriginatingFromRejection(t),t}return Dr=function(e,n){return function(i,r){if(null!==e){if(i){var o=a(t(i));e._attachExtraTrace(o),e._reject(o)}else if(n){for(var s=arguments.length,c=new Array(Math.max(s-1,0)),l=1;l<s;++l)c[l-1]=arguments[l];e._fulfill(c)}else e._fulfill(r);e=null}}},Dr}function _a(){return Pr||(Pr=1,Nr=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.isFulfilled=function(){return!!(33554432&this._bitField)},a=t.prototype.isRejected=function(){return!!(16777216&this._bitField)},o=t.prototype.isPending=function(){return!(50397184&this._bitField)},s=t.prototype.isResolved=function(){return!!(50331648&this._bitField)};t.prototype.isCancelled=function(){return!!(8454144&this._bitField)},e.prototype.__isCancelled=function(){return!(65536&~this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return!!(8454144&this._target()._bitField)},e.prototype.isPending=function(){return o.call(this._target())},e.prototype.isRejected=function(){return a.call(this._target())},e.prototype.isFulfilled=function(){return r.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),i.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}),Nr}function wa(){return Br||(Br=1,Rr=function(e,t,n,i,r,a){var o=e._getDomain,s=ir(),c=s.tryCatch,l=s.errorObj,d=e._async;function h(e,t,n,i){this.constructor$(e),this._promise._captureStackTrace();var a=o();this._callback=null===a?t:s.domainBind(a,t),this._preservedValues=i===r?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}function u(t,i,r,a){if("function"!=typeof i)return n("expecting a function but got "+s.classString(i));var o=0;if(void 0!==r){if("object"!=typeof r||null===r)return e.reject(new TypeError("options argument must be an object but it is "+s.classString(r)));if("number"!=typeof r.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+s.classString(r.concurrency)));o=r.concurrency}return new h(t,i,o="number"==typeof o&&isFinite(o)&&o>=1?o:0,a).promise()}s.inherits(h,t),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),s=this._preservedValues,d=this._limit;if(n<0){if(r[n=-1*n-1]=t,d>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(d>=1&&this._inFlight>=d)return r[n]=t,this._queue.push(n),!1;null!==s&&(s[n]=t);var h=this._promise,u=this._callback,p=h._boundValue();h._pushContext();var f=c(u).call(p,t,n,o),g=h._popContext();if(a.checkForgottenReturns(f,g,null!==s?"Promise.filter":"Promise.map",h),f===l)return this._reject(f.e),!0;var m=i(f,this._promise);if(m instanceof e){var b=(m=m._target())._bitField;if(!(50397184&b))return d>=1&&this._inFlight++,r[n]=m,m._proxy(this,-1*(n+1)),!1;if(!(33554432&b))return 16777216&b?(this._reject(m._reason()),!0):(this._cancel(),!0);f=m._value()}r[n]=f}return++this._totalResolved>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},h.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}},h.prototype._filter=function(e,t){for(var n=t.length,i=new Array(n),r=0,a=0;a<n;++a)e[a]&&(i[r++]=t[a]);i.length=r,this._resolve(i)},h.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(e,t){return u(this,e,t,null)},e.map=function(e,t,n,i){return u(e,t,n,i)}}),Rr}function Da(){return qr||(qr=1,Wr=function(e,t,n,i,r,a){var o=ir(),s=ba().TypeError,c=ir().inherits,l=o.errorObj,d=o.tryCatch,h={};function u(e){setTimeout(function(){throw e},0)}function p(t,i){var a=0,o=t.length,s=new e(r);return function r(){if(a>=o)return s._fulfill();var c=function(e){var t=n(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}(t[a++]);if(c instanceof e&&c._isDisposable()){try{c=n(c._getDisposer().tryDispose(i),t.promise)}catch(l){return u(l)}if(c instanceof e)return c._then(r,u,null,null,null)}r()}(),s}function f(e,t,n){this._data=e,this._promise=t,this._context=n}function g(e,t,n){this.constructor$(e,t,n)}function m(e){return f.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function b(e){this.length=e,this.promise=null,this[e-1]=null}f.prototype.data=function(){return this._data},f.prototype.promise=function(){return this._promise},f.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},f.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=t!==h?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},f.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},c(g,f),g.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},b.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var i=this[n];i instanceof e&&i.cancel()}},e.using=function(){var i=arguments.length;if(i<2)return t("you must pass at least 2 arguments to Promise.using");var r,s=arguments[i-1];if("function"!=typeof s)return t("expecting a function but got "+o.classString(s));var c=!0;2===i&&Array.isArray(arguments[0])?(i=(r=arguments[0]).length,c=!1):(r=arguments,i--);for(var h=new b(i),u=0;u<i;++u){var g=r[u];if(f.isDisposer(g)){var y=g;(g=g.promise())._setDisposable(y)}else{var v=n(g);v instanceof e&&(g=v._then(m,null,null,{resources:h,index:u},void 0))}h[u]=g}var x=new Array(h.length);for(u=0;u<x.length;++u)x[u]=e.resolve(h[u]).reflect();var _=e.all(x).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return l.e=n.error(),l;if(!n.isFulfilled())return void _.cancel();e[t]=n.value()}w._pushContext(),s=d(s);var i=c?s.apply(void 0,e):s(e),r=w._popContext();return a.checkForgottenReturns(i,r,"Promise.using",w),i}),w=_.lastly(function(){var t=new e.PromiseInspection(_);return p(h,t)});return h.promise=w,w._setOnCancel(h),w},e.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(e){if("function"==typeof e)return new g(e,this,i());throw new s}}),Wr}function Ta(){return Hr||(Hr=1,zr=function(e,t,n){var i=ir(),r=e.TimeoutError;function a(e){this.handle=e}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var o=function(e){return s(+this).thenReturn(e)},s=e.delay=function(i,r){var s,c;return void 0!==r?(s=e.resolve(r)._then(o,null,null,i,void 0),n.cancellation()&&r instanceof e&&s._setOnCancel(r)):(s=new e(t),c=setTimeout(function(){s._fulfill()},+i),n.cancellation()&&s._setOnCancel(new a(c)),s._captureStackTrace()),s._setAsyncGuaranteed(),s};e.prototype.delay=function(e){return s(e,this)};function c(e){return clearTimeout(this.handle),e}function l(e){throw clearTimeout(this.handle),e}e.prototype.timeout=function(e,t){var o,s;e=+e;var d=new a(setTimeout(function(){o.isPending()&&function(e,t,n){var a;a="string"!=typeof t?t instanceof Error?t:new r("operation timed out"):new r(t),i.markAsOriginatingFromRejection(a),e._attachExtraTrace(a),e._reject(a),null!=n&&n.cancel()}(o,t,s)},e));return n.cancellation()?(s=this.then(),(o=s._then(c,l,void 0,d,void 0))._setOnCancel(d)):o=this._then(c,l,void 0,d,void 0),o}}),zr}function Aa(){return Gr||(Gr=1,Vr=function(e,t,n,i,r,a){var o=ba().TypeError,s=ir(),c=s.errorObj,l=s.tryCatch,d=[];function h(t,i,r,o){if(a.cancellation()){var s=new e(n),c=this._finallyPromise=new e(n);this._promise=s.lastly(function(){return c}),s._captureStackTrace(),s._setOnCancel(this)}else{(this._promise=new e(n))._captureStackTrace()}this._stack=o,this._generatorFunction=t,this._receiver=i,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(d):d,this._yieldedPromise=null,this._cancellationPhase=!1}s.inherits(h,r),h.prototype._isResolved=function(){return null===this._promise},h.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},h.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=l(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),t=l(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},h.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=l(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},h.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=l(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},h.prototype.promise=function(){return this._promise},h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},h.prototype._continue=function(t){var n=this._promise;if(t===c)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var a=i(r,this._promise);if(a instanceof e||(a=function(t,n,r){for(var a=0;a<n.length;++a){r._pushContext();var o=l(n[a])(t);if(r._popContext(),o===c){r._pushContext();var s=e.reject(c.e);return r._popContext(),s}var d=i(o,r);if(d instanceof e)return d}return null}(a,this._yieldHandlers,this._promise),null!==a)){var s=(a=a._target())._bitField;50397184&s?33554432&s?e._async.invoke(this._promiseFulfilled,this,a._value()):16777216&s?e._async.invoke(this._promiseRejected,this,a._reason()):this._promiseCancelled():(this._yieldedPromise=a,a._proxy(this,null))}else this._promiseRejected(new o("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(e,t){if("function"!=typeof e)throw new o("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,i=h,r=(new Error).stack;return function(){var t=e.apply(this,arguments),a=new i(void 0,void 0,n,r),o=a.promise();return a._generator=t,a._promiseFulfilled(void 0),o}},e.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new o("expecting a function but got "+s.classString(e));d.push(e)},e.spawn=function(n){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof n)return t("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new h(n,this),r=i.promise();return i._run(e.spawn),r}}),Vr}function Ea(){return Yr||(Yr=1,Xr=function(e,t){var n={},i=ir(),r=xa(),a=i.withAppended,o=i.maybeWrapAsError,s=i.canEvaluate,c=ba().TypeError,l={__isPromisified__:!0},d=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),h=function(e){return i.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function u(e){return!d.test(e)}function p(e){try{return!0===e.__isPromisified__}catch(t){return!1}}function f(e,t,n){var r=i.getDataPropertyOrDefault(e,t+n,l);return!!r&&p(r)}function g(e,t,n,r){for(var a=i.inheritedDataKeys(e),o=[],s=0;s<a.length;++s){var l=a[s],d=e[l],u=r===h||h(l);"function"!=typeof d||p(d)||f(e,l,t)||!r(l,d,e,u)||o.push(l,d)}return function(e,t,n){for(var i=0;i<e.length;i+=2){var r=e[i];if(n.test(r))for(var a=r.replace(n,""),o=0;o<e.length;o+=2)if(e[o]===a)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(o,t,n),o}var m;m=function(s,c,l,d,h,u){var p=Math.max(0,function(e){return"number"==typeof e.length?Math.max(Math.min(e.length,1024),0):0}(d)-1),f=function(e){for(var t=[e],n=Math.max(0,e-1-3),i=e-1;i>=n;--i)t.push(i);for(i=e+1;i<=3;++i)t.push(i);return t}(p),g="string"==typeof s||c===n;function m(e){var t,n=(t=e,i.filledRange(t,"_arg","")).join(", "),r=e>0?", ":"";return(g?"ret = callback.call(this, {{args}}, nodeback); break;\n":void 0===c?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n").replace("{{args}}",n).replace(", ",r)}var b="string"==typeof s?"this != null ? this['"+s+"'] : fn":"fn",y="'use strict';                                                \n\t        var ret = function (Parameters) {                                    \n\t            'use strict';                                                    \n\t            var len = arguments.length;                                      \n\t            var promise = new Promise(INTERNAL);                             \n\t            promise._captureStackTrace();                                    \n\t            var nodeback = nodebackForPromise(promise, "+u+");   \n\t            var ret;                                                         \n\t            var callback = tryCatch([GetFunctionCode]);                      \n\t            switch(len) {                                                    \n\t                [CodeForSwitchCase]                                          \n\t            }                                                                \n\t            if (ret === errorObj) {                                          \n\t                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n\t            }                                                                \n\t            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n\t            return promise;                                                  \n\t        };                                                                   \n\t        notEnumerableProp(ret, '__isPromisified__', true);                   \n\t        return ret;                                                          \n\t    ".replace("[CodeForSwitchCase]",function(){for(var e="",t=0;t<f.length;++t)e+="case "+f[t]+":"+m(f[t]);return e+="                                                             \n\t        default:                                                             \n\t            var args = new Array(len + 1);                                   \n\t            var i = 0;                                                       \n\t            for (var i = 0; i < len; ++i) {                                  \n\t               args[i] = arguments[i];                                       \n\t            }                                                                \n\t            args[i] = nodeback;                                              \n\t            [CodeForCall]                                                    \n\t            break;                                                           \n\t        ".replace("[CodeForCall]",g?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n")}()).replace("[GetFunctionCode]",b);return y=y.replace("Parameters",function(e){return i.filledRange(Math.max(e,3),"_arg","")}(p)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",y)(e,d,c,a,o,r,i.tryCatch,i.errorObj,i.notEnumerableProp,t)};var b=s?m:function(s,c,l,d,h,u){var p=function(){return this}(),f=s;function g(){var i=c;c===n&&(i=this);var l=new e(t);l._captureStackTrace();var d="string"==typeof f&&this!==p?this[f]:s,h=r(l,u);try{d.apply(i,a(arguments,h))}catch(g){l._rejectCallback(o(g),!0,!0)}return l._isFateSealed()||l._setAsyncGuaranteed(),l}return"string"==typeof f&&(s=d),i.notEnumerableProp(g,"__isPromisified__",!0),g};function y(e,t,r,a,o){for(var s=new RegExp(t.replace(/([$])/,"\\$")+"$"),c=g(e,t,s,r),l=0,d=c.length;l<d;l+=2){var h=c[l],u=c[l+1],p=h+t;if(a===b)e[p]=b(h,n,h,u,t,o);else{var f=a(u,function(){return b(h,n,h,u,t,o)});i.notEnumerableProp(f,"__isPromisified__",!0),e[p]=f}}return i.toFastProperties(e),e}e.promisify=function(e,t){if("function"!=typeof e)throw new c("expecting a function but got "+i.classString(e));if(p(e))return e;var r=function(e,t,n){return b(e,t,void 0,e,null,n)}(e,void 0===(t=Object(t)).context?n:t.context,!!t.multiArgs);return i.copyDescriptors(e,r,u),r},e.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(t=Object(t)).multiArgs,r=t.suffix;"string"!=typeof r&&(r="Async");var a=t.filter;"function"!=typeof a&&(a=h);var o=t.promisifier;if("function"!=typeof o&&(o=b),!i.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=i.inheritedDataKeys(e),l=0;l<s.length;++l){var d=e[s[l]];"constructor"!==s[l]&&i.isClass(d)&&(y(d.prototype,r,a,o,n),y(d,r,a,o,n))}return y(e,r,a,o,n)}}),Xr}function Ca(){return Qr||(Qr=1,Zr=function(e,t,n,i){var r,a=ir(),o=a.isObject,s=nr();"function"==typeof Map&&(r=Map);var c=function(){var e=0,t=0;function n(n,i){this[e]=n,this[e+t]=i,e++}return function(i){t=i.size,e=0;var r=new Array(2*i.size);return i.forEach(n,r),r}}();function l(e){var t,n=!1;if(void 0!==r&&e instanceof r)t=c(e),n=!0;else{var i=s.keys(e),a=i.length;t=new Array(2*a);for(var o=0;o<a;++o){var l=i[o];t[o]=e[l],t[o+a]=l}}this.constructor$(t),this._isMap=n,this._init$(void 0,-3)}function d(t){var r,a=n(t);return o(a)?(r=a instanceof e?a._then(e.props,void 0,void 0,void 0,void 0):new l(a).promise(),a instanceof e&&r._propagateFrom(a,2),r):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}a.inherits(l,t),l.prototype._init=function(){},l.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(e){for(var t=new r,n=e.length/2|0,i=0;i<n;++i){var a=e[n+i],o=e[i];t.set(a,o)}return t}(this._values);else{n={};for(var i=this.length(),a=0,o=this.length();a<o;++a)n[this._values[a+i]]=this._values[a]}return this._resolve(n),!0}return!1},l.prototype.shouldCopyValues=function(){return!1},l.prototype.getActualLength=function(e){return e>>1},e.prototype.props=function(){return d(this)},e.props=function(e){return d(e)}}),Zr}function ka(){return ea||(ea=1,Jr=function(e,t,n,i){var r=ir();function a(o,s){var c=n(o);if(c instanceof e)return function(e){return e.then(function(t){return a(t,e)})}(c);if(null===(o=r.asArray(o)))return i("expecting an array or an iterable object but got "+r.classString(o));var l=new e(t);void 0!==s&&l._propagateFrom(s,3);for(var d=l._fulfill,h=l._reject,u=0,p=o.length;u<p;++u){var f=o[u];(void 0!==f||u in o)&&e.cast(f)._then(d,h,void 0,l,null)}return l}e.race=function(e){return a(e,void 0)},e.prototype.race=function(){return a(this,void 0)}}),Jr}(pa=er).exports=function(){var e=function(){return new h("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},t=function(){return new E.PromiseInspection(this._target())},n=function(e){return E.reject(new h(e))};function i(){}var r,a={},o=ir();r=o.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},o.notEnumerableProp(E,"_getDomain",r);var s=nr(),c=ma(),l=new c;s.defineProperty(E,"_async",{value:l});var d=ba(),h=E.TypeError=d.TypeError;E.RangeError=d.RangeError;var u=E.CancellationError=d.CancellationError;E.TimeoutError=d.TimeoutError,E.OperationalError=d.OperationalError,E.RejectionError=d.OperationalError,E.AggregateError=d.AggregateError;var p=function(){},f={},g={},m=ya()(E,p),b=(fr||(fr=1,pr=function(e,t,n,i,r){var a=ir();function o(n){var i=this._promise=new e(t);n instanceof e&&i._propagateFrom(n,3),i._setOnCancel(this),this._values=n,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.isArray,a.inherits(o,r),o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function t(r,o){var s=n(this._values,this._promise);if(s instanceof e){var c=(s=s._target())._bitField;if(this._values=s,!(50397184&c))return this._promise._setAsyncGuaranteed(),s._then(t,this._reject,void 0,this,o);if(!(33554432&c))return 16777216&c?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=a.asArray(s)))0!==s.length?this._iterate(s):-5===o?this._resolveEmptyArray():this._resolve(function(e){switch(e){case-2:return[];case-3:return{}}}(o));else{var l=i("expecting an array or an iterable object but got "+a.classString(s)).reason();this._promise._rejectCallback(l,!1)}},o.prototype._iterate=function(t){var i=this.getActualLength(t.length);this._length=i,this._values=this.shouldCopyValues()?new Array(i):this._values;for(var r=this._promise,a=!1,o=null,s=0;s<i;++s){var c=n(t[s],r);o=c instanceof e?(c=c._target())._bitField:null,a?null!==o&&c.suppressUnhandledRejections():null!==o?50397184&o?a=33554432&o?this._promiseFulfilled(c._value(),s):16777216&o?this._promiseRejected(c._reason(),s):this._promiseCancelled(s):(c._proxy(this,s),this._values[s]=c):a=this._promiseFulfilled(c,s)}a||r._setAsyncGuaranteed()},o.prototype._isResolved=function(){return null===this._values},o.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},o.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},o.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},o.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseCancelled=function(){return this._cancel(),!0},o.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},o.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(e){return e},o}),pr)(E,p,m,n,i),y=(mr?gr:(mr=1,gr=function(e){var t=!1,n=[];function i(){this._trace=new i.CapturedTrace(r())}function r(){var e=n.length-1;if(e>=0)return n[e]}return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},i.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},i.prototype._popContext=function(){if(void 0!==this._trace){var e=n.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},i.CapturedTrace=null,i.create=function(){if(t)return new i},i.deactivateLongStackTraces=function(){},i.activateLongStackTraces=function(){var n=e.prototype._pushContext,a=e.prototype._popContext,o=e._peekContext,s=e.prototype._peekContext,c=e.prototype._promiseCreated;i.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=a,e._peekContext=o,e.prototype._peekContext=s,e.prototype._promiseCreated=c,t=!1},t=!0,e.prototype._pushContext=i.prototype._pushContext,e.prototype._popContext=i.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},i}))(E),v=y.create,x=va()(E,y);x.CapturedTrace;var _=(xr||(xr=1,vr=function(e,t){var n=ir(),i=e.CancellationError,r=n.errorObj;function a(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function o(e){this.finallyHandler=e}function s(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function c(){return d.call(this,this.promise._target()._settledValue())}function l(e){if(!s(this,e))return r.e=e,r}function d(n){var a=this.promise,d=this.handler;if(!this.called){this.called=!0;var h=this.isFinallyHandler()?d.call(a._boundValue()):d.call(a._boundValue(),n);if(void 0!==h){a._setReturnedNonUndefined();var u=t(h,a);if(u instanceof e){if(null!=this.cancelPromise){if(u._isCancelled()){var p=new i("late cancellation observer");return a._attachExtraTrace(p),r.e=p,r}u.isPending()&&u._attachCancellationCallback(new o(this))}return u._then(c,l,void 0,this,void 0)}}}return a.isRejected()?(s(this),r.e=n,r):(s(this),n)}return a.prototype.isFinallyHandler=function(){return 0===this.type},o.prototype._resultCancelled=function(){s(this.finallyHandler)},e.prototype._passThrough=function(e,t,n,i){return"function"!=typeof e?this.then():this._then(n,i,void 0,new a(this,t,e),void 0)},e.prototype.lastly=e.prototype.finally=function(e){return this._passThrough(e,0,d,d)},e.prototype.tap=function(e){return this._passThrough(e,1,d)},a}),vr)(E,m),w=(wr||(wr=1,_r=function(e){var t=ir(),n=nr().keys,i=t.tryCatch,r=t.errorObj;return function(a,o,s){return function(c){var l=s._boundValue();e:for(var d=0;d<a.length;++d){var h=a[d];if(h===Error||null!=h&&h.prototype instanceof Error){if(c instanceof h)return i(o).call(l,c)}else if("function"==typeof h){var u=i(h).call(l,c);if(u===r)return u;if(u)return i(o).call(l,c)}else if(t.isObject(c)){for(var p=n(h),f=0;f<p.length;++f){var g=p[f];if(h[g]!=c[g])continue e}return i(o).call(l,c)}}return e}}}),_r)(g),D=xa(),T=o.errorObj,A=o.tryCatch;function E(e){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,e!==p&&(function(e,t){if("function"!=typeof t)throw new h("expecting a function but got "+o.classString(t));if(e.constructor!==E)throw new h("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}(this,e),this._resolveFromExecutor(e)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function C(e){this.promise._resolveCallback(e)}function k(e){this.promise._rejectCallback(e,!1)}function S(e){var t=new E(p);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}return E.prototype.toString=function(){return"[object Promise]"},E.prototype.caught=E.prototype.catch=function(e){var t=arguments.length;if(t>1){var i,r=new Array(t-1),a=0;for(i=0;i<t-1;++i){var s=arguments[i];if(!o.isObject(s))return n("expecting an object but got A catch statement predicate "+o.classString(s));r[a++]=s}return r.length=a,e=arguments[i],this.then(void 0,w(r,e,this))}return this.then(void 0,e)},E.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},E.prototype.then=function(e,t){if(x.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+o.classString(e);arguments.length>1&&(n+=", "+o.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},E.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},E.prototype.spread=function(e){return"function"!=typeof e?n("expecting a function but got "+o.classString(e)):this.all()._then(e,void 0,void 0,f,void 0)},E.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},E.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new b(this).promise()},E.prototype.error=function(e){return this.caught(o.originatesFromRejection,e)},E.getNewLibraryCopy=pa.exports,E.is=function(e){return e instanceof E},E.fromNode=E.fromCallback=function(e){var t=new E(p);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,i=A(e)(D(t,n));return i===T&&t._rejectCallback(i.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},E.all=function(e){return new b(e).promise()},E.cast=function(e){var t=m(e);return t instanceof E||((t=new E(p))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},E.resolve=E.fulfilled=E.cast,E.reject=E.rejected=function(e){var t=new E(p);return t._captureStackTrace(),t._rejectCallback(e,!0),t},E.setScheduler=function(e){if("function"!=typeof e)throw new h("expecting a function but got "+o.classString(e));return l.setScheduler(e)},E.prototype._then=function(e,t,n,i,a){var s=void 0!==a,c=s?a:new E(p),d=this._target(),h=d._bitField;s||(c._propagateFrom(this,3),c._captureStackTrace(),void 0===i&&2097152&this._bitField&&(i=50397184&h?this._boundValue():d===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,c));var f=r();if(50397184&h){var g,m,b=d._settlePromiseCtx;33554432&h?(m=d._rejectionHandler0,g=e):16777216&h?(m=d._fulfillmentHandler0,g=t,d._unsetRejectionIsUnhandled()):(b=d._settlePromiseLateCancellationObserver,m=new u("late cancellation observer"),d._attachExtraTrace(m),g=t),l.invoke(b,d,{handler:null===f?g:"function"==typeof g&&o.domainBind(f,g),promise:c,receiver:i,value:m})}else d._addCallbacks(e,t,c,i,f);return c},E.prototype._length=function(){return 65535&this._bitField},E.prototype._isFateSealed=function(){return!!(117506048&this._bitField)},E.prototype._isFollowing=function(){return!(67108864&~this._bitField)},E.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},E.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},E.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},E.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},E.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},E.prototype._isFinal=function(){return(4194304&this._bitField)>0},E.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},E.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},E.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},E.prototype._setAsyncGuaranteed=function(){l.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},E.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==a)return void 0===t&&this._isBound()?this._boundValue():t},E.prototype._promiseAt=function(e){return this[4*e-4+2]},E.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},E.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},E.prototype._boundValue=function(){},E.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,n=e._rejectionHandler0,i=e._promise0,r=e._receiverAt(0);void 0===r&&(r=a),this._addCallbacks(t,n,i,r,null)},E.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),i=e._rejectionHandlerAt(t),r=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=a),this._addCallbacks(n,i,r,o,null)},E.prototype._addCallbacks=function(e,t,n,i,r){var a=this._length();if(a>=65531&&(a=0,this._setLength(0)),0===a)this._promise0=n,this._receiver0=i,"function"==typeof e&&(this._fulfillmentHandler0=null===r?e:o.domainBind(r,e)),"function"==typeof t&&(this._rejectionHandler0=null===r?t:o.domainBind(r,t));else{var s=4*a-4;this[s+2]=n,this[s+3]=i,"function"==typeof e&&(this[s+0]=null===r?e:o.domainBind(r,e)),"function"==typeof t&&(this[s+1]=null===r?t:o.domainBind(r,t))}return this._setLength(a+1),a},E.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},E.prototype._resolveCallback=function(t,n){if(!(117506048&this._bitField)){if(t===this)return this._rejectCallback(e(),!1);var i=m(t,this);if(!(i instanceof E))return this._fulfill(t);n&&this._propagateFrom(i,2);var r=i._target();if(r!==this){var a=r._bitField;if(50397184&a)if(33554432&a)this._fulfill(r._value());else if(16777216&a)this._reject(r._reason());else{var o=new u("late cancellation observer");r._attachExtraTrace(o),this._reject(o)}else{var s=this._length();s>0&&r._migrateCallback0(this);for(var c=1;c<s;++c)r._migrateCallbackAt(this,c);this._setFollowing(),this._setLength(0),this._setFollowee(r)}}else this._reject(e())}},E.prototype._rejectCallback=function(e,t,n){var i=o.ensureErrorObject(e),r=i===e;if(!r&&!n&&x.warnings()){var a="a promise was rejected with a non-error: "+o.classString(e);this._warn(a,!0)}this._attachExtraTrace(i,!!t&&r),this._reject(e)},E.prototype._resolveFromExecutor=function(e){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,i=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==i&&t._rejectCallback(i,!0)},E.prototype._settlePromiseFromHandler=function(e,t,n,i){var r=i._bitField;if(!(65536&r)){var a;i._pushContext(),t===f?n&&"number"==typeof n.length?a=A(e).apply(this._boundValue(),n):(a=T).e=new h("cannot .spread() a non-array: "+o.classString(n)):a=A(e).call(t,n);var s=i._popContext();65536&(r=i._bitField)||(a===g?i._reject(n):a===T?i._rejectCallback(a.e,!1):(x.checkForgottenReturns(a,s,"",i,this),i._resolveCallback(a)))}},E.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},E.prototype._followee=function(){return this._rejectionHandler0},E.prototype._setFollowee=function(e){this._rejectionHandler0=e},E.prototype._settlePromise=function(e,n,r,a){var o=e instanceof E,s=this._bitField,c=!!(134217728&s);65536&s?(o&&e._invokeInternalOnCancel(),r instanceof _&&r.isFinallyHandler()?(r.cancelPromise=e,A(n).call(r,a)===T&&e._reject(T.e)):n===t?e._fulfill(t.call(r)):r instanceof i?r._promiseCancelled(e):o||e instanceof b?e._cancel():r.cancel()):"function"==typeof n?o?(c&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(n,r,a,e)):n.call(r,a,e):r instanceof i?r._isResolved()||(33554432&s?r._promiseFulfilled(a,e):r._promiseRejected(a,e)):o&&(c&&e._setAsyncGuaranteed(),33554432&s?e._fulfill(a):e._reject(a))},E.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,i=e.receiver,r=e.value;"function"==typeof t?n instanceof E?this._settlePromiseFromHandler(t,i,r,n):t.call(i,r,n):n instanceof E&&n._reject(r)},E.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},E.prototype._settlePromise0=function(e,t,n){var i=this._promise0,r=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,e,r,t)},E.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},E.prototype._fulfill=function(t){var n=this._bitField;if(!((117506048&n)>>>16)){if(t===this){var i=e();return this._attachExtraTrace(i),this._reject(i)}this._setFulfilled(),this._rejectionHandler0=t,(65535&n)>0&&(134217728&n?this._settlePromises():l.settlePromises(this))}},E.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return l.fatalError(e,o.isNode);(65535&t)>0?l.settlePromises(this):this._ensurePossibleRejectionHandled()}},E.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var i=this._fulfillmentHandlerAt(n),r=this._promiseAt(n),a=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,a,t)}},E.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var i=this._rejectionHandlerAt(n),r=this._promiseAt(n),a=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,a,t)}},E.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(16842752&e){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e),this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()},E.prototype._settledValue=function(){var e=this._bitField;return 33554432&e?this._rejectionHandler0:16777216&e?this._fulfillmentHandler0:void 0},E.defer=E.pending=function(){return x.deprecated("Promise.defer","new Promise"),{promise:new E(p),resolve:C,reject:k}},o.notEnumerableProp(E,"_makeSelfResolutionError",e),(Er||(Er=1,Ar=function(e,t,n,i,r){var a=ir(),o=a.tryCatch;e.method=function(n){if("function"!=typeof n)throw new e.TypeError("expecting a function but got "+a.classString(n));return function(){var i=new e(t);i._captureStackTrace(),i._pushContext();var a=o(n).apply(this,arguments),s=i._popContext();return r.checkForgottenReturns(a,s,"Promise.method",i),i._resolveFromSyncValue(a),i}},e.attempt=e.try=function(n){if("function"!=typeof n)return i("expecting a function but got "+a.classString(n));var s,c=new e(t);if(c._captureStackTrace(),c._pushContext(),arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],d=arguments[2];s=a.isArray(l)?o(n).apply(d,l):o(n).call(d,l)}else s=o(n)();var h=c._popContext();return r.checkForgottenReturns(s,h,"Promise.try",c),c._resolveFromSyncValue(s),c},e.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}),Ar)(E,p,m,n,x),(kr||(kr=1,Cr=function(e,t,n,i){var r=!1,a=function(e,t){this._reject(t)},o=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(a,a,null,this,e)},s=function(e,t){50397184&this._bitField||this._resolveCallback(t.target)},c=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(a){r||(r=!0,e.prototype._propagateFrom=i.propagateFromFunction(),e.prototype._boundValue=i.boundValueFunction());var l=n(a),d=new e(t);d._propagateFrom(this,1);var h=this._target();if(d._setBoundTo(l),l instanceof e){var u={promiseRejectionQueued:!1,promise:d,target:h,bindingPromise:l};h._then(t,o,void 0,d,u),l._then(s,c,void 0,d,u),d._setOnCancel(l)}else d._resolveCallback(h);return d},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return!(2097152&~this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}),Cr)(E,p,m,x),(Ur||(Ur=1,Sr=function(e,t,n,i){var r=ir(),a=r.tryCatch,o=r.errorObj,s=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),s.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(e,t){if(r.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var i=a(e).call(this._boundValue());i===o&&(this._attachExtraTrace(i.e),s.throwLater(i.e))}}else e._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),s.invoke(this._doInvokeOnCancel,this,e)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}),Sr)(E,b,n,x),(Fr||(Fr=1,Or=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1];return this.caught(e,function(){throw t})},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var i=arguments[1];return i instanceof e&&i.suppressUnhandledRejections(),this.caught(n,function(){return i})}}),Or)(E),_a()(E),(Mr||(Mr=1,Ir=function(e,t,n,i,r,a){var o,s=ir(),c=s.canEvaluate,l=s.tryCatch,d=s.errorObj;if(c){for(var h=function(e){return new Function("value","holder","                             \n\t            'use strict';                                                    \n\t            holder.pIndex = value;                                           \n\t            holder.checkFulfillment(this);                                   \n\t            ".replace(/Index/g,e))},u=function(e){return new Function("promise","holder","                           \n\t            'use strict';                                                    \n\t            holder.pIndex = promise;                                         \n\t            ".replace(/Index/g,e))},p=function(t){for(var n=new Array(t),i=0;i<n.length;++i)n[i]="this.p"+(i+1);var a=n.join(" = ")+" = null;",o="var promise;\n"+n.map(function(e){return"                                                         \n\t                promise = "+e+";                                      \n\t                if (promise instanceof Promise) {                            \n\t                    promise.cancel();                                        \n\t                }                                                            \n\t            "}).join("\n"),s=n.join(", "),c="Holder$"+t,h="return function(tryCatch, errorObj, Promise, async) {    \n\t            'use strict';                                                    \n\t            function [TheName](fn) {                                         \n\t                [TheProperties]                                              \n\t                this.fn = fn;                                                \n\t                this.asyncNeeded = true;                                     \n\t                this.now = 0;                                                \n\t            }                                                                \n\t                                                                             \n\t            [TheName].prototype._callFunction = function(promise) {          \n\t                promise._pushContext();                                      \n\t                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n\t                promise._popContext();                                       \n\t                if (ret === errorObj) {                                      \n\t                    promise._rejectCallback(ret.e, false);                   \n\t                } else {                                                     \n\t                    promise._resolveCallback(ret);                           \n\t                }                                                            \n\t            };                                                               \n\t                                                                             \n\t            [TheName].prototype.checkFulfillment = function(promise) {       \n\t                var now = ++this.now;                                        \n\t                if (now === [TheTotal]) {                                    \n\t                    if (this.asyncNeeded) {                                  \n\t                        async.invoke(this._callFunction, this, promise);     \n\t                    } else {                                                 \n\t                        this._callFunction(promise);                         \n\t                    }                                                        \n\t                                                                             \n\t                }                                                            \n\t            };                                                               \n\t                                                                             \n\t            [TheName].prototype._resultCancelled = function() {              \n\t                [CancellationCode]                                           \n\t            };                                                               \n\t                                                                             \n\t            return [TheName];                                                \n\t        }(tryCatch, errorObj, Promise, async);                               \n\t        ";return h=h.replace(/\[TheName\]/g,c).replace(/\[TheTotal\]/g,t).replace(/\[ThePassedArguments\]/g,s).replace(/\[TheProperties\]/g,a).replace(/\[CancellationCode\]/g,o),new Function("tryCatch","errorObj","Promise","async",h)(l,d,e,r)},f=[],g=[],m=[],b=0;b<8;++b)f.push(p(b+1)),g.push(h(b+1)),m.push(u(b+1));o=function(e){this._reject(e)}}e.join=function(){var r,l=arguments.length-1;if(l>0&&"function"==typeof arguments[l]&&(r=arguments[l],l<=8&&c)){(w=new e(i))._captureStackTrace();for(var d=new(0,f[l-1])(r),h=g,u=0;u<l;++u){var p=n(arguments[u],w);if(p instanceof e){var b=(p=p._target())._bitField;50397184&b?33554432&b?h[u].call(w,p._value(),d):16777216&b?w._reject(p._reason()):w._cancel():(p._then(h[u],o,void 0,w,d),m[u](p,d),d.asyncNeeded=!1)}else h[u].call(w,p,d)}if(!w._isFateSealed()){if(d.asyncNeeded){var y=a();null!==y&&(d.fn=s.domainBind(y,d.fn))}w._setAsyncGuaranteed(),w._setOnCancel(d)}return w}for(var v=arguments.length,x=new Array(v),_=0;_<v;++_)x[_]=arguments[_];r&&x.pop();var w=new t(x).promise();return void 0!==r?w.spread(r):w}}),Ir)(E,b,m,p,l,r),E.Promise=E,E.version="3.4.7",wa()(E,b,n,m,p,x),function(){if(jr)return Lr;jr=1;var e=Object.create;if(e){var t=e(null),n=e(null);t[" size"]=n[" size"]=0}return Lr=function(e){var i,r,a=ir(),o=a.canEvaluate,s=a.isIdentifier,c=function(e){return new Function("ensureMethod","                                    \n\t        return function(obj) {                                               \n\t            'use strict'                                                     \n\t            var len = this.length;                                           \n\t            ensureMethod(obj, 'methodName');                                 \n\t            switch(len) {                                                    \n\t                case 1: return obj.methodName(this[0]);                      \n\t                case 2: return obj.methodName(this[0], this[1]);             \n\t                case 3: return obj.methodName(this[0], this[1], this[2]);    \n\t                case 0: return obj.methodName();                             \n\t                default:                                                     \n\t                    return obj.methodName.apply(obj, this);                  \n\t            }                                                                \n\t        };                                                                   \n\t        ".replace(/methodName/g,e))(h)},l=function(e){return new Function("obj","                                             \n\t        'use strict';                                                        \n\t        return obj.propertyName;                                             \n\t        ".replace("propertyName",e))},d=function(e,t,n){var i=n[e];if("function"!=typeof i){if(!s(e))return null;if(i=t(e),n[e]=i,n[" size"]++,n[" size"]>512){for(var r=Object.keys(n),a=0;a<256;++a)delete n[r[a]];n[" size"]=r.length-256}}return i};function h(t,n){var i;if(null!=t&&(i=t[n]),"function"!=typeof i){var r="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(r)}return i}function u(e){return h(e,this.pop()).apply(e,this)}function p(e){return e[this]}function f(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}i=function(e){return d(e,c,t)},r=function(e){return d(e,l,n)},e.prototype.call=function(e){for(var t=arguments.length,n=new Array(Math.max(t-1,0)),r=1;r<t;++r)n[r-1]=arguments[r];if(o){var a=i(e);if(null!==a)return this._then(a,void 0,void 0,n,void 0)}return n.push(e),this._then(u,void 0,void 0,n,void 0)},e.prototype.get=function(e){var t;if("number"==typeof e)t=f;else if(o){var n=r(e);t=null!==n?n:p}else t=p;return this._then(t,void 0,void 0,e,void 0)}},Lr}()(E),Da()(E,n,m,v,p,x),Ta()(E,p,x),Aa()(E,n,p,m,i,x),(Kr||(Kr=1,$r=function(e){var t=ir(),n=e._async,i=t.tryCatch,r=t.errorObj;function a(e,a){if(!t.isArray(e))return o.call(this,e,a);var s=i(a).apply(this._boundValue(),[null].concat(e));s===r&&n.throwLater(s.e)}function o(e,t){var a=this._boundValue(),o=void 0===e?i(t).call(a,null):i(t).call(a,null,e);o===r&&n.throwLater(o.e)}function s(e,t){if(!e){var a=new Error(e+"");a.cause=e,e=a}var o=i(t).call(this._boundValue(),e);o===r&&n.throwLater(o.e)}e.prototype.asCallback=e.prototype.nodeify=function(e,t){if("function"==typeof e){var n=o;void 0!==t&&Object(t).spread&&(n=a),this._then(n,s,void 0,this,e)}return this}}),$r)(E),Ea()(E,p),Ca()(E,b,m,n),ka()(E,p,m,n),(na||(na=1,ta=function(e,t,n,i,r,a){var o=e._getDomain,s=ir(),c=s.tryCatch;function l(t,n,i,a){this.constructor$(t);var c=o();this._fn=null===c?n:s.domainBind(c,n),void 0!==i&&(i=e.resolve(i))._attachCancellationCallback(this),this._initialValue=i,this._currentCancellable=null,this._eachValues=a===r?Array(this._length):0===a?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function d(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function h(e,t,i,r){return"function"!=typeof t?n("expecting a function but got "+s.classString(t)):new l(e,t,i,r).promise()}function u(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(p,void 0,void 0,this,void 0)):p.call(this,n)}function p(t){var n,i=this.array,r=i._promise,o=c(i._fn);r._pushContext(),(n=void 0!==i._eachValues?o.call(r._boundValue(),t,this.index,this.length):o.call(r._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(i._currentCancellable=n);var s=r._popContext();return a.checkForgottenReturns(n,s,void 0!==i._eachValues?"Promise.each":"Promise.reduce",r),n}s.inherits(l,t),l.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==r&&this._eachValues.push(e)},l.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},l.prototype._init=function(){},l.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},l.prototype.shouldCopyValues=function(){return!1},l.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},l.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},l.prototype._iterate=function(t){var n,i;this._values=t;var r=t.length;if(void 0!==this._initialValue?(n=this._initialValue,i=0):(n=e.resolve(t[0]),i=1),this._currentCancellable=n,!n.isRejected())for(;i<r;++i){var a={accum:null,value:t[i],index:i,length:r,array:this};n=n._then(u,void 0,void 0,a,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(d,d,void 0,n,this)},e.prototype.reduce=function(e,t){return h(this,e,t,null)},e.reduce=function(e,t,n,i){return h(e,t,n,i)}}),ta)(E,b,n,m,p,x),(ra||(ra=1,ia=function(e,t,n){var i=e.PromiseInspection;function r(e){this.constructor$(e)}ir().inherits(r,t),r.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},r.prototype._promiseFulfilled=function(e,t){var n=new i;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},r.prototype._promiseRejected=function(e,t){var n=new i;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},e.settle=function(e){return n.deprecated(".settle()",".reflect()"),new r(e).promise()},e.prototype.settle=function(){return e.settle(this)}}),ia)(E,b,x),(oa||(oa=1,aa=function(e,t,n){var i=ir(),r=ba().RangeError,a=ba().AggregateError,o=i.isArray,s={};function c(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function l(e,t){if((0|t)!==t||t<0)return n("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new c(e),r=i.promise();return i.setHowMany(t),i.init(),r}i.inherits(c,t),c.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=o(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(e){this._howMany=e},c.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},c.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(s),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new a,t=this.length();t<this._values.length;++t)this._values[t]!==s&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(e){this._values.push(e)},c.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new r(t)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(e,t){return l(e,t)},e.prototype.some=function(e){return l(this,e)},e._SomePromiseArray=c}),aa)(E,b,n),(ca||(ca=1,sa=function(e,t){var n=e.map;e.prototype.filter=function(e,i){return n(this,e,i,t)},e.filter=function(e,i,r){return n(e,i,r,t)}}),sa)(E,p),(da||(da=1,la=function(e,t){var n=e.reduce,i=e.all;function r(){return i(this)}e.prototype.each=function(e){return n(this,e,t,0)._then(r,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return n(this,e,t,t)},e.each=function(e,i){return n(e,i,t,0)._then(r,void 0,void 0,e,void 0)},e.mapSeries=function(e,i){return n(e,i,t,t)}}),la)(E,p),(ua||(ua=1,ha=function(e){var t=e._SomePromiseArray;function n(e){var n=new t(e),i=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),i}e.any=function(e){return n(e)},e.prototype.any=function(){return n(this)}}),ha)(E),o.toFastProperties(E),o.toFastProperties(E.prototype),S({a:1}),S({b:2}),S({c:3}),S(1),S(function(){}),S(void 0),S(!1),S(new E(p)),x.setBounds(c.firstLineError,o.lastLineError),E};var Sa=Ki,Ua=(0,er.exports)();Ji.defer=function(){var e,t,n=new Ua.Promise(function(n,i){e=n,t=i});return{resolve:e,reject:t,promise:n}},Ji.when=Ua.resolve,Ji.resolve=Ua.resolve,Ji.all=Ua.all,Ji.props=Ua.props,Ji.reject=Ua.reject,Ji.promisify=Ua.promisify,Ji.mapSeries=Ua.mapSeries,Ji.attempt=Ua.attempt,Ji.nfcall=function(e){var t=Array.prototype.slice.call(arguments,1);return Ua.promisify(e).apply(null,t)},Ua.prototype.fail=Ua.prototype.caught,Ua.prototype.also=function(e){return this.then(function(t){var n=Sa.extend({},t,e(t));return Ua.props(n)})};var Oa={},Fa=Ki,Na=Oa.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};var Pa={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function Ia(e){this._notes=Fa.indexBy(e,function(e){return Ma(e.noteType,e.noteId)})}function Ma(e,t){return e+"-"+t}function Ra(e){return{type:Na.break,breakType:e}}Ia.prototype.resolve=function(e){return this.findNoteByKey(Ma(e.noteType,e.noteId))},Ia.prototype.findNoteByKey=function(e){return this._notes[e]||null},Oa.document=Oa.Document=function(e,t){return{type:Na.document,children:e,notes:(t=t||{}).notes||new Ia({}),comments:t.comments||[]}},Oa.paragraph=Oa.Paragraph=function(e,t){var n=(t=t||{}).indent||{};return{type:Na.paragraph,children:e,styleId:t.styleId||null,styleName:t.styleName||null,numbering:t.numbering||null,alignment:t.alignment||null,indent:{start:n.start||null,end:n.end||null,firstLine:n.firstLine||null,hanging:n.hanging||null}}},Oa.run=Oa.Run=function(e,t){return{type:Na.run,children:e,styleId:(t=t||{}).styleId||null,styleName:t.styleName||null,isBold:!!t.isBold,isUnderline:!!t.isUnderline,isItalic:!!t.isItalic,isStrikethrough:!!t.isStrikethrough,isAllCaps:!!t.isAllCaps,isSmallCaps:!!t.isSmallCaps,verticalAlignment:t.verticalAlignment||Pa.baseline,font:t.font||null,fontSize:t.fontSize||null,highlight:t.highlight||null}},Oa.text=Oa.Text=function(e){return{type:Na.text,value:e}},Oa.tab=Oa.Tab=function(){return{type:Na.tab}},Oa.checkbox=Oa.Checkbox=function(e){return{type:Na.checkbox,checked:e.checked}},Oa.Hyperlink=function(e,t){return{type:Na.hyperlink,children:e,href:t.href,anchor:t.anchor,targetFrame:t.targetFrame}},Oa.noteReference=Oa.NoteReference=function(e){return{type:Na.noteReference,noteType:e.noteType,noteId:e.noteId}},Oa.Notes=Ia,Oa.Note=function(e){return{type:Na.note,noteType:e.noteType,noteId:e.noteId,body:e.body}},Oa.commentReference=function(e){return{type:Na.commentReference,commentId:e.commentId}},Oa.comment=function(e){return{type:Na.comment,commentId:e.commentId,body:e.body,authorName:e.authorName,authorInitials:e.authorInitials}},Oa.Image=function(e){return{type:Na.image,read:function(t){return t?e.readImage(t):e.readImage().then(function(e){return Buffer.from(e)})},readAsArrayBuffer:function(){return e.readImage()},readAsBase64String:function(){return e.readImage("base64")},readAsBuffer:function(){return e.readImage().then(function(e){return Buffer.from(e)})},altText:e.altText,contentType:e.contentType}},Oa.Table=function(e,t){return{type:Na.table,children:e,styleId:(t=t||{}).styleId||null,styleName:t.styleName||null}},Oa.TableRow=function(e,t){return{type:Na.tableRow,children:e,isHeader:(t=t||{}).isHeader||!1}},Oa.TableCell=function(e,t){return{type:Na.tableCell,children:e,colSpan:null==(t=t||{}).colSpan?1:t.colSpan,rowSpan:null==t.rowSpan?1:t.rowSpan}},Oa.lineBreak=Ra("line"),Oa.pageBreak=Ra("page"),Oa.columnBreak=Ra("column"),Oa.BookmarkStart=function(e){return{type:Na.bookmarkStart,name:e.name}},Oa.verticalAlignment=Pa;var Ba={},La=Ki;function ja(e,t){this.value=e,this.messages=t||[]}function Wa(e){var t=[];return La.flatten(La.pluck(e,"messages"),!0).forEach(function(e){(function(e,t){return void 0!==La.find(e,qa.bind(null,t))})(t,e)||t.push(e)}),t}function qa(e,t){return e.type===t.type&&e.message===t.message}Ba.Result=ja,Ba.success=function(e){return new ja(e,[])},Ba.warning=function(e){return{type:"warning",message:e}},Ba.error=function(e){return{type:"error",message:e.message,error:e}},ja.prototype.map=function(e){return new ja(e(this.value),this.messages)},ja.prototype.flatMap=function(e){var t=e(this.value);return new ja(t.value,Wa([this,t]))},ja.prototype.flatMapThen=function(e){var t=this;return e(this.value).then(function(e){return new ja(e.value,Wa([t,e]))})},ja.combine=function(e){return new ja(La.flatten(La.pluck(e,"value")),Wa(e))};for(var za={},Ha={byteLength:function(e){var t=Ya(e),n=t[0],i=t[1];return 3*(n+i)/4-i},toByteArray:function(e){var t,n,i=Ya(e),r=i[0],a=i[1],o=new $a(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),s=0,c=a>0?r-4:r;for(n=0;n<c;n+=4)t=Ga[e.charCodeAt(n)]<<18|Ga[e.charCodeAt(n+1)]<<12|Ga[e.charCodeAt(n+2)]<<6|Ga[e.charCodeAt(n+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=255&t;2===a&&(t=Ga[e.charCodeAt(n)]<<2|Ga[e.charCodeAt(n+1)]>>4,o[s++]=255&t);1===a&&(t=Ga[e.charCodeAt(n)]<<10|Ga[e.charCodeAt(n+1)]<<4|Ga[e.charCodeAt(n+2)]>>2,o[s++]=t>>8&255,o[s++]=255&t);return o},fromByteArray:function(e){for(var t,n=e.length,i=n%3,r=[],a=16383,o=0,s=n-i;o<s;o+=a)r.push(Qa(e,o,o+a>s?s:o+a));1===i?(t=e[n-1],r.push(Va[t>>2]+Va[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],r.push(Va[t>>10]+Va[t>>4&63]+Va[t<<2&63]+"="));return r.join("")}},Va=[],Ga=[],$a="undefined"!=typeof Uint8Array?Uint8Array:Array,Ka="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xa=0;Xa<64;++Xa)Va[Xa]=Ka[Xa],Ga[Ka.charCodeAt(Xa)]=Xa;function Ya(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function Za(e){return Va[e>>18&63]+Va[e>>12&63]+Va[e>>6&63]+Va[63&e]}function Qa(e,t,n){for(var i,r=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),r.push(Za(i));return r.join("")}function Ja(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}Ga["-".charCodeAt(0)]=62,Ga["_".charCodeAt(0)]=63;var eo={exports:{}};
/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/eo.exports=function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){if(!s&&Ja)return Ja(o);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){return r(t[o][1][e]||e)},l,l.exports,e,t,n,i)}return n[o].exports}for(var a=Ja,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){var i=e("./utils"),r=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,o,s,c,l,d=[],h=0,u=e.length,p=u,f="string"!==i.getTypeOf(e);h<e.length;)p=u-h,r=f?(t=e[h++],n=h<u?e[h++]:0,h<u?e[h++]:0):(t=e.charCodeAt(h++),n=h<u?e.charCodeAt(h++):0,h<u?e.charCodeAt(h++):0),o=t>>2,s=(3&t)<<4|n>>4,c=1<p?(15&n)<<2|r>>6:64,l=2<p?63&r:64,d.push(a.charAt(o)+a.charAt(s)+a.charAt(c)+a.charAt(l));return d.join("")},n.decode=function(e){var t,n,i,o,s,c,l=0,d=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var u,p=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&p--,e.charAt(e.length-2)===a.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=r.uint8array?new Uint8Array(0|p):new Array(0|p);l<e.length;)t=a.indexOf(e.charAt(l++))<<2|(o=a.indexOf(e.charAt(l++)))>>4,n=(15&o)<<4|(s=a.indexOf(e.charAt(l++)))>>2,i=(3&s)<<6|(c=a.indexOf(e.charAt(l++))),u[d++]=t,64!==s&&(u[d++]=n),64!==c&&(u[d++]=i);return u}},{"./support":30,"./utils":32}],2:[function(e,t,n){var i=e("./external"),r=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function s(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}s.prototype={getContentWorker:function(){var e=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){var i=e("./utils"),r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,n,i){var a=r,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){var i=null;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:37}],7:[function(e,t,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),a=e("./utils"),o=e("./stream/GenericWorker"),s=i?"uint8array":"array";function c(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",a.inherits(c,o),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,e.data),!1)},c.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new c("Deflate",e)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){function i(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}function r(e,t,n,r,o,d){var h,u,p=e.file,f=e.compression,g=d!==s.utf8encode,m=a.transformTo("string",d(p.name)),b=a.transformTo("string",s.utf8encode(p.name)),y=p.comment,v=a.transformTo("string",d(y)),x=a.transformTo("string",s.utf8encode(y)),_=b.length!==p.name.length,w=x.length!==y.length,D="",T="",A="",E=p.dir,C=p.date,k={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(k.crc32=e.crc32,k.compressedSize=e.compressedSize,k.uncompressedSize=e.uncompressedSize);var S=0;t&&(S|=8),g||!_&&!w||(S|=2048);var U=0,O=0;E&&(U|=16),"UNIX"===o?(O=798,U|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(p.unixPermissions,E)):(O=20,U|=function(e){return 63&(e||0)}(p.dosPermissions)),h=C.getUTCHours(),h<<=6,h|=C.getUTCMinutes(),h<<=5,h|=C.getUTCSeconds()/2,u=C.getUTCFullYear()-1980,u<<=4,u|=C.getUTCMonth()+1,u<<=5,u|=C.getUTCDate(),_&&(T=i(1,1)+i(c(m),4)+b,D+="up"+i(T.length,2)+T),w&&(A=i(1,1)+i(c(v),4)+x,D+="uc"+i(A.length,2)+A);var F="";return F+="\n\0",F+=i(S,2),F+=f.magic,F+=i(h,2),F+=i(u,2),F+=i(k.crc32,4),F+=i(k.compressedSize,4),F+=i(k.uncompressedSize,4),F+=i(m.length,2),F+=i(D.length,2),{fileRecord:l.LOCAL_FILE_HEADER+F+m+D,dirRecord:l.CENTRAL_FILE_HEADER+i(O,2)+F+i(v.length,2)+"\0\0\0\0"+i(U,4)+i(r,4)+m+D+v}}var a=e("../utils"),o=e("../stream/GenericWorker"),s=e("../utf8"),c=e("../crc32"),l=e("../signature");function d(e,t,n,i){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(d,o),d.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},d.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=r(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=r(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return l.DATA_DESCRIPTOR+i(e.crc32,4)+i(e.compressedSize,4)+i(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,r=function(e,t,n,r,o){var s=a.transformTo("string",o(r));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(e,2)+i(e,2)+i(t,4)+i(n,4)+i(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},d.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},d.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){var i=e("../compressions"),r=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var a=new r(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach(function(e,n){o++;var r=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},c=n.dir,l=n.date;n._compressWorker(r,s).withStreamInfo("file",{name:e,dir:c,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)}),a.entriesCount=o}catch(e){a.error(e)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.10.1",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){var i=e("./utils"),r=e("./external"),a=e("./utf8"),o=e("./zipEntries"),s=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function l(e){return new r.Promise(function(t,n){var i=e.decompressed.getContentWorker().pipe(new s);i.on("error",function(e){n(e)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}t.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new o(t);return n.load(e),n}).then(function(e){var n=[r.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var a=0;a<i.length;a++)n.push(l(i[a]));return r.Promise.all(n)}).then(function(e){for(var r=e.shift(),a=r.files,o=0;o<a.length;o++){var s=a[o],c=s.fileNameStr,l=i.resolve(s.fileNameStr);n.file(l,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(l).unsafeOriginalName=c)}return r.zipComment.length&&(n.comment=r.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){var i=e("../utils"),r=e("../stream/GenericWorker");function a(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(a,r),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},a.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){var i=e("readable-stream").Readable;function r(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",function(e,t){r.push(e)||r._helper.pause(),n&&n(t)}).on("error",function(e){r.emit("error",e)}).on("end",function(){r.push(null)})}e("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){function i(e,t,n){var i,r=a.getTypeOf(t),s=a.extend(n||{},c);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=g(e)),s.createFolders&&(i=f(e))&&m.call(this,i,!0);var h="string"===r&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!h),(t instanceof l&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",r="string");var b=null;b=t instanceof l||t instanceof o?t:u.isNode&&u.isStream(t)?new p(e,t):a.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var y=new d(e,b,s);this.files[e]=y}var r=e("./utf8"),a=e("./utils"),o=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),c=e("./defaults"),l=e("./compressedObject"),d=e("./zipObject"),h=e("./generate"),u=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:c.createFolders,e=g(e),this.files[e]||i.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function b(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i)},filter:function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(i)}),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,i.call(this,e,t,n),this;if(b(e)){var r=e;return this.filter(function(e,t){return!t.dir&&r.test(e)})}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(b(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=m.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");a.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";t=h.generateWorker(this,n,i)}catch(e){(t=new o("error")).error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){var i=e("./DataReader");function r(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===i&&this.data[a+3]===r)return a-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&i===a[2]&&r===a[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){var i=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,n){var i=e("./Uint8ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){var i=e("./DataReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){var i=e("./ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){var i=e("../utils"),r=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),s=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new c(i.transformTo("uint8array",e)):new a(i.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){var i=e("./GenericWorker"),r=e("../utils");function a(e){i.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(a,i),a.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){var i=e("./GenericWorker"),r=e("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,i),a.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){var i=e("../utils"),r=e("./GenericWorker");function a(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(a,r),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}r.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){var i=e("../utils"),r=e("./GenericWorker");function a(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}i.inherits(a,r),a.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){var i=e("../utils"),r=e("./ConvertWorker"),a=e("./GenericWorker"),o=e("../base64"),s=e("../support"),c=e("../external"),l=null;if(s.nodestream)try{l=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function d(e,t){return new c.Promise(function(n,r){var a=[],s=e._internalType,c=e._outputType,l=e._mimeType;e.on("data",function(e,n){a.push(e),t&&t(n)}).on("error",function(e){a=[],r(e)}).on("end",function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return o.encode(t);default:return i.transformTo(e,t)}}(c,function(e,t){var n,i=0,r=null,a=0;for(n=0;n<t.length;n++)a+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(a),n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,a),l);n(e)}catch(e){r(e)}a=[]}).resume()})}function h(e,t,n){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=n,i.checkSupport(o),this._worker=e.pipe(new r(o)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}h.prototype={accumulate:function(e){return d(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){i.delay(t,arguments,n)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){for(var i=e("./utils"),r=e("./support"),a=e("./nodejsUtils"),o=e("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function l(){o.call(this,"utf-8 decode"),this.leftOver=null}function d(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return r.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,n,i,a,o,s=e.length,c=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(c):new Array(c),a=o=0;o<c;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t}(e)},n.utf8decode=function(e){return r.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,a,o=e.length,c=new Array(2*o);for(t=n=0;t<o;)if((r=e[t++])<128)c[n++]=r;else if(4<(a=s[r]))c[n++]=65533,t+=a-1;else{for(r&=2===a?31:3===a?15:7;1<a&&t<o;)r=r<<6|63&e[t++],a--;1<a?c[n++]=65533:r<65536?c[n++]=r:(r-=65536,c[n++]=55296|r>>10&1023,c[n++]=56320|1023&r)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),i.applyFromCharCode(c)}(e=i.transformTo(r.uint8array?"uint8array":"array",e))},i.inherits(l,o),l.prototype.processChunk=function(e){var t=i.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),c=t;o!==t.length&&(r.uint8array?(c=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(c=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(c),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,i.inherits(d,o),d.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){var i=e("./support"),r=e("./base64"),a=e("./nodejsUtils"),o=e("./external");function s(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(t,i){n.checkSupport("blob");try{return new Blob([t],{type:i})}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(t),r.getBlob(i)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(e,t,n){var i=[],r=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;r<a;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+n,a)))):i.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+n,a)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function d(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=l.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=l.applyCanBeUsed.nodebuffer),r)for(;1<t;)try{return l.stringifyByChunk(e,i,t)}catch(e){t=Math.floor(t/2)}return l.stringifyByChar(e)}function h(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=d;var u={};u.string={string:s,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return u.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,a.allocBuffer(e.length))}},u.array={string:d,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},u.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},u.uint8array={string:d,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return a.newBufferFrom(e)}},u.nodebuffer={string:d,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return u.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var i=n.getTypeOf(t);return u[i][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],i=0;i<t.length;i++){var r=t[i];"."===r||""===r&&0!==i&&i!==t.length-1||(".."===r?n.pop():n.push(r))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&a.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){setImmediate(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,a,s,l){return o.Promise.resolve(t).then(function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)}):e}).then(function(t){var d=n.getTypeOf(t);return d?("arraybuffer"===d?t=n.transformTo("uint8array",t):"string"===d&&(l?t=r.decode(t):a&&!0!==s&&(t=function(e){return c(e,i.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):o.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){var i=e("./reader/readerFor"),r=e("./utils"),a=e("./signature"),o=e("./zipEntry"),s=e("./support");function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(0<i)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){var i=e("./reader/readerFor"),r=e("./utils"),a=e("./compressedObject"),o=e("./crc32"),s=e("./utf8"),c=e("./compressions"),l=e("./support");function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(Object.prototype.hasOwnProperty.call(c,t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i};e.setIndex(r)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var a=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){function i(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var r=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),o=e("./utf8"),s=e("./compressedObject"),c=e("./stream/GenericWorker");i.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!i&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&i&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new c("error")).error(e)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<l.length;h++)i.prototype[l[h]]=d;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var a=0,o=new r(d),s=e.document.createTextNode("");o.observe(s,{characterData:!0}),n=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var c=new e.MessageChannel;c.port1.onmessage=d,n=function(){c.port2.postMessage(0)}}var l=[];function d(){var e,t;i=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}i=!1}t.exports=function(e){1!==l.push(e)||i||n()}}).call(this,void 0!==l?l:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){var i=e("immediate");function r(){}var a={},o=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==r&&p(this,e)}function d(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){i(function(){var i;try{i=t(n)}catch(i){return a.reject(e,i)}i===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,i)})}function u(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function i(t){n||(n=!0,a.reject(e,t))}function r(t){n||(n=!0,a.resolve(e,t))}var o=f(function(){t(r,i)});"error"===o.status&&i(o.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=l).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(r);return this.state!==c?h(n,this.state===s?e:t,this.outcome):this.queue.push(new d(n,e,t)),n},d.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){a.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=f(u,t);if("error"===n.status)return a.reject(e,n.value);var i=n.value;if(i)p(e,i);else{e.state=s,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:a.resolve(new this(r),e)},l.reject=function(e){var t=new this(r);return a.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var o=new Array(n),s=0,c=-1,l=new this(r);++c<n;)d(e[c],c);return l;function d(e,r){t.resolve(e).then(function(e){o[r]=e,++s!==n||i||(i=!0,a.resolve(l,o))},function(e){i||(i=!0,a.reject(l,e))})}},l.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var o,s=-1,c=new this(r);++s<n;)o=e[s],t.resolve(o).then(function(e){i||(i=!0,a.resolve(c,e))},function(e){i||(i=!0,a.reject(c,e))});return c}},{immediate:36}],38:[function(e,t,n){var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){var i=e("./zlib/deflate"),r=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/messages"),s=e("./zlib/zstream"),c=Object.prototype.toString,l=0,d=-1,h=0,u=8;function p(e){if(!(this instanceof p))return new p(e);this.options=r.assign({level:d,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==l)throw new Error(o[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var f;if(f="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=i.deflateSetDictionary(this.strm,f))!==l)throw new Error(o[n]);this._dict_set=!0}}function f(e,t){var n=new p(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}p.prototype.push=function(e,t){var n,o,s=this.strm,d=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=a.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(d),s.next_out=0,s.avail_out=d),1!==(n=i.deflate(s,o))&&n!==l)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===o?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==o||(this.onEnd(l),!(s.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=p,n.deflate=f,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,f(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){var i=e("./zlib/inflate"),r=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/constants"),s=e("./zlib/messages"),c=e("./zlib/zstream"),l=e("./zlib/gzheader"),d=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);this.header=new l,i.inflateGetHeader(this.strm,this.header)}function u(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(e,t){var n,s,c,l,h,u,p=this.strm,f=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?p.input=a.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new r.Buf8(f),p.next_out=0,p.avail_out=f),(n=i.inflate(p,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&g&&(u="string"==typeof g?a.string2buf(g):"[object ArrayBuffer]"===d.call(g)?new Uint8Array(g):g,n=i.inflateSetDictionary(this.strm,u)),n===o.Z_BUF_ERROR&&!0===m&&(n=o.Z_OK,m=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&n!==o.Z_STREAM_END&&(0!==p.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(c=a.utf8border(p.output,p.next_out),l=p.next_out-c,h=a.buf2string(p.output,c),p.next_out=l,p.avail_out=f-l,l&&r.arraySet(p.output,p.output,c,l,0),this.onData(h)):this.onData(r.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((0<p.avail_in||0===p.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(p.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=u,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},n.ungzip=u},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){var t,n,i,r,a,o;for(t=i=0,n=e.length;t<n;t++)i+=e[t].length;for(o=new Uint8Array(i),t=r=0,n=e.length;t<n;t++)a=e[t],o.set(a,r),r+=a.length;return o}},a={arraySet:function(e,t,n,i,r){for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(i)},{}],42:[function(e,t,n){var i=e("./common"),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new i.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){var t,n,r,a,o,s=e.length,c=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(c),a=o=0;o<c;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,a,s=t||e.length,l=new Array(2*s);for(n=i=0;n<s;)if((r=e[n++])<128)l[i++]=r;else if(4<(a=o[r]))l[i++]=65533,n+=a-1;else{for(r&=2===a?31:3===a?15:7;1<a&&n<s;)r=r<<6|63&e[n++],a--;1<a?l[i++]=65533:r<65536?l[i++]=r:(r-=65536,l[i++]=55296|r>>10&1023,l[i++]=56320|1023&r)}return c(l,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){t.exports=function(e,t,n,i){for(var r=65535&e,a=e>>>16&65535,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;a=a+(r=r+t[i++]|0)|0,--o;);r%=65521,a%=65521}return r|a<<16}},{}],44:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){var i,r=e("../utils/common"),a=e("./trees"),o=e("./adler32"),s=e("./crc32"),c=e("./messages"),l=0,d=4,h=0,u=-2,p=-1,f=4,g=2,m=8,b=9,y=286,v=30,x=19,_=2*y+1,w=15,D=3,T=258,A=T+D+1,E=42,C=113,k=1,S=2,U=3,O=4;function F(e,t){return e.msg=c[t],t}function N(e){return(e<<1)-(4<e?9:0)}function P(e){for(var t=e.length;0<=--t;)e[t]=0}function I(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function M(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,I(e.strm)}function R(e,t){e.pending_buf[e.pending++]=t}function B(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function L(e,t){var n,i,r=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-A?e.strstart-(e.w_size-A):0,l=e.window,d=e.w_mask,h=e.prev,u=e.strstart+T,p=l[a+o-1],f=l[a+o];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+o]===f&&l[n+o-1]===p&&l[n]===l[a]&&l[++n]===l[a+1]){a+=2,n++;do{}while(l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&a<u);if(i=T-(u-a),a=u-T,o<i){if(e.match_start=t,s<=(o=i))break;p=l[a+o-1],f=l[a+o]}}}while((t=h[t&d])>c&&0!=--r);return o<=e.lookahead?o:e.lookahead}function j(e){var t,n,i,a,c,l,d,h,u,p,f=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-A)){for(r.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=n=e.hash_size;i=e.head[--t],e.head[t]=f<=i?i-f:0,--n;);for(t=n=f;i=e.prev[--t],e.prev[t]=f<=i?i-f:0,--n;);a+=f}if(0===e.strm.avail_in)break;if(l=e.strm,d=e.window,h=e.strstart+e.lookahead,p=void 0,(u=a)<(p=l.avail_in)&&(p=u),n=0===p?0:(l.avail_in-=p,r.arraySet(d,l.input,l.next_in,p,h),1===l.state.wrap?l.adler=o(l.adler,d,p,h):2===l.state.wrap&&(l.adler=s(l.adler,d,p,h)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=D)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+D-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<D)););}while(e.lookahead<A&&0!==e.strm.avail_in)}function W(e,t){for(var n,i;;){if(e.lookahead<A){if(j(e),e.lookahead<A&&t===l)return k;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-A&&(e.match_length=L(e,n)),e.match_length>=D)if(i=a._tr_tally(e,e.strstart-e.match_start,e.match_length-D),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=D){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(M(e,!1),0===e.strm.avail_out))return k}return e.insert=e.strstart<D-1?e.strstart:D-1,t===d?(M(e,!0),0===e.strm.avail_out?U:O):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?k:S}function q(e,t){for(var n,i,r;;){if(e.lookahead<A){if(j(e),e.lookahead<A&&t===l)return k;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=D-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-A&&(e.match_length=L(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===D&&4096<e.strstart-e.match_start)&&(e.match_length=D-1)),e.prev_length>=D&&e.match_length<=e.prev_length){for(r=e.strstart+e.lookahead-D,i=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-D),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=D-1,e.strstart++,i&&(M(e,!1),0===e.strm.avail_out))return k}else if(e.match_available){if((i=a._tr_tally(e,0,e.window[e.strstart-1]))&&M(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return k}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<D-1?e.strstart:D-1,t===d?(M(e,!0),0===e.strm.avail_out?U:O):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?k:S}function z(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*_),this.dyn_dtree=new r.Buf16(2*(2*v+1)),this.bl_tree=new r.Buf16(2*(2*x+1)),P(this.dyn_ltree),P(this.dyn_dtree),P(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(w+1),this.heap=new r.Buf16(2*y+1),P(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*y+1),P(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=g,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?E:C,e.adler=2===t.wrap?0:1,t.last_flush=l,a._tr_init(t),h):F(e,u)}function G(e){var t=V(e);return t===h&&function(e){e.window_size=2*e.w_size,P(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=D-1,e.match_available=0,e.ins_h=0}(e.state),t}function $(e,t,n,i,a,o){if(!e)return u;var s=1;if(t===p&&(t=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),a<1||b<a||n!==m||i<8||15<i||t<0||9<t||o<0||f<o)return F(e,u);8===i&&(i=9);var c=new H;return(e.state=c).strm=e,c.wrap=s,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+D-1)/D),c.window=new r.Buf8(2*c.w_size),c.head=new r.Buf16(c.hash_size),c.prev=new r.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new r.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=o,c.method=n,G(e)}i=[new z(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(j(e),0===e.lookahead&&t===l)return k;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,M(e,!1),0===e.strm.avail_out))return k;if(e.strstart-e.block_start>=e.w_size-A&&(M(e,!1),0===e.strm.avail_out))return k}return e.insert=0,t===d?(M(e,!0),0===e.strm.avail_out?U:O):(e.strstart>e.block_start&&(M(e,!1),e.strm.avail_out),k)}),new z(4,4,8,4,W),new z(4,5,16,8,W),new z(4,6,32,32,W),new z(4,4,16,16,q),new z(8,16,32,32,q),new z(8,16,128,128,q),new z(8,32,128,256,q),new z(32,128,258,1024,q),new z(32,258,258,4096,q)],n.deflateInit=function(e,t){return $(e,t,m,15,8,0)},n.deflateInit2=$,n.deflateReset=G,n.deflateResetKeep=V,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,h):u},n.deflate=function(e,t){var n,r,o,c;if(!e||!e.state||5<t||t<0)return e?F(e,u):u;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&t!==d)return F(e,0===e.avail_out?-5:u);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===E)if(2===r.wrap)e.adler=0,R(r,31),R(r,139),R(r,8),r.gzhead?(R(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),R(r,255&r.gzhead.time),R(r,r.gzhead.time>>8&255),R(r,r.gzhead.time>>16&255),R(r,r.gzhead.time>>24&255),R(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),R(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(R(r,255&r.gzhead.extra.length),R(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(R(r,0),R(r,0),R(r,0),R(r,0),R(r,0),R(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),R(r,3),r.status=C);else{var p=m+(r.w_bits-8<<4)<<8;p|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(p|=32),p+=31-p%31,r.status=C,B(r,p),0!==r.strstart&&(B(r,e.adler>>>16),B(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),I(e),o=r.pending,r.pending!==r.pending_buf_size));)R(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),I(e),o=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,R(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),0===c&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),I(e),o=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,R(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>o&&(e.adler=s(e.adler,r.pending_buf,r.pending-o,o)),0===c&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&I(e),r.pending+2<=r.pending_buf_size&&(R(r,255&e.adler),R(r,e.adler>>8&255),e.adler=0,r.status=C)):r.status=C),0!==r.pending){if(I(e),0===e.avail_out)return r.last_flush=-1,h}else if(0===e.avail_in&&N(t)<=N(n)&&t!==d)return F(e,-5);if(666===r.status&&0!==e.avail_in)return F(e,-5);if(0!==e.avail_in||0!==r.lookahead||t!==l&&666!==r.status){var f=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(j(e),0===e.lookahead)){if(t===l)return k;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(M(e,!1),0===e.strm.avail_out))return k}return e.insert=0,t===d?(M(e,!0),0===e.strm.avail_out?U:O):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?k:S}(r,t):3===r.strategy?function(e,t){for(var n,i,r,o,s=e.window;;){if(e.lookahead<=T){if(j(e),e.lookahead<=T&&t===l)return k;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=D&&0<e.strstart&&(i=s[r=e.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){o=e.strstart+T;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);e.match_length=T-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=D?(n=a._tr_tally(e,1,e.match_length-D),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(M(e,!1),0===e.strm.avail_out))return k}return e.insert=0,t===d?(M(e,!0),0===e.strm.avail_out?U:O):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?k:S}(r,t):i[r.level].func(r,t);if(f!==U&&f!==O||(r.status=666),f===k||f===U)return 0===e.avail_out&&(r.last_flush=-1),h;if(f===S&&(1===t?a._tr_align(r):5!==t&&(a._tr_stored_block(r,0,0,!1),3===t&&(P(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),I(e),0===e.avail_out))return r.last_flush=-1,h}return t!==d?h:r.wrap<=0?1:(2===r.wrap?(R(r,255&e.adler),R(r,e.adler>>8&255),R(r,e.adler>>16&255),R(r,e.adler>>24&255),R(r,255&e.total_in),R(r,e.total_in>>8&255),R(r,e.total_in>>16&255),R(r,e.total_in>>24&255)):(B(r,e.adler>>>16),B(r,65535&e.adler)),I(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?h:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==E&&69!==t&&73!==t&&91!==t&&103!==t&&t!==C&&666!==t?F(e,u):(e.state=null,t===C?F(e,-3):h):u},n.deflateSetDictionary=function(e,t){var n,i,a,s,c,l,d,p,f=t.length;if(!e||!e.state)return u;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==E||n.lookahead)return u;for(1===s&&(e.adler=o(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(P(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new r.Buf8(n.w_size),r.arraySet(p,t,f-n.w_size,n.w_size,0),t=p,f=n.w_size),c=e.avail_in,l=e.next_in,d=e.input,e.avail_in=f,e.next_in=0,e.input=t,j(n);n.lookahead>=D;){for(i=n.strstart,a=n.lookahead-(D-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+D-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--a;);n.strstart=i,n.lookahead=D-1,j(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=D-1,n.match_available=0,e.next_in=l,e.input=d,e.avail_in=c,n.wrap=s,h},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){t.exports=function(e,t){var n,i,r,a,o,s,c,l,d,h,u,p,f,g,m,b,y,v,x,_,w,D,T,A,E;n=e.state,i=e.next_in,A=e.input,r=i+(e.avail_in-5),a=e.next_out,E=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),c=n.dmax,l=n.wsize,d=n.whave,h=n.wnext,u=n.window,p=n.hold,f=n.bits,g=n.lencode,m=n.distcode,b=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{f<15&&(p+=A[i++]<<f,f+=8,p+=A[i++]<<f,f+=8),v=g[p&b];t:for(;;){if(p>>>=x=v>>>24,f-=x,0==(x=v>>>16&255))E[a++]=65535&v;else{if(!(16&x)){if(!(64&x)){v=g[(65535&v)+(p&(1<<x)-1)];continue t}if(32&x){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}_=65535&v,(x&=15)&&(f<x&&(p+=A[i++]<<f,f+=8),_+=p&(1<<x)-1,p>>>=x,f-=x),f<15&&(p+=A[i++]<<f,f+=8,p+=A[i++]<<f,f+=8),v=m[p&y];n:for(;;){if(p>>>=x=v>>>24,f-=x,!(16&(x=v>>>16&255))){if(!(64&x)){v=m[(65535&v)+(p&(1<<x)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&v,f<(x&=15)&&(p+=A[i++]<<f,(f+=8)<x&&(p+=A[i++]<<f,f+=8)),c<(w+=p&(1<<x)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=x,f-=x,(x=a-o)<w){if(d<(x=w-x)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(T=u,(D=0)===h){if(D+=l-x,x<_){for(_-=x;E[a++]=u[D++],--x;);D=a-w,T=E}}else if(h<x){if(D+=l+h-x,(x-=h)<_){for(_-=x;E[a++]=u[D++],--x;);if(D=0,h<_){for(_-=x=h;E[a++]=u[D++],--x;);D=a-w,T=E}}}else if(D+=h-x,x<_){for(_-=x;E[a++]=u[D++],--x;);D=a-w,T=E}for(;2<_;)E[a++]=T[D++],E[a++]=T[D++],E[a++]=T[D++],_-=3;_&&(E[a++]=T[D++],1<_&&(E[a++]=T[D++]))}else{for(D=a-w;E[a++]=E[D++],E[a++]=E[D++],E[a++]=E[D++],2<(_-=3););_&&(E[a++]=E[D++],1<_&&(E[a++]=E[D++]))}break}}break}}while(i<r&&a<s);i-=_=f>>3,p&=(1<<(f-=_<<3))-1,e.next_in=i,e.next_out=a,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=p,n.bits=f}},{}],49:[function(e,t,n){var i=e("../utils/common"),r=e("./adler32"),a=e("./crc32"),o=e("./inffast"),s=e("./inftrees"),c=1,l=2,d=0,h=-2,u=1,p=852,f=592;function g(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=u,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(p),t.distcode=t.distdyn=new i.Buf32(f),t.sane=1,t.back=-1,d):h}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,b(e)):h}function v(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?h:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,y(e))):h}function x(e,t){var n,i;return e?(i=new m,(e.state=i).window=null,(n=v(e,t))!==d&&(e.state=null),n):h}var _,w,D=!0;function T(e){if(D){var t;for(_=new i.Buf32(512),w=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(l,e.lens,0,32,w,0,e.work,{bits:5}),D=!1}e.lencode=_,e.lenbits=9,e.distcode=w,e.distbits=5}function A(e,t,n,r){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),r>=o.wsize?(i.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r<(a=o.wsize-o.wnext)&&(a=r),i.arraySet(o.window,t,n-r,a,o.wnext),(r-=a)?(i.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}n.inflateReset=y,n.inflateReset2=v,n.inflateResetKeep=b,n.inflateInit=function(e){return x(e,15)},n.inflateInit2=x,n.inflate=function(e,t){var n,p,f,m,b,y,v,x,_,w,D,E,C,k,S,U,O,F,N,P,I,M,R,B,L=0,j=new i.Buf8(4),W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return h;12===(n=e.state).mode&&(n.mode=13),b=e.next_out,f=e.output,v=e.avail_out,m=e.next_in,p=e.input,y=e.avail_in,x=n.hold,_=n.bits,w=y,D=v,M=d;e:for(;;)switch(n.mode){case u:if(0===n.wrap){n.mode=13;break}for(;_<16;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}if(2&n.wrap&&35615===x){j[n.check=0]=255&x,j[1]=x>>>8&255,n.check=a(n.check,j,2,0),_=x=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&x)<<8)+(x>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&x)){e.msg="unknown compression method",n.mode=30;break}if(_-=4,I=8+(15&(x>>>=4)),0===n.wbits)n.wbits=I;else if(I>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<I,e.adler=n.check=1,n.mode=512&x?10:12,_=x=0;break;case 2:for(;_<16;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}if(n.flags=x,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=x>>8&1),512&n.flags&&(j[0]=255&x,j[1]=x>>>8&255,n.check=a(n.check,j,2,0)),_=x=0,n.mode=3;case 3:for(;_<32;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}n.head&&(n.head.time=x),512&n.flags&&(j[0]=255&x,j[1]=x>>>8&255,j[2]=x>>>16&255,j[3]=x>>>24&255,n.check=a(n.check,j,4,0)),_=x=0,n.mode=4;case 4:for(;_<16;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}n.head&&(n.head.xflags=255&x,n.head.os=x>>8),512&n.flags&&(j[0]=255&x,j[1]=x>>>8&255,n.check=a(n.check,j,2,0)),_=x=0,n.mode=5;case 5:if(1024&n.flags){for(;_<16;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}n.length=x,n.head&&(n.head.extra_len=x),512&n.flags&&(j[0]=255&x,j[1]=x>>>8&255,n.check=a(n.check,j,2,0)),_=x=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(E=n.length)&&(E=y),E&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,p,m,E,I)),512&n.flags&&(n.check=a(n.check,p,E,m)),y-=E,m+=E,n.length-=E),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break e;for(E=0;I=p[m+E++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I)),I&&E<y;);if(512&n.flags&&(n.check=a(n.check,p,E,m)),y-=E,m+=E,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break e;for(E=0;I=p[m+E++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I)),I&&E<y;);if(512&n.flags&&(n.check=a(n.check,p,E,m)),y-=E,m+=E,I)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;_<16;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}if(x!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}_=x=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;_<32;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}e.adler=n.check=g(x),_=x=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=b,e.avail_out=v,e.next_in=m,e.avail_in=y,n.hold=x,n.bits=_,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){x>>>=7&_,_-=7&_,n.mode=27;break}for(;_<3;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}switch(n.last=1&x,_-=1,3&(x>>>=1)){case 0:n.mode=14;break;case 1:if(T(n),n.mode=20,6!==t)break;x>>>=2,_-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}x>>>=2,_-=2;break;case 14:for(x>>>=7&_,_-=7&_;_<32;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}if((65535&x)!=(x>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&x,_=x=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(E=n.length){if(y<E&&(E=y),v<E&&(E=v),0===E)break e;i.arraySet(f,p,m,E,b),y-=E,m+=E,v-=E,b+=E,n.length-=E;break}n.mode=12;break;case 17:for(;_<14;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}if(n.nlen=257+(31&x),x>>>=5,_-=5,n.ndist=1+(31&x),x>>>=5,_-=5,n.ncode=4+(15&x),x>>>=4,_-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;_<3;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}n.lens[W[n.have++]]=7&x,x>>>=3,_-=3}for(;n.have<19;)n.lens[W[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},M=s(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,M){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;U=(L=n.lencode[x&(1<<n.lenbits)-1])>>>16&255,O=65535&L,!((S=L>>>24)<=_);){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}if(O<16)x>>>=S,_-=S,n.lens[n.have++]=O;else{if(16===O){for(B=S+2;_<B;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}if(x>>>=S,_-=S,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}I=n.lens[n.have-1],E=3+(3&x),x>>>=2,_-=2}else if(17===O){for(B=S+3;_<B;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}_-=S,I=0,E=3+(7&(x>>>=S)),x>>>=3,_-=3}else{for(B=S+7;_<B;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}_-=S,I=0,E=11+(127&(x>>>=S)),x>>>=7,_-=7}if(n.have+E>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;E--;)n.lens[n.have++]=I}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,R={bits:n.lenbits},M=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,M){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},M=s(l,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,M){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=y&&258<=v){e.next_out=b,e.avail_out=v,e.next_in=m,e.avail_in=y,n.hold=x,n.bits=_,o(e,D),b=e.next_out,f=e.output,v=e.avail_out,m=e.next_in,p=e.input,y=e.avail_in,x=n.hold,_=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;U=(L=n.lencode[x&(1<<n.lenbits)-1])>>>16&255,O=65535&L,!((S=L>>>24)<=_);){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}if(U&&!(240&U)){for(F=S,N=U,P=O;U=(L=n.lencode[P+((x&(1<<F+N)-1)>>F)])>>>16&255,O=65535&L,!(F+(S=L>>>24)<=_);){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}x>>>=F,_-=F,n.back+=F}if(x>>>=S,_-=S,n.back+=S,n.length=O,0===U){n.mode=26;break}if(32&U){n.back=-1,n.mode=12;break}if(64&U){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&U,n.mode=22;case 22:if(n.extra){for(B=n.extra;_<B;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}n.length+=x&(1<<n.extra)-1,x>>>=n.extra,_-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;U=(L=n.distcode[x&(1<<n.distbits)-1])>>>16&255,O=65535&L,!((S=L>>>24)<=_);){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}if(!(240&U)){for(F=S,N=U,P=O;U=(L=n.distcode[P+((x&(1<<F+N)-1)>>F)])>>>16&255,O=65535&L,!(F+(S=L>>>24)<=_);){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}x>>>=F,_-=F,n.back+=F}if(x>>>=S,_-=S,n.back+=S,64&U){e.msg="invalid distance code",n.mode=30;break}n.offset=O,n.extra=15&U,n.mode=24;case 24:if(n.extra){for(B=n.extra;_<B;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}n.offset+=x&(1<<n.extra)-1,x>>>=n.extra,_-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===v)break e;if(E=D-v,n.offset>E){if((E=n.offset-E)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}C=E>n.wnext?(E-=n.wnext,n.wsize-E):n.wnext-E,E>n.length&&(E=n.length),k=n.window}else k=f,C=b-n.offset,E=n.length;for(v<E&&(E=v),v-=E,n.length-=E;f[b++]=k[C++],--E;);0===n.length&&(n.mode=21);break;case 26:if(0===v)break e;f[b++]=n.length,v--,n.mode=21;break;case 27:if(n.wrap){for(;_<32;){if(0===y)break e;y--,x|=p[m++]<<_,_+=8}if(D-=v,e.total_out+=D,n.total+=D,D&&(e.adler=n.check=n.flags?a(n.check,f,D,b-D):r(n.check,f,D,b-D)),D=v,(n.flags?x:g(x))!==n.check){e.msg="incorrect data check",n.mode=30;break}_=x=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;_<32;){if(0===y)break e;y--,x+=p[m++]<<_,_+=8}if(x!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}_=x=0}n.mode=29;case 29:M=1;break e;case 30:M=-3;break e;case 31:return-4;default:return h}return e.next_out=b,e.avail_out=v,e.next_in=m,e.avail_in=y,n.hold=x,n.bits=_,(n.wsize||D!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&A(e,e.output,e.next_out,D-e.avail_out)?(n.mode=31,-4):(w-=e.avail_in,D-=e.avail_out,e.total_in+=w,e.total_out+=D,n.total+=D,n.wrap&&D&&(e.adler=n.check=n.flags?a(n.check,f,D,e.next_out-D):r(n.check,f,D,e.next_out-D)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===D||4===t)&&M===d&&(M=-5),M)},n.inflateEnd=function(e){if(!e||!e.state)return h;var t=e.state;return t.window&&(t.window=null),e.state=null,d},n.inflateGetHeader=function(e,t){var n;return e&&e.state&&2&(n=e.state).wrap?((n.head=t).done=!1,d):h},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?h:11===n.mode&&r(1,t,i,0)!==n.check?-3:A(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,d):h},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){var i=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,c,l,d,h,u){var p,f,g,m,b,y,v,x,_,w=u.bits,D=0,T=0,A=0,E=0,C=0,k=0,S=0,U=0,O=0,F=0,N=null,P=0,I=new i.Buf16(16),M=new i.Buf16(16),R=null,B=0;for(D=0;D<=15;D++)I[D]=0;for(T=0;T<c;T++)I[t[n+T]]++;for(C=w,E=15;1<=E&&0===I[E];E--);if(E<C&&(C=E),0===E)return l[d++]=20971520,l[d++]=20971520,u.bits=1,0;for(A=1;A<E&&0===I[A];A++);for(C<A&&(C=A),D=U=1;D<=15;D++)if(U<<=1,(U-=I[D])<0)return-1;if(0<U&&(0===e||1!==E))return-1;for(M[1]=0,D=1;D<15;D++)M[D+1]=M[D]+I[D];for(T=0;T<c;T++)0!==t[n+T]&&(h[M[t[n+T]]++]=T);if(y=0===e?(N=R=h,19):1===e?(N=r,P-=257,R=a,B-=257,256):(N=o,R=s,-1),D=A,b=d,S=T=F=0,g=-1,m=(O=1<<(k=C))-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){for(v=D-S,_=h[T]<y?(x=0,h[T]):h[T]>y?(x=R[B+h[T]],N[P+h[T]]):(x=96,0),p=1<<D-S,A=f=1<<k;l[b+(F>>S)+(f-=p)]=v<<24|x<<16|_,0!==f;);for(p=1<<D-1;F&p;)p>>=1;if(0!==p?(F&=p-1,F+=p):F=0,T++,0==--I[D]){if(D===E)break;D=t[n+h[T]]}if(C<D&&(F&m)!==g){for(0===S&&(S=C),b+=A,U=1<<(k=D-S);k+S<E&&!((U-=I[k+S])<=0);)k++,U<<=1;if(O+=1<<k,1===e&&852<O||2===e&&592<O)return 1;l[g=F&m]=C<<24|k<<16|b-d}}return 0!==F&&(l[b+F]=D-S<<24|64<<16),u.bits=C,0}},{"../utils/common":41}],51:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){var i=e("../utils/common"),r=0,a=1;function o(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,c=29,l=256,d=l+1+c,h=30,u=19,p=2*d+1,f=15,g=16,m=7,b=256,y=16,v=17,x=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],w=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],A=new Array(2*(d+2));o(A);var E=new Array(2*h);o(E);var C=new Array(512);o(C);var k=new Array(256);o(k);var S=new Array(c);o(S);var U,O,F,N=new Array(h);function P(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function I(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function M(e){return e<256?C[e]:C[256+(e>>>7)]}function R(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function B(e,t,n){e.bi_valid>g-n?(e.bi_buf|=t<<e.bi_valid&65535,R(e,e.bi_buf),e.bi_buf=t>>g-e.bi_valid,e.bi_valid+=n-g):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function L(e,t,n){B(e,n[2*t],n[2*t+1])}function j(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function W(e,t,n){var i,r,a=new Array(f+1),o=0;for(i=1;i<=f;i++)a[i]=o=o+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=j(a[s]++,s))}}function q(e){var t;for(t=0;t<d;t++)e.dyn_ltree[2*t]=0;for(t=0;t<h;t++)e.dyn_dtree[2*t]=0;for(t=0;t<u;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*b]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function z(e){8<e.bi_valid?R(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,n,i){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&i[t]<=i[n]}function V(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&H(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!H(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function G(e,t,n){var i,r,a,o,s=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?L(e,r,t):(L(e,(a=k[r])+l+1,t),0!==(o=_[a])&&B(e,r-=S[a],o),L(e,a=M(--i),n),0!==(o=w[a])&&B(e,i-=N[a],o)),s<e.last_lit;);L(e,b,t)}function $(e,t){var n,i,r,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=p,n=0;n<c;n++)0!==a[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=o[2*r+1]);for(t.max_code=l,n=e.heap_len>>1;1<=n;n--)V(e,a,n);for(r=c;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],V(e,a,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,a[2*r]=a[2*n]+a[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,a[2*n+1]=a[2*i+1]=r,e.heap[1]=r++,V(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,a,o,s,c=t.dyn_tree,l=t.max_code,d=t.stat_desc.static_tree,h=t.stat_desc.has_stree,u=t.stat_desc.extra_bits,g=t.stat_desc.extra_base,m=t.stat_desc.max_length,b=0;for(a=0;a<=f;a++)e.bl_count[a]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<p;n++)m<(a=c[2*c[2*(i=e.heap[n])+1]+1]+1)&&(a=m,b++),c[2*i+1]=a,l<i||(e.bl_count[a]++,o=0,g<=i&&(o=u[i-g]),s=c[2*i],e.opt_len+=s*(a+o),h&&(e.static_len+=s*(d[2*i+1]+o)));if(0!==b){do{for(a=m-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[m]--,b-=2}while(0<b);for(a=m;0!==a;a--)for(i=e.bl_count[a];0!==i;)l<(r=e.heap[--n])||(c[2*r+1]!==a&&(e.opt_len+=(a-c[2*r+1])*c[2*r],c[2*r+1]=a),i--)}}(e,t),W(a,l,e.bl_count)}function K(e,t,n){var i,r,a=-1,o=t[1],s=0,c=7,l=4;for(0===o&&(c=138,l=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=t[2*(i+1)+1],++s<c&&r===o||(s<l?e.bl_tree[2*r]+=s:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[2*y]++):s<=10?e.bl_tree[2*v]++:e.bl_tree[2*x]++,a=r,l=(s=0)===o?(c=138,3):r===o?(c=6,3):(c=7,4))}function X(e,t,n){var i,r,a=-1,o=t[1],s=0,c=7,l=4;for(0===o&&(c=138,l=3),i=0;i<=n;i++)if(r=o,o=t[2*(i+1)+1],!(++s<c&&r===o)){if(s<l)for(;L(e,r,e.bl_tree),0!=--s;);else 0!==r?(r!==a&&(L(e,r,e.bl_tree),s--),L(e,y,e.bl_tree),B(e,s-3,2)):s<=10?(L(e,v,e.bl_tree),B(e,s-3,3)):(L(e,x,e.bl_tree),B(e,s-11,7));a=r,l=(s=0)===o?(c=138,3):r===o?(c=6,3):(c=7,4)}}o(N);var Y=!1;function Z(e,t,n,r){B(e,(s<<1)+(r?1:0),3),function(e,t,n){z(e),R(e,n),R(e,~n),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){Y||(function(){var e,t,n,i,r,a=new Array(f+1);for(i=n=0;i<c-1;i++)for(S[i]=n,e=0;e<1<<_[i];e++)k[n++]=i;for(k[n-1]=i,i=r=0;i<16;i++)for(N[i]=r,e=0;e<1<<w[i];e++)C[r++]=i;for(r>>=7;i<h;i++)for(N[i]=r<<7,e=0;e<1<<w[i]-7;e++)C[256+r++]=i;for(t=0;t<=f;t++)a[t]=0;for(e=0;e<=143;)A[2*e+1]=8,e++,a[8]++;for(;e<=255;)A[2*e+1]=9,e++,a[9]++;for(;e<=279;)A[2*e+1]=7,e++,a[7]++;for(;e<=287;)A[2*e+1]=8,e++,a[8]++;for(W(A,d+1,a),e=0;e<h;e++)E[2*e+1]=5,E[2*e]=j(e,5);U=new P(A,_,l+1,d,f),O=new P(E,w,0,h,f),F=new P(new Array(0),D,0,u,m)}(),Y=!0),e.l_desc=new I(e.dyn_ltree,U),e.d_desc=new I(e.dyn_dtree,O),e.bl_desc=new I(e.bl_tree,F),e.bi_buf=0,e.bi_valid=0,q(e)},n._tr_stored_block=Z,n._tr_flush_block=function(e,t,n,i){var o,s,c=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return r;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<l;t++)if(0!==e.dyn_ltree[2*t])return a;return r}(e)),$(e,e.l_desc),$(e,e.d_desc),c=function(e){var t;for(K(e,e.dyn_ltree,e.l_desc.max_code),K(e,e.dyn_dtree,e.d_desc.max_code),$(e,e.bl_desc),t=u-1;3<=t&&0===e.bl_tree[2*T[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=o&&(o=s)):o=s=n+5,n+4<=o&&-1!==t?Z(e,t,n,i):4===e.strategy||s===o?(B(e,2+(i?1:0),3),G(e,A,E)):(B(e,4+(i?1:0),3),function(e,t,n,i){var r;for(B(e,t-257,5),B(e,n-1,5),B(e,i-4,4),r=0;r<i;r++)B(e,e.bl_tree[2*T[r]+1],3);X(e,e.dyn_ltree,t-1),X(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),G(e,e.dyn_ltree,e.dyn_dtree)),q(e),i&&z(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(k[n]+l+1)]++,e.dyn_dtree[2*M(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){B(e,2,3),L(e,b,A),function(e){16===e.bi_valid?(R(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){(function(e){!function(e,t){if(!e.setImmediate){var n,i,r,a,o=1,s={},c=!1,l=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick(function(){u(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",p,!1):e.attachEvent("onmessage",p),function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){u(e.data)},function(e){r.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){u(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):function(e){setTimeout(u,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var r={callback:e,args:t};return s[o]=r,n(o),o++},d.clearImmediate=h}function h(e){delete s[e]}function u(e){if(c)setTimeout(u,0,e);else{var n=s[e];if(n){c=!0;try{!function(e){var n=e.callback,i=e.args;switch(i.length){case 0:n();break;case 1:n(i[0]);break;case 2:n(i[0],i[1]);break;case 3:n(i[0],i[1],i[2]);break;default:n.apply(t,i)}}(n)}finally{h(e),c=!1}}}}function p(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&u(+t.data.slice(a.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==l?l:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10);var to=Ha,no=eo.exports;za.openArrayBuffer=function(e){return no.loadAsync(e).then(function(e){return{exists:function(t){return null!==e.file(t)},read:function(t,n){return e.file(t).async("uint8array").then(function(e){return"base64"===n?to.fromByteArray(e):n?new TextDecoder(n).decode(e):e})},write:function(t,n){e.file(t,n)},toArrayBuffer:function(){return e.generateAsync({type:"arraybuffer"})}}})},za.splitPath=function(e){var t=e.lastIndexOf("/");return-1===t?{dirname:"",basename:e}:{dirname:e.substring(0,t),basename:e.substring(t+1)}},za.joinPath=function(){var e=Array.prototype.filter.call(arguments,function(e){return e}),t=[];return e.forEach(function(e){/^\//.test(e)?t=[e]:t.push(e)}),t.join("/")};var io={},ro={},ao={},oo=Ki;ao.Element=co,ao.element=function(e,t,n){return new co(e,t,n)},ao.text=function(e){return{type:"text",value:e}};var so=ao.emptyElement={first:function(){return null},firstOrEmpty:function(){return so},attributes:{},children:[]};function co(e,t,n){this.type="element",this.name=e,this.attributes=t||{},this.children=n||[]}co.prototype.first=function(e){return oo.find(this.children,function(t){return t.name===e})},co.prototype.firstOrEmpty=function(e){return this.first(e)||so},co.prototype.getElementsByTagName=function(e){return ho(oo.filter(this.children,function(t){return t.name===e}))},co.prototype.text=function(){if(0===this.children.length)return"";if(1!==this.children.length||"text"!==this.children[0].type)throw new Error("Not implemented");return this.children[0].value};var lo={getElementsByTagName:function(e){return ho(oo.flatten(this.map(function(t){return t.getElementsByTagName(e)},!0)))}};function ho(e){return oo.extend(e,lo)}var uo={},po={},fo={},go={},mo={};function bo(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var yo=bo({HTML:"text/html",isHTML:function(e){return e===yo.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),vo=bo({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===vo.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});mo.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},mo.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var i=0;i<e.length;i++)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];if(t.call(void 0,r,i,e))return r}},mo.freeze=bo,mo.MIME_TYPE=yo,mo.NAMESPACE=vo;var xo=mo,_o=xo.find,wo=xo.NAMESPACE;function Do(e){return""!==e}function To(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function Ao(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(Do):[]}(e);return Object.keys(t.reduce(To,{}))}function Eo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function Co(e,t){var n=e.prototype;if(!(n instanceof t)){function i(){}i.prototype=t.prototype,Eo(n,i=new i),e.prototype=n=i}n.constructor!=e&&(n.constructor=e)}var ko={},So=ko.ELEMENT_NODE=1,Uo=ko.ATTRIBUTE_NODE=2,Oo=ko.TEXT_NODE=3,Fo=ko.CDATA_SECTION_NODE=4,No=ko.ENTITY_REFERENCE_NODE=5,Po=ko.ENTITY_NODE=6,Io=ko.PROCESSING_INSTRUCTION_NODE=7,Mo=ko.COMMENT_NODE=8,Ro=ko.DOCUMENT_NODE=9,Bo=ko.DOCUMENT_TYPE_NODE=10,Lo=ko.DOCUMENT_FRAGMENT_NODE=11,jo=ko.NOTATION_NODE=12,Wo={},qo={};Wo.INDEX_SIZE_ERR=(qo[1]="Index size error",1),Wo.DOMSTRING_SIZE_ERR=(qo[2]="DOMString size error",2);var zo=Wo.HIERARCHY_REQUEST_ERR=(qo[3]="Hierarchy request error",3);Wo.WRONG_DOCUMENT_ERR=(qo[4]="Wrong document",4),Wo.INVALID_CHARACTER_ERR=(qo[5]="Invalid character",5),Wo.NO_DATA_ALLOWED_ERR=(qo[6]="No data allowed",6),Wo.NO_MODIFICATION_ALLOWED_ERR=(qo[7]="No modification allowed",7);var Ho=Wo.NOT_FOUND_ERR=(qo[8]="Not found",8);Wo.NOT_SUPPORTED_ERR=(qo[9]="Not supported",9);var Vo=Wo.INUSE_ATTRIBUTE_ERR=(qo[10]="Attribute in use",10);function Go(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,qo[e]),this.message=qo[e],Error.captureStackTrace&&Error.captureStackTrace(this,Go);return n.code=e,t&&(this.message=this.message+": "+t),n}function $o(){}function Ko(e,t){this._node=e,this._refresh=t,Xo(this)}function Xo(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(Rs(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var i=n.length;i in e;i++)Object.prototype.hasOwnProperty.call(e,i)&&delete e[i];Eo(n,e),e._inc=t}}function Yo(){}function Zo(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function Qo(e,t,n,i){if(i?t[Zo(t,i)]=n:t[t.length++]=n,e){n.ownerElement=e;var r=e.ownerDocument;r&&(i&&as(r,e,i),function(e,t,n){e&&e._inc++;var i=n.namespaceURI;i===wo.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(r,e,n))}}function Jo(e,t,n){var i=Zo(t,n);if(!(i>=0))throw new Go(Ho,new Error(e.tagName+"@"+n));for(var r=t.length-1;i<r;)t[i]=t[++i];if(t.length=r,e){var a=e.ownerDocument;a&&(as(a,e,n),n.ownerElement=null)}}function es(){}function ts(){}function ns(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function is(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(is(e,t))return!0}while(e=e.nextSibling)}function rs(){this.ownerDocument=this}function as(e,t,n,i){e&&e._inc++,n.namespaceURI===wo.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function os(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var r=t.firstChild,a=0;r;)i[a++]=r,r=r.nextSibling;i.length=a,delete i[i.length]}}}function ss(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,os(e.ownerDocument,e),t}function cs(e){return e&&e.nodeType===ts.DOCUMENT_TYPE_NODE}function ls(e){return e&&e.nodeType===ts.ELEMENT_NODE}function ds(e){return e&&e.nodeType===ts.TEXT_NODE}function hs(e,t){var n=e.childNodes||[];if(_o(n,ls)||cs(t))return!1;var i=_o(n,cs);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function us(e,t){var n=e.childNodes||[];if(_o(n,function(e){return ls(e)&&e!==t}))return!1;var i=_o(n,cs);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function ps(e,t,n){if(!function(e){return e&&(e.nodeType===ts.DOCUMENT_NODE||e.nodeType===ts.DOCUMENT_FRAGMENT_NODE||e.nodeType===ts.ELEMENT_NODE)}(e))throw new Go(zo,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new Go(Ho,"child not in parent");if(!function(e){return e&&(ls(e)||ds(e)||cs(e)||e.nodeType===ts.DOCUMENT_FRAGMENT_NODE||e.nodeType===ts.COMMENT_NODE||e.nodeType===ts.PROCESSING_INSTRUCTION_NODE)}(t)||cs(t)&&e.nodeType!==ts.DOCUMENT_NODE)throw new Go(zo,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function fs(e,t,n){var i=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===ts.DOCUMENT_FRAGMENT_NODE){var a=r.filter(ls);if(a.length>1||_o(r,ds))throw new Go(zo,"More than one element or text in fragment");if(1===a.length&&!hs(e,n))throw new Go(zo,"Element in fragment can not be inserted before doctype")}if(ls(t)&&!hs(e,n))throw new Go(zo,"Only one element can be added and only after doctype");if(cs(t)){if(_o(i,cs))throw new Go(zo,"Only one doctype is allowed");var o=_o(i,ls);if(n&&i.indexOf(o)<i.indexOf(n))throw new Go(zo,"Doctype can only be inserted before an element");if(!n&&o)throw new Go(zo,"Doctype can not be appended since element is present")}}function gs(e,t,n){var i=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===ts.DOCUMENT_FRAGMENT_NODE){var a=r.filter(ls);if(a.length>1||_o(r,ds))throw new Go(zo,"More than one element or text in fragment");if(1===a.length&&!us(e,n))throw new Go(zo,"Element in fragment can not be inserted before doctype")}if(ls(t)&&!us(e,n))throw new Go(zo,"Only one element can be added and only after doctype");if(cs(t)){function s(e){return cs(e)&&e!==n}if(_o(i,s))throw new Go(zo,"Only one doctype is allowed");var o=_o(i,ls);if(n&&i.indexOf(o)<i.indexOf(n))throw new Go(zo,"Doctype can only be inserted before an element")}}function ms(e,t,n,i){ps(e,t,n),e.nodeType===ts.DOCUMENT_NODE&&(i||fs)(e,t,n);var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===Lo){var a=t.firstChild;if(null==a)return t;var o=t.lastChild}else a=o=t;var s=n?n.previousSibling:e.lastChild;a.previousSibling=s,o.nextSibling=n,s?s.nextSibling=a:e.firstChild=a,null==n?e.lastChild=o:n.previousSibling=o;do{a.parentNode=e,bs(a,e.ownerDocument||e)}while(a!==o&&(a=a.nextSibling));return os(e.ownerDocument||e,e),t.nodeType==Lo&&(t.firstChild=t.lastChild=null),t}function bs(e,t){if(e.ownerDocument!==t){if(e.ownerDocument=t,e.nodeType===So&&e.attributes)for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);i&&(i.ownerDocument=t)}for(var r=e.firstChild;r;)bs(r,t),r=r.nextSibling}}function ys(){this._nsMap={}}function vs(){}function xs(){}function _s(){}function ws(){}function Ds(){}function Ts(){}function As(){}function Es(){}function Cs(){}function ks(){}function Ss(){}function Us(){}function Os(e,t){var n=[],i=9==this.nodeType&&this.documentElement||this,r=i.prefix,a=i.namespaceURI;if(a&&null==r&&null==(r=i.lookupPrefix(a)))var o=[{namespace:a,prefix:null}];return Ps(this,n,e,t,o),n.join("")}function Fs(e,t,n){var i=e.prefix||"",r=e.namespaceURI;if(!r)return!1;if("xml"===i&&r===wo.XML||r===wo.XMLNS)return!1;for(var a=n.length;a--;){var o=n[a];if(o.prefix===i)return o.namespace!==r}return!0}function Ns(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,ns),'"')}function Ps(e,t,n,i,r){if(r||(r=[]),i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case So:var a=e.attributes,o=a.length,s=e.firstChild,c=e.tagName,l=c;if(!(n=wo.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var d,h=0;h<a.length;h++)if("xmlns"===a.item(h).name){d=a.item(h).value;break}if(!d)for(var u=r.length-1;u>=0;u--){if(""===(p=r[u]).prefix&&p.namespace===e.namespaceURI){d=p.namespace;break}}if(d!==e.namespaceURI)for(u=r.length-1;u>=0;u--){var p;if((p=r[u]).namespace===e.namespaceURI){p.prefix&&(l=p.prefix+":"+c);break}}}t.push("<",l);for(var f=0;f<o;f++){"xmlns"==(g=a.item(f)).prefix?r.push({prefix:g.localName,namespace:g.value}):"xmlns"==g.nodeName&&r.push({prefix:"",namespace:g.value})}for(f=0;f<o;f++){var g,m,b;if(Fs(g=a.item(f),0,r))Ns(t,(m=g.prefix||"")?"xmlns:"+m:"xmlns",b=g.namespaceURI),r.push({prefix:m,namespace:b});Ps(g,t,n,i,r)}if(c===l&&Fs(e,0,r))Ns(t,(m=e.prefix||"")?"xmlns:"+m:"xmlns",b=e.namespaceURI),r.push({prefix:m,namespace:b});if(s||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;s;)s.data?t.push(s.data):Ps(s,t,n,i,r.slice()),s=s.nextSibling;else for(;s;)Ps(s,t,n,i,r.slice()),s=s.nextSibling;t.push("</",l,">")}else t.push("/>");return;case Ro:case Lo:for(s=e.firstChild;s;)Ps(s,t,n,i,r.slice()),s=s.nextSibling;return;case Uo:return Ns(t,e.name,e.value);case Oo:return t.push(e.data.replace(/[<&>]/g,ns));case Fo:return t.push("<![CDATA[",e.data,"]]>");case Mo:return t.push("\x3c!--",e.data,"--\x3e");case Bo:var y=e.publicId,v=e.systemId;if(t.push("<!DOCTYPE ",e.name),y)t.push(" PUBLIC ",y),v&&"."!=v&&t.push(" ",v),t.push(">");else if(v&&"."!=v)t.push(" SYSTEM ",v,">");else{var x=e.internalSubset;x&&t.push(" [",x,"]"),t.push(">")}return;case Io:return t.push("<?",e.target," ",e.data,"?>");case No:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function Is(e,t,n){var i;switch(t.nodeType){case So:(i=t.cloneNode(!1)).ownerDocument=e;case Lo:break;case Uo:n=!0}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,n)for(var r=t.firstChild;r;)i.appendChild(Is(e,r,n)),r=r.nextSibling;return i}function Ms(e,t,n){var i=new t.constructor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=t[r];"object"!=typeof a&&a!=i[r]&&(i[r]=a)}switch(t.childNodes&&(i.childNodes=new $o),i.ownerDocument=e,i.nodeType){case So:var o=t.attributes,s=i.attributes=new Yo,c=o.length;s._ownerElement=i;for(var l=0;l<c;l++)i.setAttributeNode(Ms(e,o.item(l),!0));break;case Uo:n=!0}if(n)for(var d=t.firstChild;d;)i.appendChild(Ms(e,d,n)),d=d.nextSibling;return i}function Rs(e,t,n){e[t]=n}Wo.INVALID_STATE_ERR=(qo[11]="Invalid state",11),Wo.SYNTAX_ERR=(qo[12]="Syntax error",12),Wo.INVALID_MODIFICATION_ERR=(qo[13]="Invalid modification",13),Wo.NAMESPACE_ERR=(qo[14]="Invalid namespace",14),Wo.INVALID_ACCESS_ERR=(qo[15]="Invalid access",15),Go.prototype=Error.prototype,Eo(Wo,Go),$o.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)Ps(this[i],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},Ko.prototype.item=function(e){return Xo(this),this[e]||null},Co(Ko,$o),Yo.prototype={length:0,item:$o.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new Go(Vo);var n=this.getNamedItem(e.nodeName);return Qo(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new Go(Vo);return t=this.getNamedItemNS(e.namespaceURI,e.localName),Qo(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return Jo(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return Jo(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},es.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var i=new rs;if(i.implementation=this,i.childNodes=new $o,i.doctype=n||null,n&&i.appendChild(n),t){var r=i.createElementNS(e,t);i.appendChild(r)}return i},createDocumentType:function(e,t,n){var i=new Ts;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=n||"",i}},ts.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return ms(this,e,t)},replaceChild:function(e,t){ms(this,e,t,gs),t&&this.removeChild(t)},removeChild:function(e){return ss(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return Ms(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==Oo&&e.nodeType==Oo?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===e)return i;t=t.nodeType==Uo?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==Uo?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},Eo(ko,ts),Eo(ko,ts.prototype),rs.prototype={nodeName:"#document",nodeType:Ro,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==Lo){for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return ms(this,e,t),bs(e,this),null===this.documentElement&&e.nodeType===So&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),ss(this,e)},replaceChild:function(e,t){ms(this,e,t,gs),bs(e,this),t&&this.removeChild(t),ls(e)&&(this.documentElement=e)},importNode:function(e,t){return Is(this,e,t)},getElementById:function(e){var t=null;return is(this.documentElement,function(n){if(n.nodeType==So&&n.getAttribute("id")==e)return t=n,!0}),t},getElementsByClassName:function(e){var t=Ao(e);return new Ko(this,function(n){var i=[];return t.length>0&&is(n.documentElement,function(r){if(r!==n&&r.nodeType===So){var a=r.getAttribute("class");if(a){var o=e===a;if(!o){var s=Ao(a);o=t.every((c=s,function(e){return c&&-1!==c.indexOf(e)}))}o&&i.push(r)}}var c}),i})},createElement:function(e){var t=new ys;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new $o,(t.attributes=new Yo)._ownerElement=t,t},createDocumentFragment:function(){var e=new ks;return e.ownerDocument=this,e.childNodes=new $o,e},createTextNode:function(e){var t=new _s;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ws;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new Ds;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new Ss;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new vs;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new Cs;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new ys,i=t.split(":"),r=n.attributes=new Yo;return n.childNodes=new $o,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,r._ownerElement=n,n},createAttributeNS:function(e,t){var n=new vs,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},Co(rs,ts),ys.prototype={nodeType:So,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===Lo?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,os(e.ownerDocument,e,t),bs(t,e.ownerDocument||e),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new Ko(this,function(t){var n=[];return is(t,function(i){i===t||i.nodeType!=So||"*"!==e&&i.tagName!=e||n.push(i)}),n})},getElementsByTagNameNS:function(e,t){return new Ko(this,function(n){var i=[];return is(n,function(r){r===n||r.nodeType!==So||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||i.push(r)}),i})}},rs.prototype.getElementsByTagName=ys.prototype.getElementsByTagName,rs.prototype.getElementsByTagNameNS=ys.prototype.getElementsByTagNameNS,Co(ys,ts),vs.prototype.nodeType=Uo,Co(vs,ts),xs.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(qo[zo])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},Co(xs,ts),_s.prototype={nodeName:"#text",nodeType:Oo,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},Co(_s,xs),ws.prototype={nodeName:"#comment",nodeType:Mo},Co(ws,xs),Ds.prototype={nodeName:"#cdata-section",nodeType:Fo},Co(Ds,xs),Ts.prototype.nodeType=Bo,Co(Ts,ts),As.prototype.nodeType=jo,Co(As,ts),Es.prototype.nodeType=Po,Co(Es,ts),Cs.prototype.nodeType=No,Co(Cs,ts),ks.prototype.nodeName="#document-fragment",ks.prototype.nodeType=Lo,Co(ks,ts),Ss.prototype.nodeType=Io,Co(Ss,ts),Us.prototype.serializeToString=function(e,t,n){return Os.call(e,t,n)},ts.prototype.toString=Os;try{if(Object.defineProperty){function Iw(e){switch(e.nodeType){case So:case Lo:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(Iw(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(Ko.prototype,"length",{get:function(){return Xo(this),this.$$length}}),Object.defineProperty(ts.prototype,"textContent",{get:function(){return Iw(this)},set:function(e){switch(this.nodeType){case So:case Lo:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),Rs=function(e,t,n){e["$$"+t]=n}}}catch(Pw){}go.DocumentType=Ts,go.DOMException=Go,go.DOMImplementation=es,go.Element=ys,go.Node=ts,go.NodeList=$o,go.XMLSerializer=Us;var Bs={},Ls={};!function(e){var t=mo.freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),e.entityMap=e.HTML_ENTITIES}(Ls);var js={},Ws=mo.NAMESPACE,qs=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,zs=new RegExp("[\\-\\.0-9"+qs.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Hs=new RegExp("^"+qs.source+zs.source+"*(?::"+qs.source+zs.source+"*)?$");function Vs(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,Vs)}function Gs(){}function $s(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function Ks(e,t,n,i,r,a){function o(e,t,i){n.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),i)}for(var s,c=++t,l=0;;){var d=e.charAt(c);switch(d){case"=":if(1===l)s=e.slice(t,c),l=3;else{if(2!==l)throw new Error("attribute equal must after attrName");l=3}break;case"'":case'"':if(3===l||1===l){if(1===l&&(a.warning('attribute value must after "="'),s=e.slice(t,c)),t=c+1,!((c=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");o(s,h=e.slice(t,c),t-1),l=5}else{if(4!=l)throw new Error('attribute value must after "="');o(s,h=e.slice(t,c),t),a.warning('attribute "'+s+'" missed start quot('+d+")!!"),t=c+1,l=5}break;case"/":switch(l){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:l=7,n.closed=!0;case 4:case 1:break;case 2:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==l&&n.setTagName(e.slice(t,c)),c;case">":switch(l){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(h=e.slice(t,c)).slice(-1)&&(n.closed=!0,h=h.slice(0,-1));case 2:2===l&&(h=s),4==l?(a.warning('attribute "'+h+'" missed quot(")!'),o(s,h,t)):(Ws.isHTML(i[""])&&h.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),o(h,h,t));break;case 3:throw new Error("attribute value missed!!")}return c;case"":d=" ";default:if(d<=" ")switch(l){case 0:n.setTagName(e.slice(t,c)),l=6;break;case 1:s=e.slice(t,c),l=2;break;case 4:var h=e.slice(t,c);a.warning('attribute "'+h+'" missed quot(")!!'),o(s,h,t);case 5:l=6}else switch(l){case 2:n.tagName,Ws.isHTML(i[""])&&s.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+s+'" missed value!! "'+s+'" instead2!!'),o(s,s,t),t=c,l=1;break;case 5:a.warning('attribute space is required"'+s+'"!!');case 6:l=1,t=c;break;case 3:l=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function Xs(e,t,n){for(var i=e.tagName,r=null,a=e.length;a--;){var o=e[a],s=o.qName,c=o.value;if((u=s.indexOf(":"))>0)var l=o.prefix=s.slice(0,u),d=s.slice(u+1),h="xmlns"===l&&d;else d=s,l=null,h="xmlns"===s&&"";o.localName=d,!1!==h&&(null==r&&(r={},Qs(n,n={})),n[h]=r[h]=c,o.uri=Ws.XMLNS,t.startPrefixMapping(h,c))}for(a=e.length;a--;){(l=(o=e[a]).prefix)&&("xml"===l&&(o.uri=Ws.XML),"xmlns"!==l&&(o.uri=n[l||""]))}var u;(u=i.indexOf(":"))>0?(l=e.prefix=i.slice(0,u),d=e.localName=i.slice(u+1)):(l=null,d=e.localName=i);var p=e.uri=n[l||""];if(t.startElement(p,d,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=r,!0;if(t.endElement(p,d,i),r)for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&t.endPrefixMapping(l)}function Ys(e,t,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf("</"+n+">",t),o=e.substring(t+1,a);if(/[&<]/.test(o))return/^script$/i.test(n)?(r.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,i),r.characters(o,0,o.length),a)}return t+1}function Zs(e,t,n,i){var r=i[n];return null==r&&((r=e.lastIndexOf("</"+n+">"))<t&&(r=e.lastIndexOf("</"+n)),i[n]=r),r<t}function Qs(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function Js(e,t,n,i){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(r=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,r-t-4),r+3):(i.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var r=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,r-t-9),n.endCDATA(),r+3}var a=function(e,t){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=t,r.exec(e);for(;n=r.exec(e);)if(i.push(n),n[1])return i}(e,t),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var s=a[1][0],c=!1,l=!1;o>3&&(/^public$/i.test(a[2][0])?(c=a[3][0],l=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(l=a[3][0]));var d=a[o-1];return n.startDTD(s,c,l),n.endDTD(),d.index+d[0].length}return-1}function ec(e,t,n){var i=e.indexOf("?>",t);if(i){var r=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function tc(){this.attributeNames={}}Vs.prototype=new Error,Vs.prototype.name=Vs.name,Gs.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),Qs(t,t={}),function(e,t,n,i,r){function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function o(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(n,t)?n[t]:"#"===t.charAt(0)?a(parseInt(t.substr(1).replace("x","0x"))):(r.error("entity not found:"+e),e)}function s(t){if(t>g){var n=e.substring(g,t).replace(/&#?\w+;/g,o);u&&c(g),i.characters(n,0,t-g),g=t}}function c(t,n){for(;t>=d&&(n=h.exec(e));)l=n.index,d=l+n[0].length,u.lineNumber++;u.columnNumber=t-l+1}var l=0,d=0,h=/.*(?:\r\n?|\n)|.*$/g,u=i.locator,p=[{currentNSMap:t}],f={},g=0;for(;;){try{var m=e.indexOf("<",g);if(m<0){if(!e.substr(g).match(/^\s*$/)){var b=i.doc,y=b.createTextNode(e.substr(g));b.appendChild(y),i.currentElement=y}return}switch(m>g&&s(m),e.charAt(m+1)){case"/":var v=e.indexOf(">",m+3),x=e.substring(m+2,v).replace(/[ \t\n\r]+$/g,""),_=p.pop();v<0?(x=e.substring(m+2).replace(/[\s<].*/,""),r.error("end tag name: "+x+" is not complete:"+_.tagName),v=m+1+x.length):x.match(/\s</)&&(x=x.replace(/[\s<].*/,""),r.error("end tag name: "+x+" maybe not complete"),v=m+1+x.length);var w=_.localNSMap,D=_.tagName==x;if(D||_.tagName&&_.tagName.toLowerCase()==x.toLowerCase()){if(i.endElement(_.uri,_.localName,x),w)for(var T in w)Object.prototype.hasOwnProperty.call(w,T)&&i.endPrefixMapping(T);D||r.fatalError("end tag name: "+x+" is not match the current start tagName:"+_.tagName)}else p.push(_);v++;break;case"?":u&&c(m),v=ec(e,m,i);break;case"!":u&&c(m),v=Js(e,m,i,r);break;default:u&&c(m);var A=new tc,E=p[p.length-1].currentNSMap,C=(v=Ks(e,m,A,E,o,r),A.length);if(!A.closed&&Zs(e,v,A.tagName,f)&&(A.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),u&&C){for(var k=$s(u,{}),S=0;S<C;S++){var U=A[S];c(U.offset),U.locator=$s(u,{})}i.locator=k,Xs(A,i,E)&&p.push(A),i.locator=u}else Xs(A,i,E)&&p.push(A);Ws.isHTML(A.uri)&&!A.closed?v=Ys(e,v,A.tagName,o,i):v++}}catch(Pw){if(Pw instanceof Vs)throw Pw;r.error("element parse error: "+Pw),v=-1}v>g?g=v:s(Math.max(m,g)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}},tc.prototype={setTagName:function(e){if(!Hs.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!Hs.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},js.XMLReader=Gs,js.ParseError=Vs;var nc=mo,ic=Ls,rc=js,ac=go.DOMImplementation,oc=nc.NAMESPACE,sc=rc.ParseError,cc=rc.XMLReader;function lc(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function dc(e){this.options=e||{locator:{}}}function hc(){this.cdata=!1}function uc(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function pc(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function fc(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}dc.prototype.parseFromString=function(e,t){var n=this.options,i=new cc,r=n.domBuilder||new hc,a=n.errorHandler,o=n.locator,s=n.xmlns||{},c=/\/x?html?$/.test(t),l=c?ic.HTML_ENTITIES:ic.XML_ENTITIES;o&&r.setDocumentLocator(o),i.errorHandler=function(e,t,n){if(!e){if(t instanceof hc)return t;e=t}var i={},r=e instanceof Function;function a(t){var a=e[t];!a&&r&&(a=2==e.length?function(n){e(t,n)}:e),i[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+function(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),i}(a,r,o),i.domBuilder=n.domBuilder||r,c&&(s[""]=oc.HTML),s.xml=s.xml||oc.XML;var d=n.normalizeLineEndings||lc;return e&&"string"==typeof e?i.parse(d(e),s,l):i.errorHandler.error("invalid doc source"),r.doc},hc.prototype={startDocument:function(){this.doc=(new ac).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var r=this.doc,a=r.createElementNS(e,n||t),o=i.length;fc(this,a),this.currentElement=a,this.locator&&uc(this.locator,a);for(var s=0;s<o;s++){e=i.getURI(s);var c=i.getValue(s),l=(n=i.getQName(s),r.createAttributeNS(e,n));this.locator&&uc(i.getLocator(s),l),l.value=l.nodeValue=c,a.setAttributeNode(l)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&uc(this.locator,n),fc(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=pc.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&uc(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=pc.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&uc(this.locator,i),fc(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(e,t,n);this.locator&&uc(this.locator,r),fc(this,r),this.doc.doctype=r}},warning:function(e){},error:function(e){},fatalError:function(e){throw new sc(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){hc.prototype[e]=function(){return null}}),Bs.__DOMHandler=hc,Bs.normalizeLineEndings=lc,Bs.DOMParser=dc;var gc=go;fo.DOMImplementation=gc.DOMImplementation,fo.XMLSerializer=gc.XMLSerializer,fo.DOMParser=Bs.DOMParser;var mc=fo,bc=go;po.parseFromString=function(e){var t=null,n=new mc.DOMParser({errorHandler:function(e,n){t={level:e,message:n}}}).parseFromString(e);if(null===t)return n;throw new Error(t.level+": "+t.message)},po.Node=bc.Node;var yc=Ji,vc=Ki,xc=po,_c=ao,wc=_c.Element;uo.readString=function(e,t){t=t||{};try{var n=xc.parseFromString(e,"text/xml")}catch(a){return yc.reject(a)}if("parsererror"===n.documentElement.tagName)return yc.resolve(new Error(n.documentElement.textContent));function i(e){switch(e.nodeType){case Dc.ELEMENT_NODE:return function(e){var t=r(e),n=[];vc.forEach(e.childNodes,function(e){var t=i(e);t&&n.push(t)});var a={};return vc.forEach(e.attributes,function(e){a[r(e)]=e.value}),new wc(t,a,n)}(e);case Dc.TEXT_NODE:return _c.text(e.nodeValue)}}function r(e){if(e.namespaceURI){var n=t[e.namespaceURI];return(n?n+":":"{"+e.namespaceURI+"}")+e.localName}return e.localName}return yc.resolve(i(n.documentElement))};var Dc=xc.Node;var Tc,Ac={},Ec={},Cc={};function kc(){return Tc||(Tc=1,function(){var e,t,n,i,r,a,o,s=[].slice,c={}.hasOwnProperty;e=function(){var e,t,n,i,a,o;if(o=arguments[0],a=2<=arguments.length?s.call(arguments,1):[],r(Object.assign))Object.assign.apply(null,arguments);else for(e=0,n=a.length;e<n;e++)if(null!=(i=a[e]))for(t in i)c.call(i,t)&&(o[t]=i[t]);return o},r=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},a=function(e){var t;return!!e&&("function"==(t=typeof e)||"object"===t)},n=function(e){return r(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},i=function(e){var t;if(n(e))return!e.length;for(t in e)if(c.call(e,t))return!1;return!0},o=function(e){var t,n;return a(e)&&(n=Object.getPrototypeOf(e))&&(t=n.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},t=function(e){return r(e.valueOf)?e.valueOf():e},Cc.assign=e,Cc.isFunction=r,Cc.isObject=a,Cc.isArray=n,Cc.isEmpty=i,Cc.isPlainObject=o,Cc.getValue=t}.call(l)),Cc}var Sc,Uc,Oc={exports:{}},Fc={exports:{}},Nc={exports:{}},Pc={exports:{}};function Ic(){return Sc||(Sc=1,function(){Pc.exports=function(){function e(e,t,n){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,null==t)throw new Error("Missing attribute name. "+this.debugInfo(t));if(null==n)throw new Error("Missing attribute value. "+this.debugInfo(t));this.name=this.stringify.attName(t),this.value=this.stringify.attValue(n)}return e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},e.prototype.debugInfo=function(e){return null==(e=e||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},e}()}.call(l)),Pc.exports}function Mc(){return Uc||(Uc=1,function(){var e,t,n,i,r,a,o={}.hasOwnProperty;a=kc(),r=a.isObject,i=a.isFunction,n=a.getValue,t=xl(),e=Ic(),Nc.exports=function(t){function a(e,t,n){if(a.__super__.constructor.call(this,e),null==t)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(t),this.attributes={},null!=n&&this.attribute(n),e.isDocument&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this)}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(a,t),a.prototype.clone=function(){var e,t,n,i;for(t in(n=Object.create(this)).isRoot&&(n.documentObject=null),n.attributes={},i=this.attributes)o.call(i,t)&&(e=i[t],n.attributes[t]=e.clone());return n.children=[],this.children.forEach(function(e){var t;return(t=e.clone()).parent=n,n.children.push(t)}),n},a.prototype.attribute=function(t,a){var s,c;if(null!=t&&(t=n(t)),r(t))for(s in t)o.call(t,s)&&(c=t[s],this.attribute(s,c));else i(a)&&(a=a.apply()),this.options.skipNullAttributes&&null==a||(this.attributes[t]=new e(this,t,a));return this},a.prototype.removeAttribute=function(e){var t,i,r;if(null==e)throw new Error("Missing attribute name. "+this.debugInfo());if(e=n(e),Array.isArray(e))for(i=0,r=e.length;i<r;i++)t=e[i],delete this.attributes[t];else delete this.attributes[e];return this},a.prototype.toString=function(e){return this.options.writer.set(e).element(this)},a.prototype.att=function(e,t){return this.attribute(e,t)},a.prototype.a=function(e,t){return this.attribute(e,t)},a}(t)}.call(l)),Nc.exports}var Rc,Bc={exports:{}};function Lc(){return Rc||(Rc=1,function(){var e,t={}.hasOwnProperty;e=xl(),Bc.exports=function(e){function n(e,t){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(t)}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).cdata(this)},n}(e)}.call(l)),Bc.exports}var jc,Wc={exports:{}};function qc(){return jc||(jc=1,function(){var e,t={}.hasOwnProperty;e=xl(),Wc.exports=function(e){function n(e,t){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(t)}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).comment(this)},n}(e)}.call(l)),Wc.exports}var zc,Hc={exports:{}};function Vc(){return zc||(zc=1,function(){var e,t,n={}.hasOwnProperty;t=kc().isObject,e=xl(),Hc.exports=function(e){function i(e,n,r,a){var o;i.__super__.constructor.call(this,e),t(n)&&(n=(o=n).version,r=o.encoding,a=o.standalone),n||(n="1.0"),this.version=this.stringify.xmlVersion(n),null!=r&&(this.encoding=this.stringify.xmlEncoding(r)),null!=a&&(this.standalone=this.stringify.xmlStandalone(a))}return function(e,t){for(var i in t)n.call(t,i)&&(e[i]=t[i]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(i,e),i.prototype.toString=function(e){return this.options.writer.set(e).declaration(this)},i}(e)}.call(l)),Hc.exports}var Gc,$c={exports:{}},Kc={exports:{}};function Xc(){return Gc||(Gc=1,function(){var e,t={}.hasOwnProperty;e=xl(),Kc.exports=function(e){function n(e,t,i,r,a,o){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==i)throw new Error("Missing DTD attribute name. "+this.debugInfo(t));if(!r)throw new Error("Missing DTD attribute type. "+this.debugInfo(t));if(!a)throw new Error("Missing DTD attribute default. "+this.debugInfo(t));if(0!==a.indexOf("#")&&(a="#"+a),!a.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(t));if(o&&!a.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(t));this.elementName=this.stringify.eleName(t),this.attributeName=this.stringify.attName(i),this.attributeType=this.stringify.dtdAttType(r),this.defaultValue=this.stringify.dtdAttDefault(o),this.defaultValueType=a}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.toString=function(e){return this.options.writer.set(e).dtdAttList(this)},n}(e)}.call(l)),Kc.exports}var Yc,Zc={exports:{}};function Qc(){return Yc||(Yc=1,function(){var e,t,n={}.hasOwnProperty;t=kc().isObject,e=xl(),Zc.exports=function(e){function i(e,n,r,a){if(i.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD entity name. "+this.debugInfo(r));if(null==a)throw new Error("Missing DTD entity value. "+this.debugInfo(r));if(this.pe=!!n,this.name=this.stringify.eleName(r),t(a)){if(!a.pubID&&!a.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(r));if(a.pubID&&!a.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(r));if(null!=a.pubID&&(this.pubID=this.stringify.dtdPubID(a.pubID)),null!=a.sysID&&(this.sysID=this.stringify.dtdSysID(a.sysID)),null!=a.nData&&(this.nData=this.stringify.dtdNData(a.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(r))}else this.value=this.stringify.dtdEntityValue(a)}return function(e,t){for(var i in t)n.call(t,i)&&(e[i]=t[i]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(i,e),i.prototype.toString=function(e){return this.options.writer.set(e).dtdEntity(this)},i}(e)}.call(l)),Zc.exports}var Jc,el={exports:{}};function tl(){return Jc||(Jc=1,function(){var e,t={}.hasOwnProperty;e=xl(),el.exports=function(e){function n(e,t,i){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing DTD element name. "+this.debugInfo());i||(i="(#PCDATA)"),Array.isArray(i)&&(i="("+i.join(",")+")"),this.name=this.stringify.eleName(t),this.value=this.stringify.dtdElementValue(i)}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.toString=function(e){return this.options.writer.set(e).dtdElement(this)},n}(e)}.call(l)),el.exports}var nl,il,rl={exports:{}};function al(){return nl||(nl=1,function(){var e,t={}.hasOwnProperty;e=xl(),rl.exports=function(e){function n(e,t,i){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing DTD notation name. "+this.debugInfo(t));if(!i.pubID&&!i.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(t));this.name=this.stringify.eleName(t),null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID))}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.toString=function(e){return this.options.writer.set(e).dtdNotation(this)},n}(e)}.call(l)),rl.exports}function ol(){return il||(il=1,function(){var e,t,n,i,r,a,o={}.hasOwnProperty;a=kc().isObject,r=xl(),e=Xc(),n=Qc(),t=tl(),i=al(),$c.exports=function(r){function s(e,t,n){var i,r;s.__super__.constructor.call(this,e),this.name="!DOCTYPE",this.documentObject=e,a(t)&&(t=(i=t).pubID,n=i.sysID),null==n&&(n=(r=[t,n])[0],t=r[1]),null!=t&&(this.pubID=this.stringify.dtdPubID(t)),null!=n&&(this.sysID=this.stringify.dtdSysID(n))}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(s,r),s.prototype.element=function(e,n){var i;return i=new t(this,e,n),this.children.push(i),this},s.prototype.attList=function(t,n,i,r,a){var o;return o=new e(this,t,n,i,r,a),this.children.push(o),this},s.prototype.entity=function(e,t){var i;return i=new n(this,!1,e,t),this.children.push(i),this},s.prototype.pEntity=function(e,t){var i;return i=new n(this,!0,e,t),this.children.push(i),this},s.prototype.notation=function(e,t){var n;return n=new i(this,e,t),this.children.push(n),this},s.prototype.toString=function(e){return this.options.writer.set(e).docType(this)},s.prototype.ele=function(e,t){return this.element(e,t)},s.prototype.att=function(e,t,n,i,r){return this.attList(e,t,n,i,r)},s.prototype.ent=function(e,t){return this.entity(e,t)},s.prototype.pent=function(e,t){return this.pEntity(e,t)},s.prototype.not=function(e,t){return this.notation(e,t)},s.prototype.up=function(){return this.root()||this.documentObject},s}(r)}.call(l)),$c.exports}var sl,cl={exports:{}};function ll(){return sl||(sl=1,function(){var e,t={}.hasOwnProperty;e=xl(),cl.exports=function(e){function n(e,t){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(t)}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).raw(this)},n}(e)}.call(l)),cl.exports}var dl,hl={exports:{}};function ul(){return dl||(dl=1,function(){var e,t={}.hasOwnProperty;e=xl(),hl.exports=function(e){function n(e,t){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(t)}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).text(this)},n}(e)}.call(l)),hl.exports}var pl,fl={exports:{}};function gl(){return pl||(pl=1,function(){var e,t={}.hasOwnProperty;e=xl(),fl.exports=function(e){function n(e,t,i){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(t),i&&(this.value=this.stringify.insValue(i))}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).processingInstruction(this)},n}(e)}.call(l)),fl.exports}var ml,bl,yl={exports:{}};function vl(){return ml||(ml=1,function(){var e,t={}.hasOwnProperty;e=xl(),yl.exports=function(e){function n(e){n.__super__.constructor.call(this,e),this.isDummy=!0}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return""},n}(e)}.call(l)),yl.exports}function xl(){return bl||(bl=1,function(){var e,t,n,i,r,a,o,s,c,l,d,h,u,p,f={}.hasOwnProperty;p=kc(),u=p.isObject,h=p.isFunction,d=p.isEmpty,l=p.getValue,a=null,e=null,t=null,n=null,i=null,s=null,c=null,o=null,r=null,Fc.exports=function(){function p(l){this.parent=l,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],a||(a=Mc(),e=Lc(),t=qc(),n=Vc(),i=ol(),s=ll(),c=ul(),o=gl(),r=vl())}return p.prototype.element=function(e,t,n){var i,r,a,o,s,c,p,g,m,b,y;if(c=null,null===t&&null==n&&(t=(m=[{},null])[0],n=m[1]),null==t&&(t={}),t=l(t),u(t)||(n=(b=[t,n])[0],t=b[1]),null!=e&&(e=l(e)),Array.isArray(e))for(a=0,p=e.length;a<p;a++)r=e[a],c=this.element(r);else if(h(e))c=this.element(e.apply());else if(u(e)){for(s in e)if(f.call(e,s))if(y=e[s],h(y)&&(y=y.apply()),u(y)&&d(y)&&(y=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===s.indexOf(this.stringify.convertAttKey))c=this.attribute(s.substr(this.stringify.convertAttKey.length),y);else if(!this.options.separateArrayItems&&Array.isArray(y))for(o=0,g=y.length;o<g;o++)r=y[o],(i={})[s]=r,c=this.element(i);else u(y)?(c=this.element(s)).element(y):c=this.element(s,y)}else c=this.options.skipNullNodes&&null===n?this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),n):this.node(e,t,n);if(null==c)throw new Error("Could not create any elements with: "+e+". "+this.debugInfo());return c},p.prototype.insertBefore=function(e,t,n){var i,r,a;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return r=this.parent.children.indexOf(this),a=this.parent.children.splice(r),i=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,a),i},p.prototype.insertAfter=function(e,t,n){var i,r,a;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return r=this.parent.children.indexOf(this),a=this.parent.children.splice(r+1),i=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,a),i},p.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},p.prototype.node=function(e,t,n){var i,r;return null!=e&&(e=l(e)),t||(t={}),t=l(t),u(t)||(n=(r=[t,n])[0],t=r[1]),i=new a(this,e,t),null!=n&&i.text(n),this.children.push(i),i},p.prototype.text=function(e){var t;return t=new c(this,e),this.children.push(t),this},p.prototype.cdata=function(t){var n;return n=new e(this,t),this.children.push(n),this},p.prototype.comment=function(e){var n;return n=new t(this,e),this.children.push(n),this},p.prototype.commentBefore=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},p.prototype.commentAfter=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},p.prototype.raw=function(e){var t;return t=new s(this,e),this.children.push(t),this},p.prototype.dummy=function(){var e;return e=new r(this),this.children.push(e),e},p.prototype.instruction=function(e,t){var n,i,r,a,s;if(null!=e&&(e=l(e)),null!=t&&(t=l(t)),Array.isArray(e))for(a=0,s=e.length;a<s;a++)n=e[a],this.instruction(n);else if(u(e))for(n in e)f.call(e,n)&&(i=e[n],this.instruction(n,i));else h(t)&&(t=t.apply()),r=new o(this,e,t),this.children.push(r);return this},p.prototype.instructionBefore=function(e,t){var n,i;return n=this.parent.children.indexOf(this),i=this.parent.children.splice(n),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,i),this},p.prototype.instructionAfter=function(e,t){var n,i;return n=this.parent.children.indexOf(this),i=this.parent.children.splice(n+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,i),this},p.prototype.declaration=function(e,t,i){var r,a;return r=this.document(),a=new n(r,e,t,i),r.children[0]instanceof n?r.children[0]=a:r.children.unshift(a),r.root()||r},p.prototype.doctype=function(e,t){var n,r,a,o,s,c,l,d,h;for(n=this.document(),r=new i(n,e,t),a=o=0,c=(d=n.children).length;o<c;a=++o)if(d[a]instanceof i)return n.children[a]=r,r;for(a=s=0,l=(h=n.children).length;s<l;a=++s)if(h[a].isRoot)return n.children.splice(a,0,r),r;return n.children.push(r),r},p.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},p.prototype.root=function(){var e;for(e=this;e;){if(e.isDocument)return e.rootObject;if(e.isRoot)return e;e=e.parent}},p.prototype.document=function(){var e;for(e=this;e;){if(e.isDocument)return e;e=e.parent}},p.prototype.end=function(e){return this.document().end(e)},p.prototype.prev=function(){var e;for(e=this.parent.children.indexOf(this);e>0&&this.parent.children[e-1].isDummy;)e-=1;if(e<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]},p.prototype.next=function(){var e;for(e=this.parent.children.indexOf(this);e<this.parent.children.length-1&&this.parent.children[e+1].isDummy;)e+=1;if(-1===e||e===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]},p.prototype.importDocument=function(e){var t;return(t=e.root().clone()).parent=this,t.isRoot=!1,this.children.push(t),this},p.prototype.debugInfo=function(e){var t,n;return null!=(e=e||this.name)||(null!=(t=this.parent)?t.name:void 0)?null==e?"parent: <"+this.parent.name+">":(null!=(n=this.parent)?n.name:void 0)?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">":""},p.prototype.ele=function(e,t,n){return this.element(e,t,n)},p.prototype.nod=function(e,t,n){return this.node(e,t,n)},p.prototype.txt=function(e){return this.text(e)},p.prototype.dat=function(e){return this.cdata(e)},p.prototype.com=function(e){return this.comment(e)},p.prototype.ins=function(e,t){return this.instruction(e,t)},p.prototype.doc=function(){return this.document()},p.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},p.prototype.dtd=function(e,t){return this.doctype(e,t)},p.prototype.e=function(e,t,n){return this.element(e,t,n)},p.prototype.n=function(e,t,n){return this.node(e,t,n)},p.prototype.t=function(e){return this.text(e)},p.prototype.d=function(e){return this.cdata(e)},p.prototype.c=function(e){return this.comment(e)},p.prototype.r=function(e){return this.raw(e)},p.prototype.i=function(e,t){return this.instruction(e,t)},p.prototype.u=function(){return this.up()},p.prototype.importXMLBuilder=function(e){return this.importDocument(e)},p}()}.call(l)),Fc.exports}var _l,wl={exports:{}};function Dl(){return _l||(_l=1,function(){var e={}.hasOwnProperty;wl.exports=function(){function t(t){var n,i,r,a,o;for(r in this.assertLegalChar=(n=this.assertLegalChar,i=this,function(){return n.apply(i,arguments)}),t||(t={}),this.noDoubleEncoding=t.noDoubleEncoding,a=t.stringify||{})e.call(a,r)&&(o=a[r],this[r]=o)}return t.prototype.eleName=function(e){return e=""+e||"",this.assertLegalChar(e)},t.prototype.eleText=function(e){return e=""+e||"",this.assertLegalChar(this.elEscape(e))},t.prototype.cdata=function(e){return e=(e=""+e||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e)},t.prototype.comment=function(e){if((e=""+e||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},t.prototype.raw=function(e){return""+e||""},t.prototype.attName=function(e){return""+e||""},t.prototype.attValue=function(e){return e=""+e||"",this.attEscape(e)},t.prototype.insTarget=function(e){return""+e||""},t.prototype.insValue=function(e){if((e=""+e||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return e},t.prototype.xmlVersion=function(e){if(!(e=""+e||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},t.prototype.xmlEncoding=function(e){if(!(e=""+e||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return e},t.prototype.xmlStandalone=function(e){return e?"yes":"no"},t.prototype.dtdPubID=function(e){return""+e||""},t.prototype.dtdSysID=function(e){return""+e||""},t.prototype.dtdElementValue=function(e){return""+e||""},t.prototype.dtdAttType=function(e){return""+e||""},t.prototype.dtdAttDefault=function(e){return null!=e?""+e||"":e},t.prototype.dtdEntityValue=function(e){return""+e||""},t.prototype.dtdNData=function(e){return""+e||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(e){var t;if(t=e.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+e+" at index "+t.index);return e},t.prototype.elEscape=function(e){var t;return t=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(e){var t;return t=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t}()}.call(l)),wl.exports}var Tl,Al,El,Cl={exports:{}},kl={exports:{}};function Sl(){return Tl||(Tl=1,function(){var e={}.hasOwnProperty;kl.exports=function(){function t(t){var n,i,r,a,o,s,c,l,d;for(n in t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=null!=(i=t.allowEmpty)&&i,this.pretty?(this.indent=null!=(r=t.indent)?r:"  ",this.newline=null!=(a=t.newline)?a:"\n",this.offset=null!=(o=t.offset)?o:0,this.dontprettytextnodes=null!=(s=t.dontprettytextnodes)?s:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=null!=(c=t.spacebeforeslash)?c:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,l=t.writer||{})e.call(l,n)&&(d=l[n],this[n]=d)}return t.prototype.set=function(t){var n,i,r;for(n in t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:"\n",this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=t.writer||{})e.call(i,n)&&(r=i[n],this[n]=r);return this},t.prototype.space=function(e){var t;return this.pretty&&(t=(e||0)+this.offset+1)>0?new Array(t).join(this.indent):""},t}()}.call(l)),kl.exports}function Ul(){return Al||(Al=1,function(){var e,t,n,i,r,a,o,s,c,l,d,h,u,p,f={}.hasOwnProperty;o=Vc(),s=ol(),e=Lc(),t=qc(),l=Mc(),h=ll(),u=ul(),d=gl(),c=vl(),n=Xc(),i=tl(),r=Qc(),a=al(),p=Sl(),Cl.exports=function(p){function g(e){g.__super__.constructor.call(this,e)}return function(e,t){for(var n in t)f.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(g,p),g.prototype.document=function(e){var n,i,r,a,l;for(this.textispresent=!1,a="",i=0,r=(l=e.children).length;i<r;i++)(n=l[i])instanceof c||(a+=function(){switch(!1){case!(n instanceof o):return this.declaration(n);case!(n instanceof s):return this.docType(n);case!(n instanceof t):return this.comment(n);case!(n instanceof d):return this.processingInstruction(n);default:return this.element(n,0)}}.call(this));return this.pretty&&a.slice(-this.newline.length)===this.newline&&(a=a.slice(0,-this.newline.length)),a},g.prototype.attribute=function(e){return" "+e.name+'="'+e.value+'"'},g.prototype.cdata=function(e,t){return this.space(t)+"<![CDATA["+e.text+"]]>"+this.newline},g.prototype.comment=function(e,t){return this.space(t)+"\x3c!-- "+e.text+" --\x3e"+this.newline},g.prototype.declaration=function(e,t){var n;return n=this.space(t),n+='<?xml version="'+e.version+'"',null!=e.encoding&&(n+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(n+=' standalone="'+e.standalone+'"'),n+=this.spacebeforeslash+"?>",n+=this.newline},g.prototype.docType=function(o,s){var c,l,h,u,p;if(s||(s=0),u=this.space(s),u+="<!DOCTYPE "+o.root().name,o.pubID&&o.sysID?u+=' PUBLIC "'+o.pubID+'" "'+o.sysID+'"':o.sysID&&(u+=' SYSTEM "'+o.sysID+'"'),o.children.length>0){for(u+=" [",u+=this.newline,l=0,h=(p=o.children).length;l<h;l++)c=p[l],u+=function(){switch(!1){case!(c instanceof n):return this.dtdAttList(c,s+1);case!(c instanceof i):return this.dtdElement(c,s+1);case!(c instanceof r):return this.dtdEntity(c,s+1);case!(c instanceof a):return this.dtdNotation(c,s+1);case!(c instanceof e):return this.cdata(c,s+1);case!(c instanceof t):return this.comment(c,s+1);case!(c instanceof d):return this.processingInstruction(c,s+1);default:throw new Error("Unknown DTD node type: "+c.constructor.name)}}.call(this);u+="]"}return u+=this.spacebeforeslash+">",u+=this.newline},g.prototype.element=function(n,i){var r,a,o,s,p,g,m,b,y,v,x,_,w;for(m in i||(i=0),w=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),b="",b+=(_=this.space(i))+"<"+n.name,y=n.attributes)f.call(y,m)&&(r=y[m],b+=this.attribute(r));if(0===n.children.length||n.children.every(function(e){return""===e.value}))this.allowEmpty?b+="></"+n.name+">"+this.newline:b+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&1===n.children.length&&null!=n.children[0].value)b+=">",b+=n.children[0].value,b+="</"+n.name+">"+this.newline;else{if(this.dontprettytextnodes)for(o=0,p=(v=n.children).length;o<p;o++)if(null!=(a=v[o]).value){this.textispresent++,w=!0;break}for(this.textispresent&&(this.newline="",this.pretty=!1,_=this.space(i)),b+=">"+this.newline,s=0,g=(x=n.children).length;s<g;s++)a=x[s],b+=function(){switch(!1){case!(a instanceof e):return this.cdata(a,i+1);case!(a instanceof t):return this.comment(a,i+1);case!(a instanceof l):return this.element(a,i+1);case!(a instanceof h):return this.raw(a,i+1);case!(a instanceof u):return this.text(a,i+1);case!(a instanceof d):return this.processingInstruction(a,i+1);case!(a instanceof c):return"";default:throw new Error("Unknown XML node type: "+a.constructor.name)}}.call(this);w&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),b+=_+"</"+n.name+">"+this.newline}return b},g.prototype.processingInstruction=function(e,t){var n;return n=this.space(t)+"<?"+e.target,e.value&&(n+=" "+e.value),n+=this.spacebeforeslash+"?>"+this.newline},g.prototype.raw=function(e,t){return this.space(t)+e.value+this.newline},g.prototype.text=function(e,t){return this.space(t)+e.value+this.newline},g.prototype.dtdAttList=function(e,t){var n;return n=this.space(t)+"<!ATTLIST "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(n+=" "+e.defaultValueType),e.defaultValue&&(n+=' "'+e.defaultValue+'"'),n+=this.spacebeforeslash+">"+this.newline},g.prototype.dtdElement=function(e,t){return this.space(t)+"<!ELEMENT "+e.name+" "+e.value+this.spacebeforeslash+">"+this.newline},g.prototype.dtdEntity=function(e,t){var n;return n=this.space(t)+"<!ENTITY",e.pe&&(n+=" %"),n+=" "+e.name,e.value?n+=' "'+e.value+'"':(e.pubID&&e.sysID?n+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(n+=' SYSTEM "'+e.sysID+'"'),e.nData&&(n+=" NDATA "+e.nData)),n+=this.spacebeforeslash+">"+this.newline},g.prototype.dtdNotation=function(e,t){var n;return n=this.space(t)+"<!NOTATION "+e.name,e.pubID&&e.sysID?n+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?n+=' PUBLIC "'+e.pubID+'"':e.sysID&&(n+=' SYSTEM "'+e.sysID+'"'),n+=this.spacebeforeslash+">"+this.newline},g.prototype.openNode=function(e,t){var n,i,r,a;if(t||(t=0),e instanceof l){for(i in r=this.space(t)+"<"+e.name,a=e.attributes)f.call(a,i)&&(n=a[i],r+=this.attribute(n));return r+=(e.children?">":"/>")+this.newline}return r=this.space(t)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?r+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(r+=' SYSTEM "'+e.sysID+'"'),r+=(e.children?" [":">")+this.newline},g.prototype.closeNode=function(e,t){switch(t||(t=0),!1){case!(e instanceof l):return this.space(t)+"</"+e.name+">"+this.newline;case!(e instanceof s):return this.space(t)+"]>"+this.newline}},g}(p)}.call(l)),Cl.exports}function Ol(){return El||(El=1,function(){var e,t,n,i,r={}.hasOwnProperty;i=kc().isPlainObject,e=xl(),n=Dl(),t=Ul(),Oc.exports=function(e){function a(e){a.__super__.constructor.call(this,null),this.name="?xml",e||(e={}),e.writer||(e.writer=new t),this.options=e,this.stringify=new n(e),this.isDocument=!0}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(a,e),a.prototype.end=function(e){var t;return e?i(e)&&(t=e,e=this.options.writer.set(t)):e=this.options.writer,e.document(this)},a.prototype.toString=function(e){return this.options.writer.set(e).document(this)},a}(e)}.call(l)),Oc.exports}var Fl,Nl={exports:{}};function Pl(){return Fl||(Fl=1,function(){var e,t,n,i,r,a,o,s,c,l,d,h,u,p,f,g,m,b,y,v,x={}.hasOwnProperty;v=kc(),b=v.isObject,m=v.isFunction,y=v.isPlainObject,g=v.getValue,l=Mc(),t=Lc(),n=qc(),h=ll(),f=ul(),d=gl(),s=Vc(),c=ol(),i=Xc(),a=Qc(),r=tl(),o=al(),e=Ic(),p=Dl(),u=Ul(),Nl.exports=function(){function v(e,t,n){var i;this.name="?xml",e||(e={}),e.writer?y(e.writer)&&(i=e.writer,e.writer=new u(i)):e.writer=new u(e),this.options=e,this.writer=e.writer,this.stringify=new p(e),this.onDataCallback=t||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return v.prototype.node=function(e,t,n){var i,r;if(null==e)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(e));return this.openCurrent(),e=g(e),null===t&&null==n&&(t=(i=[{},null])[0],n=i[1]),null==t&&(t={}),t=g(t),b(t)||(n=(r=[t,n])[0],t=r[1]),this.currentNode=new l(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},v.prototype.element=function(e,t,n){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(e,t,n)},v.prototype.attribute=function(t,n){var i,r;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(t));if(null!=t&&(t=g(t)),b(t))for(i in t)x.call(t,i)&&(r=t[i],this.attribute(i,r));else m(n)&&(n=n.apply()),this.options.skipNullAttributes&&null==n||(this.currentNode.attributes[t]=new e(this,t,n));return this},v.prototype.text=function(e){var t;return this.openCurrent(),t=new f(this,e),this.onData(this.writer.text(t,this.currentLevel+1),this.currentLevel+1),this},v.prototype.cdata=function(e){var n;return this.openCurrent(),n=new t(this,e),this.onData(this.writer.cdata(n,this.currentLevel+1),this.currentLevel+1),this},v.prototype.comment=function(e){var t;return this.openCurrent(),t=new n(this,e),this.onData(this.writer.comment(t,this.currentLevel+1),this.currentLevel+1),this},v.prototype.raw=function(e){var t;return this.openCurrent(),t=new h(this,e),this.onData(this.writer.raw(t,this.currentLevel+1),this.currentLevel+1),this},v.prototype.instruction=function(e,t){var n,i,r,a,o;if(this.openCurrent(),null!=e&&(e=g(e)),null!=t&&(t=g(t)),Array.isArray(e))for(n=0,a=e.length;n<a;n++)i=e[n],this.instruction(i);else if(b(e))for(i in e)x.call(e,i)&&(r=e[i],this.instruction(i,r));else m(t)&&(t=t.apply()),o=new d(this,e,t),this.onData(this.writer.processingInstruction(o,this.currentLevel+1),this.currentLevel+1);return this},v.prototype.declaration=function(e,t,n){var i;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return i=new s(this,e,t,n),this.onData(this.writer.declaration(i,this.currentLevel+1),this.currentLevel+1),this},v.prototype.doctype=function(e,t,n){if(this.openCurrent(),null==e)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new c(this,t,n),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},v.prototype.dtdElement=function(e,t){var n;return this.openCurrent(),n=new r(this,e,t),this.onData(this.writer.dtdElement(n,this.currentLevel+1),this.currentLevel+1),this},v.prototype.attList=function(e,t,n,r,a){var o;return this.openCurrent(),o=new i(this,e,t,n,r,a),this.onData(this.writer.dtdAttList(o,this.currentLevel+1),this.currentLevel+1),this},v.prototype.entity=function(e,t){var n;return this.openCurrent(),n=new a(this,!1,e,t),this.onData(this.writer.dtdEntity(n,this.currentLevel+1),this.currentLevel+1),this},v.prototype.pEntity=function(e,t){var n;return this.openCurrent(),n=new a(this,!0,e,t),this.onData(this.writer.dtdEntity(n,this.currentLevel+1),this.currentLevel+1),this},v.prototype.notation=function(e,t){var n;return this.openCurrent(),n=new o(this,e,t),this.onData(this.writer.dtdNotation(n,this.currentLevel+1),this.currentLevel+1),this},v.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},v.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},v.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},v.prototype.openNode=function(e){if(!e.isOpen)return!this.root&&0===this.currentLevel&&e instanceof l&&(this.root=e),this.onData(this.writer.openNode(e,this.currentLevel),this.currentLevel),e.isOpen=!0},v.prototype.closeNode=function(e){if(!e.isClosed)return this.onData(this.writer.closeNode(e,this.currentLevel),this.currentLevel),e.isClosed=!0},v.prototype.onData=function(e,t){return this.documentStarted=!0,this.onDataCallback(e,t+1)},v.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},v.prototype.debugInfo=function(e){return null==e?"":"node: <"+e+">"},v.prototype.ele=function(){return this.element.apply(this,arguments)},v.prototype.nod=function(e,t,n){return this.node(e,t,n)},v.prototype.txt=function(e){return this.text(e)},v.prototype.dat=function(e){return this.cdata(e)},v.prototype.com=function(e){return this.comment(e)},v.prototype.ins=function(e,t){return this.instruction(e,t)},v.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},v.prototype.dtd=function(e,t,n){return this.doctype(e,t,n)},v.prototype.e=function(e,t,n){return this.element(e,t,n)},v.prototype.n=function(e,t,n){return this.node(e,t,n)},v.prototype.t=function(e){return this.text(e)},v.prototype.d=function(e){return this.cdata(e)},v.prototype.c=function(e){return this.comment(e)},v.prototype.r=function(e){return this.raw(e)},v.prototype.i=function(e,t){return this.instruction(e,t)},v.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},v.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},v.prototype.ent=function(e,t){return this.entity(e,t)},v.prototype.pent=function(e,t){return this.pEntity(e,t)},v.prototype.not=function(e,t){return this.notation(e,t)},v}()}.call(l)),Nl.exports}var Il,Ml={exports:{}};function Rl(){return Il||(Il=1,function(){var e,t,n,i,r,a,o,s,c,l,d,h,u,p,f={}.hasOwnProperty;o=Vc(),s=ol(),e=Lc(),t=qc(),l=Mc(),h=ll(),u=ul(),d=gl(),c=vl(),n=Xc(),i=tl(),r=Qc(),a=al(),p=Sl(),Ml.exports=function(p){function g(e,t){g.__super__.constructor.call(this,t),this.stream=e}return function(e,t){for(var n in t)f.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(g,p),g.prototype.document=function(e){var n,i,r,a,l,h,u,p;for(i=0,a=(h=e.children).length;i<a;i++)(n=h[i]).isLastRootNode=!1;for(e.children[e.children.length-1].isLastRootNode=!0,p=[],r=0,l=(u=e.children).length;r<l;r++)if(!((n=u[r])instanceof c))switch(!1){case!(n instanceof o):p.push(this.declaration(n));break;case!(n instanceof s):p.push(this.docType(n));break;case!(n instanceof t):p.push(this.comment(n));break;case!(n instanceof d):p.push(this.processingInstruction(n));break;default:p.push(this.element(n))}return p},g.prototype.attribute=function(e){return this.stream.write(" "+e.name+'="'+e.value+'"')},g.prototype.cdata=function(e,t){return this.stream.write(this.space(t)+"<![CDATA["+e.text+"]]>"+this.endline(e))},g.prototype.comment=function(e,t){return this.stream.write(this.space(t)+"\x3c!-- "+e.text+" --\x3e"+this.endline(e))},g.prototype.declaration=function(e,t){return this.stream.write(this.space(t)),this.stream.write('<?xml version="'+e.version+'"'),null!=e.encoding&&this.stream.write(' encoding="'+e.encoding+'"'),null!=e.standalone&&this.stream.write(' standalone="'+e.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(e))},g.prototype.docType=function(o,s){var c,l,h,u;if(s||(s=0),this.stream.write(this.space(s)),this.stream.write("<!DOCTYPE "+o.root().name),o.pubID&&o.sysID?this.stream.write(' PUBLIC "'+o.pubID+'" "'+o.sysID+'"'):o.sysID&&this.stream.write(' SYSTEM "'+o.sysID+'"'),o.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(o)),l=0,h=(u=o.children).length;l<h;l++)switch(c=u[l],!1){case!(c instanceof n):this.dtdAttList(c,s+1);break;case!(c instanceof i):this.dtdElement(c,s+1);break;case!(c instanceof r):this.dtdEntity(c,s+1);break;case!(c instanceof a):this.dtdNotation(c,s+1);break;case!(c instanceof e):this.cdata(c,s+1);break;case!(c instanceof t):this.comment(c,s+1);break;case!(c instanceof d):this.processingInstruction(c,s+1);break;default:throw new Error("Unknown DTD node type: "+c.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(o))},g.prototype.element=function(n,i){var r,a,o,s,p,g,m,b;for(p in i||(i=0),b=this.space(i),this.stream.write(b+"<"+n.name),g=n.attributes)f.call(g,p)&&(r=g[p],this.attribute(r));if(0===n.children.length||n.children.every(function(e){return""===e.value}))this.allowEmpty?this.stream.write("></"+n.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&1===n.children.length&&null!=n.children[0].value)this.stream.write(">"),this.stream.write(n.children[0].value),this.stream.write("</"+n.name+">");else{for(this.stream.write(">"+this.newline),o=0,s=(m=n.children).length;o<s;o++)switch(a=m[o],!1){case!(a instanceof e):this.cdata(a,i+1);break;case!(a instanceof t):this.comment(a,i+1);break;case!(a instanceof l):this.element(a,i+1);break;case!(a instanceof h):this.raw(a,i+1);break;case!(a instanceof u):this.text(a,i+1);break;case!(a instanceof d):this.processingInstruction(a,i+1);break;case!(a instanceof c):break;default:throw new Error("Unknown XML node type: "+a.constructor.name)}this.stream.write(b+"</"+n.name+">")}return this.stream.write(this.endline(n))},g.prototype.processingInstruction=function(e,t){return this.stream.write(this.space(t)+"<?"+e.target),e.value&&this.stream.write(" "+e.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(e))},g.prototype.raw=function(e,t){return this.stream.write(this.space(t)+e.value+this.endline(e))},g.prototype.text=function(e,t){return this.stream.write(this.space(t)+e.value+this.endline(e))},g.prototype.dtdAttList=function(e,t){return this.stream.write(this.space(t)+"<!ATTLIST "+e.elementName+" "+e.attributeName+" "+e.attributeType),"#DEFAULT"!==e.defaultValueType&&this.stream.write(" "+e.defaultValueType),e.defaultValue&&this.stream.write(' "'+e.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},g.prototype.dtdElement=function(e,t){return this.stream.write(this.space(t)+"<!ELEMENT "+e.name+" "+e.value),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},g.prototype.dtdEntity=function(e,t){return this.stream.write(this.space(t)+"<!ENTITY"),e.pe&&this.stream.write(" %"),this.stream.write(" "+e.name),e.value?this.stream.write(' "'+e.value+'"'):(e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.nData&&this.stream.write(" NDATA "+e.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},g.prototype.dtdNotation=function(e,t){return this.stream.write(this.space(t)+"<!NOTATION "+e.name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.pubID?this.stream.write(' PUBLIC "'+e.pubID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},g.prototype.endline=function(e){return e.isLastRootNode?"":this.newline},g}(p)}.call(l)),Ml.exports}(function(){var e,t,n,i,r,a,o;o=kc(),r=o.assign,a=o.isFunction,e=Ol(),t=Pl(),i=Ul(),n=Rl(),Ec.create=function(t,n,i,a){var o,s;if(null==t)throw new Error("Root element needs a name.");return a=r({},n,i,a),s=(o=new e(a)).element(t),a.headless||(o.declaration(a),null==a.pubID&&null==a.sysID||o.doctype(a)),s},Ec.begin=function(n,i,r){var o;return a(n)&&(i=(o=[n,i])[0],r=o[1],n={}),i?new t(n,i,r):new e(n)},Ec.stringWriter=function(e){return new i(e)},Ec.streamWriter=function(e,t){return new n(e,t)}}).call(l);var Bl=Ki,Ll=Ec;function jl(e,t){e.text(t.value)}Ac.writeString=function(e,t){var n=Bl.invert(t),i={element:function(e,t){var n=e.element(a(t.name),t.attributes);t.children.forEach(function(e){r(n,e)})},text:jl};function r(e,t){return i[t.type](e,t)}function a(e){var t=/^\{(.*)\}(.*)$/.exec(e);if(t){var i=n[t[1]];return i+(""===i?"":":")+t[2]}return e}return function(e){var n=Ll.create(a(e.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return Bl.forEach(t,function(e,t){var i="xmlns"+(""===t?"":":"+t);n.attribute(i,e)}),e.children.forEach(function(e){r(n,e)}),n.end()}(e)};var Wl=ao;ro.Element=Wl.Element,ro.element=Wl.element,ro.emptyElement=Wl.emptyElement,ro.text=Wl.text,ro.readString=uo.readString,ro.writeString=Ac.writeString;var ql=Ki,zl=Ji,Hl=ro;io.read=Gl,io.readXmlFromZipFile=function(e,t){return e.exists(t)?e.read(t,"utf-8").then($l).then(Gl):zl.resolve(null)};var Vl={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function Gl(e){return Hl.readString(e,Vl).then(function(e){return Kl(e)[0]})}function $l(e){return e.replace(/^\uFEFF/g,"")}function Kl(e){return"element"===e.type?"mc:AlternateContent"===e.name?e.firstOrEmpty("mc:Fallback").children:(e.children=ql.flatten(e.children.map(Kl,!0)),[e]):[e]}var Xl={},Yl={},Zl={};Object.defineProperty(Zl,"__esModule",{value:!0});Zl.default=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];var Ql=l&&l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.hex=Yl.dec=Yl.codePoint=void 0;for(var Jl=Ql(Zl),ed={},td=String.fromCodePoint?String.fromCodePoint:function(e){if(e<=65535)return String.fromCharCode(e);var t=Math.floor((e-65536)/1024)+55296,n=(e-65536)%1024+56320;return String.fromCharCode(t,n)},nd=0,id=Jl.default;nd<id.length;nd++){var rd=id[nd],ad=parseInt(rd["Unicode dec"],10),od={codePoint:ad,string:td(ad)};ed[rd["Typeface name"].toUpperCase()+"_"+rd["Dingbat dec"]]=od}function sd(e,t){return ed[e.toUpperCase()+"_"+t]}Yl.codePoint=sd,Yl.dec=function(e,t){return sd(e,parseInt(t,10))},Yl.hex=function(e,t){return sd(e,parseInt(t,16))};var cd={},ld=Ki;function dd(e,t){return hd(function(n){return n.type===e?t(n):n})}function hd(e){return function t(n){if(n.children){var i=ld.map(n.children,t);n=ld.extend(n,{children:i})}return e(n)}}function ud(e){var t=[];return pd(e,function(e){t.push(e)}),t}function pd(e,t){e.children&&e.children.forEach(function(e){pd(e,t),t(e)})}cd.paragraph=function(e){return dd("paragraph",e)},cd.run=function(e){return dd("run",e)},cd._elements=hd,cd._elementsOfType=dd,cd.getDescendantsOfType=function(e,t){return ud(e).filter(function(e){return e.type===t})},cd.getDescendants=ud;var fd={};fd.uriToZipEntryName=function(e,t){return"/"===t.charAt(0)?t.substr(1):e+"/"+t},fd.replaceFragment=function(e,t){var n=e.indexOf("#");-1!==n&&(e=e.substring(0,n));return e+"#"+t},Xl.createBodyReader=function(e){return{readXmlElement:function(t){return new Dd(e).readXmlElement(t)},readXmlElements:function(t){return new Dd(e).readXmlElements(t)}}},Xl._readNumberingProperties=Td;var gd=Yl,md=Ki,bd=Oa,yd=Ba.Result,vd=Ba.warning,xd=ro,_d=cd,wd=fd;function Dd(e){var t=[],n=[],i=[],r=e.relationships,a=e.contentTypes,o=e.docxFile,s=e.files,c=e.numbering,l=e.styles;function d(e){return Fd(e.map(h))}function h(e){if("element"===e.type){var t=w[e.name];if(t)return t(e);if(!Object.prototype.hasOwnProperty.call(Ed,e.name))return Cd([vd("An unrecognised element was ignored: "+e.name)])}return kd()}function u(e){return function(e){return y(e,"w:pStyle","Paragraph",l.findParagraphStyleById)}(e).map(function(t){return{type:"paragraphProperties",styleId:t.styleId,styleName:t.name,alignment:e.firstOrEmpty("w:jc").attributes["w:val"],numbering:Td(t.styleId,e.firstOrEmpty("w:numPr"),c),indent:p(e.firstOrEmpty("w:ind"))}})}function p(e){return{start:e.attributes["w:start"]||e.attributes["w:left"],end:e.attributes["w:end"]||e.attributes["w:right"],firstLine:e.attributes["w:firstLine"],hanging:e.attributes["w:hanging"]}}function f(e){return function(e){return y(e,"w:rStyle","Run",l.findCharacterStyleById)}(e).map(function(t){var n=e.firstOrEmpty("w:sz").attributes["w:val"],i=/^[0-9]+$/.test(n)?parseInt(n,10)/2:null;return{type:"runProperties",styleId:t.styleId,styleName:t.name,verticalAlignment:e.firstOrEmpty("w:vertAlign").attributes["w:val"],font:e.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:i,isBold:m(e.first("w:b")),isUnderline:g(e.first("w:u")),isItalic:m(e.first("w:i")),isStrikethrough:m(e.first("w:strike")),isAllCaps:m(e.first("w:caps")),isSmallCaps:m(e.first("w:smallCaps")),highlight:b(e.firstOrEmpty("w:highlight").attributes["w:val"])}})}function g(e){if(e){var t=e.attributes["w:val"];return void 0!==t&&"false"!==t&&"0"!==t&&"none"!==t}return!1}function m(e){if(e){var t=e.attributes["w:val"];return"false"!==t&&"0"!==t}return!1}function b(e){return e&&"none"!==e?e:null}function y(e,t,n,i){var r=[],a=e.first(t),o=null,s=null;if(a&&(o=a.attributes["w:val"])){var c=i(o);c?s=c.name:r.push(function(e,t){return vd(e+" style with ID "+t+" was referenced but not defined in the document")}(n,o))}return Ud({styleId:o,name:s},r)}function v(e){return function(e,t){var n=/\s*HYPERLINK "(.*)"/.exec(e);if(n)return{type:"hyperlink",options:{href:n[1]}};var i=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(e);if(i)return{type:"hyperlink",options:{anchor:i[1]}};if(/\s*FORMCHECKBOX\s*/.exec(e)){var r=t.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),a=r.first("w:checked");return{type:"checkbox",checked:m(null==a?r.first("w:default"):a)}}return{type:"unknown"}}(n.join(""),"begin"===e.type?e.fldChar:xd.emptyElement)}function x(e){return function(t){var n=t.attributes["w:id"];return Sd(new bd.NoteReference({noteType:e,noteId:n}))}}function _(e){return d(e.children)}var w={"w:p":function(e){var t=e.firstOrEmpty("w:pPr");if(!!t.firstOrEmpty("w:rPr").first("w:del"))return e.children.forEach(function(e){i.push(e)}),kd();var n=e.children;return i.length>0&&(n=i.concat(n),i=[]),Od.map(u(t),d(n),function(e,t){return new bd.Paragraph(t,e)}).insertExtra()},"w:r":function(e){return Od.map(f(e.firstOrEmpty("w:rPr")),d(e.children),function(e,n){var i,r=(i=md.last(t.filter(function(e){return"hyperlink"===e.type})))?i.options:null;return null!==r&&(n=[new bd.Hyperlink(n,r)]),new bd.Run(n,e)})},"w:fldChar":function(e){var i=e.attributes["w:fldCharType"];if("begin"===i)t.push({type:"begin",fldChar:e}),n=[];else if("end"===i){var r=t.pop();if("begin"===r.type&&(r=v(r)),"checkbox"===r.type)return Sd(bd.checkbox({checked:r.checked}))}else if("separate"===i){var a=v(t.pop());t.push(a)}return kd()},"w:instrText":function(e){return n.push(e.text()),kd()},"w:t":function(e){return Sd(new bd.Text(e.text()))},"w:tab":function(e){return Sd(new bd.Tab)},"w:noBreakHyphen":function(){return Sd(new bd.Text("‑"))},"w:softHyphen":function(e){return Sd(new bd.Text("­"))},"w:sym":function(e){var t=e.attributes["w:font"],n=e.attributes["w:char"],i=gd.hex(t,n);return null==i&&/^F0..$/.test(n)&&(i=gd.hex(t,n.substring(2))),null==i?Cd([vd("A w:sym element with an unsupported character was ignored: char "+n+" in font "+t)]):Sd(new bd.Text(i.string))},"w:hyperlink":function(e){var t=e.attributes["r:id"],n=e.attributes["w:anchor"];return d(e.children).map(function(i){function a(t){var n=e.attributes["w:tgtFrame"]||null;return new bd.Hyperlink(i,md.extend({targetFrame:n},t))}if(t){var o=r.findTargetByRelationshipId(t);return n&&(o=wd.replaceFragment(o,n)),a({href:o})}return n?a({anchor:n}):i})},"w:tbl":function(e){var t=function(e){return function(e){return y(e,"w:tblStyle","Table",l.findTableStyleById)}(e).map(function(e){return{styleId:e.styleId,styleName:e.name}})}(e.firstOrEmpty("w:tblPr"));return d(e.children).flatMap(D).flatMap(function(e){return t.map(function(t){return bd.Table(e,t)})})},"w:tr":function(e){var t=e.firstOrEmpty("w:trPr");if(t.first("w:del"))return kd();var n=!!t.first("w:tblHeader");return d(e.children).map(function(e){return bd.TableRow(e,{isHeader:n})})},"w:tc":function(e){return d(e.children).map(function(t){var n=e.firstOrEmpty("w:tcPr"),i=n.firstOrEmpty("w:gridSpan").attributes["w:val"],r=i?parseInt(i,10):1,a=bd.TableCell(t,{colSpan:r});return a._vMerge=function(e){var t=e.first("w:vMerge");if(t){var n=t.attributes["w:val"];return"continue"===n||!n}return null}(n),a})},"w:footnoteReference":x("footnote"),"w:endnoteReference":x("endnote"),"w:commentReference":function(e){return Sd(bd.commentReference({commentId:e.attributes["w:id"]}))},"w:br":function(e){var t=e.attributes["w:type"];return null==t||"textWrapping"===t?Sd(bd.lineBreak):"page"===t?Sd(bd.pageBreak):"column"===t?Sd(bd.columnBreak):Cd([vd("Unsupported break type: "+t)])},"w:bookmarkStart":function(e){var t=e.attributes["w:name"];return"_GoBack"===t?kd():Sd(new bd.BookmarkStart({name:t}))},"mc:AlternateContent":function(e){return _(e.firstOrEmpty("mc:Fallback"))},"w:sdt":function(e){return d(e.firstOrEmpty("w:sdtContent").children).map(function(t){var n,i=e.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(i){var r=i.first("wordml:checked"),a=!!r&&("false"!==(n=r.attributes["wordml:val"])&&"0"!==n),o=bd.checkbox({checked:a}),s=!1,c=t.map(_d._elementsOfType(bd.types.text,function(e){return e.value.length>0&&!s?(s=!0,o):e}));return s?c:o}return t})},"w:ins":_,"w:object":_,"w:smartTag":_,"w:drawing":_,"w:pict":function(e){return _(e).toExtra()},"v:roundrect":_,"v:shape":_,"v:textbox":_,"w:txbxContent":_,"wp:inline":T,"wp:anchor":T,"v:imagedata":function(e){var t=e.attributes["r:id"];return t?C(E(t),e.attributes["o:title"]):Cd([vd("A v:imagedata element without a relationship ID was ignored")])},"v:group":_,"v:rect":_};return{readXmlElement:h,readXmlElements:d};function D(e){if(md.any(e,function(e){return e.type!==bd.types.tableRow}))return Ud(e,[vd("unexpected non-row element in table, cell merging may be incorrect")]);if(md.any(e,function(e){return md.any(e.children,function(e){return e.type!==bd.types.tableCell})}))return Ud(e,[vd("unexpected non-cell element in table row, cell merging may be incorrect")]);var t={};return e.forEach(function(e){var n=0;e.children.forEach(function(e){e._vMerge&&t[n]?t[n].rowSpan++:(t[n]=e,e._vMerge=!1),n+=e.colSpan})}),e.forEach(function(e){e.children=e.children.filter(function(e){return!e._vMerge}),e.children.forEach(function(e){delete e._vMerge})}),Sd(e)}function T(e){return Fd(e.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip").map(A.bind(null,e)))}function A(e,t){var n,i=e.first("wp:docPr").attributes,a=null==(n=i.descr)||/^\s*$/.test(n)?i.title:i.descr,o=function(e){var t=e.attributes["r:embed"],n=e.attributes["r:link"];if(t)return E(t);if(n){var i=r.findTargetByRelationshipId(n);return{path:i,read:s.read.bind(s,i)}}return null}(t);return null===o?Cd([vd("Could not find image file for a:blip element")]):C(o,a)}function E(e){var t=wd.uriToZipEntryName("word",r.findTargetByRelationshipId(e));return{path:t,read:o.read.bind(o,t)}}function C(e,t){var n=a.findContentType(e.path);return Ud(bd.Image({readImage:e.read,altText:t,contentType:n}),Ad[n]?[]:vd("Image of type "+n+" is unlikely to display in web browsers"))}}function Td(e,t,n){var i=t.firstOrEmpty("w:ilvl").attributes["w:val"],r=t.firstOrEmpty("w:numId").attributes["w:val"];if(void 0!==i&&void 0!==r)return n.findLevel(r,i);if(null!=e){var a=n.findLevelByParagraphStyleId(e);if(null!=a)return a}return null}var Ad={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},Ed={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function Cd(e){return new Od(null,null,e)}function kd(){return new Od(null)}function Sd(e){return new Od(e)}function Ud(e,t){return new Od(e,null,t)}function Od(e,t,n){this.value=e||[],this.extra=t||[],this._result=new yd({element:this.value,extra:t},n),this.messages=this._result.messages}function Fd(e){var t=yd.combine(md.pluck(e,"_result"));return new Od(md.flatten(md.pluck(t.value,"element")),md.filter(md.flatten(md.pluck(t.value,"extra")),Pd),t.messages)}function Nd(e,t){return md.flatten([e,t])}function Pd(e){return e}Od.prototype.toExtra=function(){return new Od(null,Nd(this.extra,this.value),this.messages)},Od.prototype.insertExtra=function(){var e=this.extra;return e&&e.length?new Od(Nd(this.value,e),null,this.messages):this},Od.prototype.map=function(e){var t=this._result.map(function(t){return e(t.element)});return new Od(t.value,this.extra,t.messages)},Od.prototype.flatMap=function(e){var t=this._result.flatMap(function(t){return e(t.element)._result});return new Od(t.value.element,Nd(this.extra,t.value.extra),t.messages)},Od.map=function(e,t,n){return new Od(n(e.value,t.value),Nd(e.extra,t.extra),e.messages.concat(t.messages))};var Id={DocumentXmlReader:function(e){var t=e.bodyReader;return{convertXmlToDocument:function(n){var i=n.first("w:body");if(null==i)throw new Error("Could not find the body element: are you sure this is a docx file?");var r=t.readXmlElements(i.children).map(function(t){return new Md.Document(t,{notes:e.notes,comments:e.comments})});return new Rd(r.value,r.messages)}}}},Md=Oa,Rd=Ba.Result;var Bd={};function Ld(e){var t={};e.forEach(function(e){t[e.relationshipId]=e.target});var n={};return e.forEach(function(e){n[e.type]||(n[e.type]=[]),n[e.type].push(e.target)}),{findTargetByRelationshipId:function(e){return t[e]},findTargetsByType:function(e){return n[e]||[]}}}Bd.readRelationships=function(e){var t=[];return e.children.forEach(function(e){if("relationships:Relationship"===e.name){var n={relationshipId:e.attributes.Id,target:e.attributes.Target,type:e.attributes.Type};t.push(n)}}),new Ld(t)},Bd.defaultValue=new Ld([]),Bd.Relationships=Ld;var jd={readContentTypesFromXml:function(e){var t={},n={};return e.children.forEach(function(e){if("content-types:Default"===e.name&&(t[e.attributes.Extension]=e.attributes.ContentType),"content-types:Override"===e.name){var i=e.attributes.PartName;"/"===i.charAt(0)&&(i=i.substring(1)),n[i]=e.attributes.ContentType}}),qd(n,t)}},Wd={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};function qd(e,t){return{findContentType:function(n){var i=e[n];if(i)return i;var r=n.split("."),a=r[r.length-1];if(t.hasOwnProperty(a))return t[a];var o=Wd[a.toLowerCase()];return o?"image/"+o:null}}}jd.defaultContentTypes=qd({},{});var zd={},Hd=Ki;function Vd(e,t,n){var i=Hd.flatten(Hd.values(t).map(function(e){return Hd.values(e.levels)})),r=Hd.indexBy(i.filter(function(e){return null!=e.paragraphStyleId}),"paragraphStyleId");return{findLevel:function i(r,a){var o=e[r];if(o){var s=t[o.abstractNumId];return s?null==s.numStyleLink?t[o.abstractNumId].levels[a]:i(n.findNumberingStyleById(s.numStyleLink).numId,a):null}return null},findLevelByParagraphStyleId:function(e){return r[e]||null}}}zd.readNumberingXml=function(e,t){if(!t||!t.styles)throw new Error("styles is missing");var n=function(e){var t={};return e.getElementsByTagName("w:abstractNum").forEach(function(e){var n=e.attributes["w:abstractNumId"];t[n]=function(e){var t={};e.getElementsByTagName("w:lvl").forEach(function(e){var n=e.attributes["w:ilvl"],i=e.firstOrEmpty("w:numFmt").attributes["w:val"],r=e.firstOrEmpty("w:pStyle").attributes["w:val"];t[n]={isOrdered:"bullet"!==i,level:n,paragraphStyleId:r}});var n=e.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:t,numStyleLink:n}}(e)}),t}(e),i=function(e){var t={};return e.getElementsByTagName("w:num").forEach(function(e){var n=e.attributes["w:numId"],i=e.first("w:abstractNumId").attributes["w:val"];t[n]={abstractNumId:i}}),t}(e);return new Vd(i,n,t.styles)},zd.Numbering=Vd,zd.defaultNumbering=new Vd({},{});var Gd={};function $d(e,t,n,i){return{findParagraphStyleById:function(t){return e[t]},findCharacterStyleById:function(e){return t[e]},findTableStyleById:function(e){return n[e]},findNumberingStyleById:function(e){return i[e]}}}Gd.readStylesXml=function(e){var t={},n={},i={},r={},a={paragraph:t,character:n,table:i};return e.getElementsByTagName("w:style").forEach(function(e){var t=function(e){var t=e.attributes["w:type"],n=e.attributes["w:styleId"],i=function(e){var t=e.first("w:name");return t?t.attributes["w:val"]:null}(e);return{type:t,styleId:n,name:i}}(e);if("numbering"===t.type)r[t.styleId]=function(e){var t=e.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{numId:t}}(e);else{var n=a[t.type];n&&(n[t.styleId]=t)}}),new $d(t,n,i,r)},Gd.Styles=$d,Gd.defaultStyles=new $d({},{}),$d.EMPTY=new $d({},{},{},{});var Kd={},Xd=Oa,Yd=Ba.Result;function Zd(e,t){function n(e){var t=e.attributes["w:type"];return"continuationSeparator"!==t&&"separator"!==t}function i(n){var i=n.attributes["w:id"];return t.readXmlElements(n.children).map(function(t){return Xd.Note({noteType:e,noteId:i,body:t})})}return function(t){return Yd.combine(t.getElementsByTagName("w:"+e).filter(n).map(i))}}Kd.createFootnotesReader=Zd.bind(l,"footnote"),Kd.createEndnotesReader=Zd.bind(l,"endnote");var Qd={},Jd=Oa,eh=Ba.Result;Qd.createCommentsReader=function(e){function t(t){var n=t.attributes["w:id"];function i(e){return(t.attributes[e]||"").trim()||null}return e.readXmlElements(t.children).map(function(e){return Jd.comment({commentId:n,body:e,authorName:i("w:author"),authorInitials:i("w:initials")})})}return function(e){return eh.combine(e.getElementsByTagName("w:comment").map(t))}};var th={},nh=Ji;th.Files=function(){return{read:function(e){return nh.reject(new Error("could not open external image: '"+e+"'\ncannot open linked files from a web browser"))}}},Qi.read=function(e,t){return t=t||{},ih.props({contentTypes:wh(e),partPaths:bh(e),docxFile:e,files:t.path?mh.relativeToFile(t.path):new mh(null)}).also(function(t){return{styles:(n=e,i=t.partPaths.styles,vh({filename:i,readElement:ph.readStylesXml,defaultValue:ph.defaultStyles})(n))};var n,i}).also(function(t){return{numbering:(n=e,i=t.partPaths.numbering,r=t.styles,vh({filename:i,readElement:function(e){return uh.readNumberingXml(e,{styles:r})},defaultValue:uh.defaultNumbering})(n))};var n,i,r}).also(function(e){return{footnotes:xh(e.partPaths.footnotes,e,function(e,t){return t?fh.createFootnotesReader(e)(t):new ah([])}),endnotes:xh(e.partPaths.endnotes,e,function(e,t){return t?fh.createEndnotesReader(e)(t):new ah([])}),comments:xh(e.partPaths.comments,e,function(e,t){return t?gh.createCommentsReader(e)(t):new ah([])})}}).also(function(e){return{notes:e.footnotes.flatMap(function(t){return e.endnotes.map(function(e){return new rh.Notes(t.concat(e))})})}}).then(function(e){return xh(e.partPaths.mainDocument,e,function(t,n){return e.notes.flatMap(function(i){return e.comments.flatMap(function(e){return new lh({bodyReader:t,notes:i,comments:e}).convertXmlToDocument(n)})})})})},Qi._findPartPaths=bh;var ih=Ji,rh=Oa,ah=Ba.Result,oh=za,sh=io.readXmlFromZipFile,ch=Xl.createBodyReader,lh=Id.DocumentXmlReader,dh=Bd,hh=jd,uh=zd,ph=Gd,fh=Kd,gh=Qd,mh=th.Files;function bh(e){return kh(e).then(function(t){var n=yh({docxFile:e,relationships:t,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!e.exists(n))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return vh({filename:_h(n),readElement:dh.readRelationships,defaultValue:dh.defaultValue})(e).then(function(t){function i(i){return yh({docxFile:e,relationships:t,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+i,basePath:oh.splitPath(n).dirname,fallbackPath:"word/"+i+".xml"})}return{mainDocument:n,comments:i("comments"),endnotes:i("endnotes"),footnotes:i("footnotes"),numbering:i("numbering"),styles:i("styles")}})})}function yh(e){var t=e.docxFile,n=e.relationships,i=e.relationshipType,r=e.basePath,a=e.fallbackPath,o=n.findTargetsByType(i).map(function(e){return t=oh.joinPath(r,e),n="/",t.substring(0,n.length)===n?t.substring(n.length):t;var t,n}).filter(function(e){return t.exists(e)});return 0===o.length?a:o[0]}function vh(e){return function(t){return sh(t,e.filename).then(function(t){return t?e.readElement(t):e.defaultValue})}}function xh(e,t,n){return vh({filename:_h(e),readElement:dh.readRelationships,defaultValue:dh.defaultValue})(t.docxFile).then(function(i){var r=new ch({relationships:i,contentTypes:t.contentTypes,docxFile:t.docxFile,numbering:t.numbering,styles:t.styles,files:t.files});return sh(t.docxFile,e).then(function(e){return n(r,e)})})}function _h(e){var t=oh.splitPath(e);return oh.joinPath(t.dirname,"_rels",t.basename+".rels")}var wh=vh({filename:"[Content_Types].xml",readElement:hh.readContentTypesFromXml,defaultValue:hh.defaultContentTypes});var Dh,Th,Ah,Eh,Ch,kh=vh({filename:"_rels/.rels",readElement:dh.readRelationships,defaultValue:dh.defaultValue}),Sh={},Uh={},Oh={};function Fh(){if(Dh)return Oh;Dh=1;var e=Ih();function t(e,t){return{type:"element",tag:e,children:t||[]}}Oh.freshElement=function(n,i,r){return t(e.element(n,i,{fresh:!0}),r)},Oh.nonFreshElement=function(n,i,r){return t(e.element(n,i,{fresh:!1}),r)},Oh.elementWithTag=t,Oh.text=function(e){return{type:"text",value:e}},Oh.forceWrite={type:"forceWrite"};var n={br:!0,hr:!0,img:!0,input:!0};return Oh.isVoidElement=function(e){return 0===e.children.length&&n[e.tag.tagName]},Oh}function Nh(){if(Ah)return Th;Ah=1;var e=Ki,t=Fh();function n(e){var t=[];return e.map(i).forEach(function(e){o(t,e)}),t}function i(e){return r[e.type](e)}var r={element:function(e){return t.elementWithTag(e.tag,n(e.children))},text:a,forceWrite:a};function a(e){return e}function o(e,n){var i=e[e.length-1];"element"===n.type&&!n.tag.fresh&&i&&"element"===i.type&&n.tag.matchesElement(i.tag)?(n.tag.separator&&o(i.children,t.text(n.tag.separator)),n.children.forEach(function(e){o(i.children,e)})):e.push(n)}function s(t){return function(t,n){return e.flatten(e.map(t,n),!0)}(t,function(e){return c[e.type](e)})}var c={element:function(e){var n=s(e.children);return 0!==n.length||t.isVoidElement(e)?[t.elementWithTag(e.tag,n)]:[]},text:function(e){return 0===e.value.length?[]:[e]},forceWrite:function(e){return[e]}};return Th=function(e){return n(s(e))},Th}function Ph(){if(Eh)return Uh;Eh=1;var e=Fh();function t(e,t){t.forEach(function(t){!function(e,t){n[t.type](e,t)}(e,t)})}Uh.freshElement=e.freshElement,Uh.nonFreshElement=e.nonFreshElement,Uh.elementWithTag=e.elementWithTag,Uh.text=e.text,Uh.forceWrite=e.forceWrite,Uh.simplify=Nh();var n={element:function(n,i){e.isVoidElement(i)?n.selfClosing(i.tag.tagName,i.tag.attributes):(n.open(i.tag.tagName,i.tag.attributes),t(n,i.children),n.close(i.tag.tagName))},text:function(e,t){e.text(t.value)},forceWrite:function(){}};return Uh.write=t,Uh}function Ih(){if(Ch)return Sh;Ch=1;var e=Ki,t=Ph();function n(t){return new i(t.map(function(t){return e.isString(t)?r(t):t}))}function i(e){this._elements=e}function r(e,t,n){return new a(e,t,n=n||{})}function a(t,n,i){var r={};e.isArray(t)?(t.forEach(function(e){r[e]=!0}),t=t[0]):r[t]=!0,this.tagName=t,this.tagNames=r,this.attributes=n||{},this.fresh=i.fresh,this.separator=i.separator}return Sh.topLevelElement=function(e,t){return n([r(e,t,{fresh:!0})])},Sh.elements=n,Sh.element=r,i.prototype.wrap=function(e){for(var t=e(),n=this._elements.length-1;n>=0;n--)t=this._elements[n].wrapNodes(t);return t},a.prototype.matchesElement=function(t){return this.tagNames[t.tagName]&&e.isEqual(this.attributes||{},t.attributes||{})},a.prototype.wrap=function(e){return this.wrapNodes(e())},a.prototype.wrapNodes=function(e){return[t.elementWithTag(this,e)]},Sh.empty=n([]),Sh.ignore={wrap:function(){return[]}},Sh}function Mh(e,t){return function(){return{start:e,end:t}}}function Rh(e,t){return new Array(t+1).join(e)}!function(e){var t=Ki,n=Ji,i=Ph();function r(e){return function(r,a){return n.when(e(r)).then(function(e){var n={};return r.altText&&(n.alt=r.altText),t.extend(n,e),[i.freshElement("img",n)]})}}e.imgElement=r,e.inline=e.imgElement,e.dataUri=r(function(e){return e.readAsBase64String().then(function(t){return{src:"data:"+e.contentType+";base64,"+t}})})}({}),function(){for(var e=1;e<=6;e++)Mh(Rh("#",e)+" ","\n\n")}(),Ih(),Ph();var Bh={},Lh=Oa;Bh.convertElementToRawText=function e(t){if("text"===t.type)return t.value;if(t.type===Lh.types.tab)return"\t";var n="paragraph"===t.type?"\n\n":"";return(t.children||[]).map(e).join("")+n};var jh={},Wh={},qh={exports:{}},zh=qh.exports=function(e,t){this._tokens=e,this._startIndex=t||0};zh.prototype.head=function(){return this._tokens[this._startIndex]},zh.prototype.tail=function(e){return new zh(this._tokens,this._startIndex+1)},zh.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},zh.prototype.end=function(){return this._tokens[this._tokens.length-1]},zh.prototype.to=function(e){var t=this.head().source,n=e.head()||e.end();return t.to(n.source)};var Hh=qh.exports;Wh.Parser=function(e){return{parseTokens:function(e,t){return e(new Hh(t))}}};var Vh={},Gh={};!function(e){function t(e){return"function"==typeof e?e():e}e.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return e.none},flatMap:function(){return e.none},filter:function(){return e.none},toArray:function(){return[]},orElse:t,valueOrElse:t}),e.some=function(e){return new n(e)};var n=function(e){this._value=e};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(e){return new n(e(this._value))},n.prototype.flatMap=function(e){return e(this._value)},n.prototype.filter=function(t){return t(this._value)?this:e.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(e){return this},n.prototype.valueOrElse=function(e){return this._value},e.isOption=function(t){return t===e.none||t instanceof n},e.fromNullable=function(t){return null==t?e.none:new n(t)}}(Gh);var $h={failure:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new Kh({status:"failure",remaining:t,errors:e})},error:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new Kh({status:"error",remaining:t,errors:e})},success:function(e,t,n){return new Kh({status:"success",value:e,source:n,remaining:t,errors:[]})},cut:function(e){return new Kh({status:"cut",remaining:e,errors:[]})}},Kh=function(e){this._value=e.value,this._status=e.status,this._hasValue=void 0!==e.value,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};Kh.prototype.map=function(e){return this._hasValue?new Kh({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},Kh.prototype.changeRemaining=function(e){return new Kh({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},Kh.prototype.isSuccess=function(){return"success"===this._status||"cut"===this._status},Kh.prototype.isFailure=function(){return"failure"===this._status},Kh.prototype.isError=function(){return"error"===this._status},Kh.prototype.isCut=function(){return"cut"===this._status},Kh.prototype.value=function(){return this._value},Kh.prototype.remaining=function(){return this._remaining},Kh.prototype.source=function(){return this._source},Kh.prototype.errors=function(){return this._errors};var Xh={error:function(e){return new Yh(e)}},Yh=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};Yh.prototype.describe=function(){return(this._location?this._location.describe()+":\n":"")+"Expected "+this.expected+"\nbut got "+this.actual},Yh.prototype.lineNumber=function(){return this._location.lineNumber()},Yh.prototype.characterNumber=function(){return this._location.characterNumber()};var Zh={fromArray:function(e){var t=0,n=function(){return t<e.length};return new Qh({hasNext:n,next:function(){if(n())return e[t++];throw new Error("No more elements")}})}},Qh=function(e){this._iterator=e};Qh.prototype.map=function(e){var t=this._iterator;return new Qh({hasNext:function(){return t.hasNext()},next:function(){return e(t.next())}})},Qh.prototype.filter=function(e){var t,n=this._iterator,i=!1,r=!1,a=function(){if(!i)for(i=!0,r=!1;n.hasNext()&&!r;)t=n.next(),r=e(t)};return new Qh({hasNext:function(){return a(),r},next:function(){return a(),i=!1,t}})},Qh.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},Qh.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},function(e){var t=Ki,n=Gh,i=$h,r=Xh,a=Zh;e.token=function(e,t){var n=void 0!==t;return function(r){var a=r.head();return!a||a.name!==e||n&&a.value!==t?h(r,d({name:e,value:t})):i.success(a.value,r.tail(),a.source)}},e.tokenOfType=function(t){return e.token(t)},e.firstOf=function(e,n){return t.isArray(n)||(n=Array.prototype.slice.call(arguments,1)),function(t){return a.fromArray(n).map(function(e){return e(t)}).filter(function(e){return e.isSuccess()||e.isError()}).first()||h(t,e)}},e.then=function(e,t){return function(n){var i=e(n);return i.map,i.map(t)}},e.sequence=function(){var n=Array.prototype.slice.call(arguments,0),r=function(r){var a=t.foldl(n,function(e,t){var n=e.result,a=e.hasCut;if(!n.isSuccess())return{result:n,hasCut:a};var o=t(n.remaining());if(o.isCut())return{result:n,hasCut:!0};if(o.isSuccess()){var s;s=t.isCaptured?n.value().withValue(t,o.value()):n.value();var c=o.remaining(),l=r.to(c);return{result:i.success(s,c,l),hasCut:a}}return a?{result:i.error(o.errors(),o.remaining()),hasCut:a}:{result:o,hasCut:a}},{result:i.success(new o,r),hasCut:!1}).result,s=r.to(a.remaining());return a.map(function(t){return t.withValue(e.sequence.source,s)})};function a(e){return e.isCaptured}return r.head=function(){var i=t.find(n,a);return e.then(r,e.sequence.extract(i))},r.map=function(t){return e.then(r,function(e){return t.apply(this,e.toArray())})},r};var o=function(e,t){this._values=e||{},this._valuesArray=t||[]};o.prototype.withValue=function(e,n){if(e.captureName&&e.captureName in this._values)throw new Error('Cannot add second value for capture "'+e.captureName+'"');var i=t.clone(this._values);i[e.captureName]=n;var r=this._valuesArray.concat([n]);return new o(i,r)},o.prototype.get=function(e){if(e.captureName in this._values)return this._values[e.captureName];throw new Error('No value for capture "'+e.captureName+'"')},o.prototype.toArray=function(){return this._valuesArray},e.sequence.capture=function(e,t){var n=function(){return e.apply(this,arguments)};return n.captureName=t,n.isCaptured=!0,n},e.sequence.extract=function(e){return function(t){return t.get(e)}},e.sequence.applyValues=function(e){var t=Array.prototype.slice.call(arguments,1);return function(n){var i=t.map(function(e){return n.get(e)});return e.apply(this,i)}},e.sequence.source={captureName:"☃source☃"},e.sequence.cut=function(){return function(e){return i.cut(e)}},e.optional=function(e){return function(t){var r=e(t);return r.isSuccess()?r.map(n.some):r.isFailure()?i.success(n.none,t):r}},e.zeroOrMoreWithSeparator=function(e,t){return l(e,t,!1)},e.oneOrMoreWithSeparator=function(e,t){return l(e,t,!0)};var s=e.zeroOrMore=function(e){return function(t){for(var n,r=[];(n=e(t))&&n.isSuccess();)t=n.remaining(),r.push(n.value());return n.isError()?n:i.success(r,t)}};function c(e){return i.success(null,e)}e.oneOrMore=function(t){return e.oneOrMoreWithSeparator(t,c)};var l=function(t,n,r){return function(a){var o=t(a);if(o.isSuccess()){var c=e.sequence.capture(t,"main"),l=s(e.then(e.sequence(n,c),e.sequence.extract(c)))(o.remaining());return i.success([o.value()].concat(l.value()),l.remaining())}return r||o.isError()?o:i.success([],a)}};e.leftAssociative=function(t,n,r){var a;a=(a=r?[{func:r,rule:n}]:n).map(function(t){return e.then(t.rule,function(e){return function(n,i){return t.func(n,e,i)}})});var o=e.firstOf.apply(null,["rules"].concat(a));return function(e){var n=e,r=t(e);if(!r.isSuccess())return r;for(var a=o(r.remaining());a.isSuccess();){var s=a.remaining(),c=n.to(a.remaining()),l=a.value();r=i.success(l(r.value(),c),s,c),a=o(r.remaining())}return a.isError()?a:r}},e.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},e.nonConsuming=function(e){return function(t){return e(t).changeRemaining(t)}};var d=function(e){return e.value?e.name+' "'+e.value+'"':e.name};function h(e,t){var n,a=e.head();return n=a?r.error({expected:t,actual:d(a),location:a.source}):r.error({expected:t,actual:"end of tokens"}),i.failure([n],e)}}(Vh);var Jh={exports:{}};Jh.exports=function(e,t){return{asString:function(){return e},range:function(n,i){return new eu(e,t,n,i)}}};var eu=function(e,t,n,i){this._string=e,this._description=t,this._startIndex=n,this._endIndex=i};eu.prototype.to=function(e){return new eu(this._string,this._description,this._startIndex,e._endIndex)},eu.prototype.describe=function(){var e=this._position();return(this._description?this._description+"\n":"")+"Line number: "+e.lineNumber+"\nCharacter number: "+e.characterNumber},eu.prototype.lineNumber=function(){return this._position().lineNumber},eu.prototype.characterNumber=function(){return this._position().characterNumber},eu.prototype._position=function(){for(var e=this,t=0,n=function(){return e._string.indexOf("\n",t)},i=1;-1!==n()&&n()<this._startIndex;)t=n()+1,i+=1;return{lineNumber:i,characterNumber:this._startIndex-t+1}};var tu=Jh.exports,nu=function(e,t,n){this.name=e,this.value=t,n&&(this.source=n)},iu={};!function(e){var t=Vh,n=$h;function i(e){function r(){return e.map(function(e){return e.name})}function a(n){return t.firstOf("infix",e.map(function(e){return e.rule}))(n)}return{apply:function(e){for(var t,i;;){if(!(t=a(e.remaining())).isSuccess())return t.isFailure()?e:t;i=e.source().to(t.source()),e=n.success(t.value()(e.value(),i),t.remaining(),i)}},untilExclusive:function(t){return new i(e.slice(0,r().indexOf(t)))},untilInclusive:function(t){return new i(e.slice(0,r().indexOf(t)+1))}}}e.parser=function(e,n,a){var o={rule:function(){return l(s)},leftAssociative:function(e){return l(s.untilExclusive(e))},rightAssociative:function(e){return l(s.untilInclusive(e))}},s=new i(a.map(function(e){return{name:e.name,rule:r(e.ruleBuilder.bind(null,o))}})),c=t.firstOf(e,n);function l(e){return d.bind(null,e)}function d(e,t){var n=c(t);return n.isSuccess()?e.apply(n):n}return o},e.infix=function(t,n){return{name:t,ruleBuilder:n,map:function(i){return e.infix(t,function(e){var t=n(e);return function(e){return t(e).map(function(e){return function(t,n){return i(t,e,n)}})}})}}};var r=function(e){var t;return function(n){return t||(t=e()),t(n)}}}(iu);var ru={},au=nu,ou=tu;ru.RegexTokeniser=function(e){function t(t,n,i){for(var r=0;r<e.length;r++){var a=e[r].regex;a.lastIndex=n;var o=a.exec(t);if(o){var s=n+o[0].length;if(o.index===n&&s>n){var c=o[1];return{token:new au(e[r].name,c,i.range(n,s)),endIndex:s}}}}s=n+1;return{token:new au("unrecognisedCharacter",t.substring(n,s),i.range(n,s)),endIndex:s}}function n(e,t){return new au("end",null,t.range(e.length,e.length))}return e=e.map(function(e){return{name:e.name,regex:new RegExp(e.regex.source,"g")}}),{tokenise:function(e,i){var r=new ou(e,i),a=0,o=[];for(;a<e.length;){var s=t(e,a,r);a=s.endIndex,o.push(s.token)}return o.push(n(e,r)),o}}},jh.Parser=Wh.Parser,jh.rules=Vh,jh.errors=Xh,jh.results=$h,jh.StringSource=tu,jh.Token=nu,jh.bottomUp=iu,jh.RegexTokeniser=ru.RegexTokeniser,jh.rule=function(e){var t;return function(n){return t||(t=e()),t(n)}};var su={};function cu(e,t){t=t||{},this._elementType=e,this._styleId=t.styleId,this._styleName=t.styleName,t.list&&(this._listIndex=t.list.levelIndex,this._listIsOrdered=t.list.isOrdered)}function lu(e){e=e||{},this._color=e.color}function du(e){e=e||{},this._breakType=e.breakType}function hu(e,t){return e.toUpperCase()===t.toUpperCase()}function uu(e,t){return 0===t.toUpperCase().indexOf(e.toUpperCase())}su.paragraph=function(e){return new cu("paragraph",e)},su.run=function(e){return new cu("run",e)},su.table=function(e){return new cu("table",e)},su.bold=new cu("bold"),su.italic=new cu("italic"),su.underline=new cu("underline"),su.strikethrough=new cu("strikethrough"),su.allCaps=new cu("allCaps"),su.smallCaps=new cu("smallCaps"),su.highlight=function(e){return new lu(e)},su.commentReference=new cu("commentReference"),su.lineBreak=new du({breakType:"line"}),su.pageBreak=new du({breakType:"page"}),su.columnBreak=new du({breakType:"column"}),su.equalTo=function(e){return{operator:hu,operand:e}},su.startsWith=function(e){return{operator:uu,operand:e}},cu.prototype.matches=function(e){return e.type===this._elementType&&(void 0===this._styleId||e.styleId===this._styleId)&&(void 0===this._styleName||e.styleName&&this._styleName.operator(this._styleName.operand,e.styleName))&&(void 0===this._listIndex||function(e,t,n){return e.numbering&&e.numbering.level==t&&e.numbering.isOrdered==n}(e,this._listIndex,this._listIsOrdered))&&(void 0===this._breakType||this._breakType===e.breakType)},lu.prototype.matches=function(e){return"highlight"===e.type&&(void 0===this._color||e.color===this._color)},du.prototype.matches=function(e){return"break"===e.type&&(void 0===this._breakType||e.breakType===this._breakType)};var pu=Ki,fu=jh,gu=su,mu=Ih();var bu=fu.rules.then(fu.rules.tokenOfType("identifier"),_u),yu=fu.rules.tokenOfType("integer"),vu=fu.rules.then(fu.rules.tokenOfType("string"),_u),xu={n:"\n",r:"\r",t:"\t"};function _u(e){return e.replace(/\\(.)/g,function(e,t){return xu[t]||t})}var wu,Du,Tu,Au,Eu,Cu,ku=fu.rules.sequence(fu.rules.tokenOfType("open-square-bracket"),fu.rules.sequence.cut(),fu.rules.sequence.capture(bu),fu.rules.tokenOfType("equals"),fu.rules.sequence.capture(vu),fu.rules.tokenOfType("close-square-bracket")).map(function(e,t){return{name:e,value:t,append:!1}}),Su=fu.rules.sequence(fu.rules.tokenOfType("dot"),fu.rules.sequence.cut(),fu.rules.sequence.capture(bu)).map(function(e){return{name:"class",value:e,append:!0}}),Uu=fu.rules.firstOf("attribute or class",ku,Su);fu.rules.sequence(fu.rules.sequence.capture(function(){var e=fu.rules.sequence,t=function(e,t){return fu.rules.then(fu.rules.token("identifier",e),function(){return t})},n=t("p",gu.paragraph),i=t("r",gu.run),r=fu.rules.firstOf("p or r or table",n,i),a=fu.rules.sequence(fu.rules.tokenOfType("dot"),fu.rules.sequence.cut(),fu.rules.sequence.capture(bu)).map(function(e){return{styleId:e}}),o=fu.rules.firstOf("style name matcher",fu.rules.then(fu.rules.sequence(fu.rules.tokenOfType("equals"),fu.rules.sequence.cut(),fu.rules.sequence.capture(vu)).head(),function(e){return{styleName:gu.equalTo(e)}}),fu.rules.then(fu.rules.sequence(fu.rules.tokenOfType("startsWith"),fu.rules.sequence.cut(),fu.rules.sequence.capture(vu)).head(),function(e){return{styleName:gu.startsWith(e)}})),s=fu.rules.sequence(fu.rules.tokenOfType("open-square-bracket"),fu.rules.sequence.cut(),fu.rules.token("identifier","style-name"),fu.rules.sequence.capture(o),fu.rules.tokenOfType("close-square-bracket")).head(),c=fu.rules.firstOf("list type",t("ordered-list",{isOrdered:!0}),t("unordered-list",{isOrdered:!1})),l=e(fu.rules.tokenOfType("colon"),e.capture(c),e.cut(),fu.rules.tokenOfType("open-paren"),e.capture(yu),fu.rules.tokenOfType("close-paren")).map(function(e,t){return{list:{isOrdered:e.isOrdered,levelIndex:t-1}}});function d(e){var t=fu.rules.firstOf.apply(fu.rules.firstOf,["matcher suffix"].concat(e)),n=fu.rules.zeroOrMore(t);return fu.rules.then(n,function(e){var t={};return e.forEach(function(e){pu.extend(t,e)}),t})}var h=e(e.capture(r),e.capture(d([a,s,l]))).map(function(e,t){return e(t)}),u=e(fu.rules.token("identifier","table"),e.capture(d([a,s]))).map(function(e){return gu.table(e)}),p=t("b",gu.bold),f=t("i",gu.italic),g=t("u",gu.underline),m=t("strike",gu.strikethrough),b=t("all-caps",gu.allCaps),y=t("small-caps",gu.smallCaps),v=e(fu.rules.token("identifier","highlight"),fu.rules.sequence.capture(fu.rules.optional(fu.rules.sequence(fu.rules.tokenOfType("open-square-bracket"),fu.rules.sequence.cut(),fu.rules.token("identifier","color"),fu.rules.tokenOfType("equals"),fu.rules.sequence.capture(vu),fu.rules.tokenOfType("close-square-bracket")).head()))).map(function(e){return gu.highlight({color:e.valueOrElse(void 0)})}),x=t("comment-reference",gu.commentReference),_=e(fu.rules.token("identifier","br"),e.cut(),fu.rules.tokenOfType("open-square-bracket"),fu.rules.token("identifier","type"),fu.rules.tokenOfType("equals"),e.capture(vu),fu.rules.tokenOfType("close-square-bracket")).map(function(e){switch(e){case"line":return gu.lineBreak;case"page":return gu.pageBreak;case"column":return gu.columnBreak}});return fu.rules.firstOf("element type",h,u,p,f,g,m,b,y,v,x,_)}()),fu.rules.tokenOfType("whitespace"),fu.rules.tokenOfType("arrow"),fu.rules.sequence.capture(fu.rules.optional(fu.rules.sequence(fu.rules.tokenOfType("whitespace"),fu.rules.sequence.capture((wu=fu.rules.sequence.capture,Du=fu.rules.tokenOfType("whitespace"),Tu=fu.rules.then(fu.rules.optional(fu.rules.sequence(fu.rules.tokenOfType("colon"),fu.rules.token("identifier","fresh"))),function(e){return e.map(function(){return!0}).valueOrElse(!1)}),Au=fu.rules.then(fu.rules.optional(fu.rules.sequence(fu.rules.tokenOfType("colon"),fu.rules.token("identifier","separator"),fu.rules.tokenOfType("open-paren"),wu(vu),fu.rules.tokenOfType("close-paren")).head()),function(e){return e.valueOrElse("")}),Eu=fu.rules.oneOrMoreWithSeparator(bu,fu.rules.tokenOfType("choice")),Cu=fu.rules.sequence(wu(Eu),wu(fu.rules.zeroOrMore(Uu)),wu(Tu),wu(Au)).map(function(e,t,n,i){var r={},a={};return t.forEach(function(e){e.append&&r[e.name]?r[e.name]+=" "+e.value:r[e.name]=e.value}),n&&(a.fresh=!0),i&&(a.separator=i),mu.element(e,r,a)}),fu.rules.firstOf("html path",fu.rules.then(fu.rules.tokenOfType("bang"),function(){return mu.ignore}),fu.rules.then(fu.rules.zeroOrMoreWithSeparator(Cu,fu.rules.sequence(Du,fu.rules.tokenOfType("gt"),Du)),mu.elements))))).head())),fu.rules.tokenOfType("end")).map(function(e,t){return{from:e,to:t.valueOrElse(mu.empty)}});var Ou={},Fu=Ji,Nu=za;Ou.openZip=function(e){return e.arrayBuffer?Fu.resolve(Nu.openArrayBuffer(e.arrayBuffer)):Fu.reject(new Error("Could not find file in options"))};Ih(),Ph();var Pu=Qi,Iu=Bh.convertElementToRawText,Mu=Ou,Ru=function(e){return Mu.openZip(e).then(Pu.read).then(function(e){return e.map(Iu)})}
/**
 * @licstart The following is the entire license notice for the
 * JavaScript code in this page
 *
 * Copyright 2024 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * @licend The above is the entire license notice for the
 * JavaScript code in this page
 */;const Bu=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),Lu=[.001,0,0,.001,0,0],ju=1.35,Wu=1,qu=2,zu=4,Hu=16,Vu=32,Gu=64,$u=128,Ku=256,Xu={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Yu="pdfjs_internal_editor_",Zu={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Qu={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Ju=0,ep=1,tp=2,np=3,ip=3,rp=4,ap={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},op={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},sp=1,cp=2,lp=3,dp=4,hp=5,up={ERRORS:0,WARNINGS:1,INFOS:5},pp={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},fp=0,gp=1,mp=2,bp=3;let yp=up.WARNINGS;function vp(e){Number.isInteger(e)&&(yp=e)}function xp(){return yp}function _p(e){}function wp(e){throw new Error(e)}function Dp(e,t){e||wp(t)}function Tp(e,t=null,n=null){if(!e)return null;if(n&&"string"==typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);t?.length>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch{}}const i=t?URL.parse(e,t):URL.parse(e);return function(e){switch(e?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i)?i:null}function Ap(e,t,n=!1){const i=URL.parse(e);return i?(i.hash=t,i.href):n&&Tp(e,"http://example.com")?e.split("#",1)[0]+""+(t?`#${t}`:""):""}function Ep(e,t,n,i=!1){return Object.defineProperty(e,t,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const Cp=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}();class kp extends Cp{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Sp extends Cp{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Up extends Cp{constructor(e){super(e,"InvalidPDFException")}}class Op extends Cp{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class Fp extends Cp{constructor(e){super(e,"FormatError")}}class Np extends Cp{constructor(e){super(e,"AbortException")}}function Pp(e){"object"==typeof e&&void 0!==e?.length||wp("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const i=[];for(let r=0;r<t;r+=n){const a=Math.min(r+n,t),o=e.subarray(r,a);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function Ip(e){"string"!=typeof e&&wp("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let i=0;i<t;++i)n[i]=255&e.charCodeAt(i);return n}class Mp{static get isLittleEndian(){return Ep(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return Ep(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return Ep(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}static get isImageDecoderSupported(){return Ep(this,"isImageDecoderSupported","undefined"!=typeof ImageDecoder)}static get platform(){const{platform:e,userAgent:t}=navigator;return Ep(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return Ep(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Rp=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));class Bp{static makeHexColor(e,t,n){return`#${Rp[e]}${Rp[t]}${Rp[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const i=e[n],r=e[n+1];e[n]=i*t[0]+r*t[2]+t[4],e[n+1]=i*t[1]+r*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const i=t[0],r=t[1],a=t[2],o=t[3],s=t[4],c=t[5];for(let l=0;l<6;l+=2){const t=e[n+l],d=e[n+l+1];e[n+l]=t*i+d*a+s,e[n+l+1]=t*r+d*o+c}}static applyInverseTransform(e,t){const n=e[0],i=e[1],r=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/r,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/r}static axialAlignedBoundingBox(e,t,n){const i=t[0],r=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=e[0],d=e[1],h=e[2],u=e[3];let p=i*l+s,f=p,g=i*h+s,m=g,b=o*d+c,y=b,v=o*u+c,x=v;if(0!==r||0!==a){const e=r*l,t=r*h,n=a*d,i=a*u;p+=n,m+=n,g+=i,f+=i,b+=e,x+=e,v+=t,y+=t}n[0]=Math.min(n[0],p,g,f,m),n[1]=Math.min(n[1],b,v,y,x),n[2]=Math.max(n[2],p,g,f,m),n[3]=Math.max(n[3],b,v,y,x)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],r=e[2],a=e[3],o=n**2+i**2,s=n*r+i*a,c=r**2+a**2,l=(o+c)/2,d=Math.sqrt(l**2-(o*c-s**2));t[0]=Math.sqrt(l+d||1),t[1]=Math.sqrt(l-d||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>a?null:[n,r,i,a]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,r){r[0]=Math.min(r[0],e,n),r[1]=Math.min(r[1],t,i),r[2]=Math.max(r[2],e,n),r[3]=Math.max(r[3],t,i)}static#e(e,t,n,i,r,a,o,s,c,l){if(c<=0||c>=1)return;const d=1-c,h=c*c,u=h*c,p=d*(d*(d*e+3*c*t)+3*h*n)+u*i,f=d*(d*(d*r+3*c*a)+3*h*o)+u*s;l[0]=Math.min(l[0],p),l[1]=Math.min(l[1],f),l[2]=Math.max(l[2],p),l[3]=Math.max(l[3],f)}static#t(e,t,n,i,r,a,o,s,c,l,d,h){if(Math.abs(c)<1e-12)return void(Math.abs(l)>=1e-12&&this.#e(e,t,n,i,r,a,o,s,-d/l,h));const u=l**2-4*d*c;if(u<0)return;const p=Math.sqrt(u),f=2*c;this.#e(e,t,n,i,r,a,o,s,(-l+p)/f,h),this.#e(e,t,n,i,r,a,o,s,(-l-p)/f,h)}static bezierBoundingBox(e,t,n,i,r,a,o,s,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],t,s),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],t,s),this.#t(e,n,r,o,t,i,a,s,3*(3*(n-r)-e+o),6*(e-2*n+r),3*(n-e),c),this.#t(e,n,r,o,t,i,a,s,3*(3*(i-a)-t+s),6*(t-2*i+a),3*(i-t),c)}}let Lp=null,jp=null;function Wp(){if("function"==typeof crypto.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);return crypto.getRandomValues(e),Pp(e)}const qp="pdfjs_internal_id_";function zp(e,t,n){return Math.min(Math.max(e,t),n)}function Hp(e){return Uint8Array.prototype.toBase64?e.toBase64():btoa(Pp(e))}"function"!=typeof Promise.try&&(Promise.try=function(e,...t){return new Promise(n=>{n(e(...t))})}),"function"!=typeof Math.sumPrecise&&(Math.sumPrecise=function(e){return e.reduce((e,t)=>e+t,0)});const Vp="http://www.w3.org/2000/svg";class Gp{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function $p(e,t="text"){if(Jp(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE)if(200!==r.status&&0!==r.status)i(new Error(r.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(r.response)}n(r.responseText)}},r.send(null)})}class Kp{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:r=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=r,this.offsetY=a,n*=t;const s=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let l,d,h,u,p,f,g,m;switch((i%=360)<0&&(i+=360),i){case 180:l=-1,d=0,h=0,u=1;break;case 90:l=0,d=1,h=1,u=0;break;case 270:l=0,d=-1,h=-1,u=0;break;case 0:l=1,d=0,h=0,u=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,u=-u),0===l?(p=Math.abs(c-e[1])*n+r,f=Math.abs(s-e[0])*n+a,g=(e[3]-e[1])*n,m=(e[2]-e[0])*n):(p=Math.abs(s-e[0])*n+r,f=Math.abs(c-e[1])*n+a,g=(e[2]-e[0])*n,m=(e[3]-e[1])*n),this.transform=[l*n,d*n,h*n,u*n,p-l*n*s-h*n*c,f-d*n*s-u*n*c],this.width=g,this.height=m}get rawDims(){const e=this.viewBox;return Ep(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new Kp({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){const n=[e,t];return Bp.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];Bp.applyTransform(t,this.transform);const n=[e[2],e[3]];return Bp.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return Bp.applyInverseTransform(n,this.transform),n}}class Xp extends Cp{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Yp(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function Zp(e){return"string"==typeof e&&/\.pdf$/i.test(e)}class Qp{started=Object.create(null);times=[];time(e){this.started,this.started[e]=Date.now()}timeEnd(e){this.started,this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:r}of this.times)e.push(`${n.padEnd(t)} ${r-i}ms\n`);return e.join("")}}function Jp(e,t){const n=t?URL.parse(e,t):URL.parse(e);return"http:"===n?.protocol||"https:"===n?.protocol}function ef(e){e.preventDefault()}function tf(e){e.preventDefault(),e.stopPropagation()}class nf{static#n;static toDateObject(e){if(e instanceof Date)return e;if(!e||"string"!=typeof e)return null;this.#n||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#n.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let s=parseInt(t[6],10);s=s>=0&&s<=59?s:0;const c=t[7]||"Z";let l=parseInt(t[8],10);l=l>=0&&l<=23?l:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===c?(a+=l,o+=d):"+"===c&&(a-=l,o-=d),new Date(Date.UTC(n,i,r,a,o,s))}}function rf(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(e=>parseInt(e)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):[0,0,0]}function af(e){const{a:t,b:n,c:i,d:r,e:a,f:o}=e.getTransform();return[t,n,i,r,a,o]}function of(e){const{a:t,b:n,c:i,d:r,e:a,f:o}=e.getTransform().invertSelf();return[t,n,i,r,a,o]}function sf(e,t,n=!1,i=!0){if(t instanceof Kp){const{pageWidth:i,pageHeight:r}=t.rawDims,{style:a}=e,o=Mp.isCSSRoundSupported,s=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${r}px`,l=o?`round(down, ${s}, var(--scale-round-x))`:`calc(${s})`,d=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;n&&t.rotation%180!=0?(a.width=d,a.height=l):(a.width=l,a.height=d)}i&&e.setAttribute("data-main-rotation",t.rotation)}class cf{constructor(){const{pixelRatio:e}=cf;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i,r=-1){let a=1/0,o=1/0,s=1/0;(n=cf.capPixels(n,r))>0&&(a=Math.sqrt(n/(e*t))),-1!==i&&(o=i/e,s=i/t);const c=Math.min(a,o,s);return(this.sx>c||this.sy>c)&&(this.sx=c,this.sy=c,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const lf=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class df{#i=null;#r=null;#a;#o=null;#s=null;#c=null;#l=null;static#d=null;constructor(e){this.#a=e,df.#d||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#i=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#a._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",ef,{signal:t}),e.addEventListener("pointerdown",df.#h,{signal:t}));const n=this.#o=document.createElement("div");n.className="buttons",e.append(n);const i=this.#a.toolbarPosition;if(i){const{style:t}=e,n="ltr"===this.#a._uiManager.direction?1-i[0]:i[0];t.insetInlineEnd=100*n+"%",t.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#i}static#h(e){e.stopPropagation()}#u(e){this.#a._focusEventsAllowed=!1,tf(e)}#p(e){this.#a._focusEventsAllowed=!0,tf(e)}#f(e){const t=this.#a._uiManager._signal;return t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("focusin",this.#u.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#p.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ef,{signal:t}),!0)}hide(){this.#i.classList.add("hidden"),this.#r?.hideDropdown()}show(){this.#i.classList.remove("hidden"),this.#s?.shown(),this.#c?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#a,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",df.#d[e]),this.#f(n)&&n.addEventListener("click",e=>{t.delete()},{signal:t._signal}),this.#o.append(n)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#f(t),this.#o.append(t,this.#g),this.#s=e}addComment(e){if(this.#c)return;const t=e.render();t&&(this.#f(t),this.#o.append(t,this.#g),this.#c=e,e.toolbar=this)}addColorPicker(e){if(this.#r)return;this.#r=e;const t=e.renderButton();this.#f(t),this.#o.append(t,this.#g)}async addEditSignatureButton(e){const t=this.#l=await e.renderEditButton(this.#a);this.#f(t),this.#o.append(t,this.#g)}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t)}}updateEditSignatureButton(e){this.#l&&(this.#l.title=e)}remove(){this.#i.remove(),this.#r?.destroy(),this.#r=null}}class hf{#o=null;#i=null;#m;constructor(e){this.#m=e}#b(){const e=this.#i=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#m._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",ef,{signal:t});const n=this.#o=document.createElement("div");return n.className="buttons",e.append(n),this.#m.hasCommentManager()&&this.#y("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#m.commentSelection("floating_button")}),this.#y("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#m.highlightSelection("floating_button")}),e}#v(e,t){let n=0,i=0;for(const r of e){const e=r.y+r.height;if(e<n)continue;const a=r.x+(t?r.width:0);e>n?(i=a,n=e):t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,n]}show(e,t,n){const[i,r]=this.#v(t,n),{style:a}=this.#i||=this.#b();e.append(this.#i),a.insetInlineEnd=100*i+"%",a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){this.#i.remove()}#y(e,t,n,i){const r=document.createElement("button");r.classList.add("basic",e),r.tabIndex=0,r.setAttribute("data-l10n-id",t);const a=document.createElement("span");r.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",n);const o=this.#m._signal;o instanceof AbortSignal&&!o.aborted&&(r.addEventListener("contextmenu",ef,{signal:o}),r.addEventListener("click",i,{signal:o})),this.#o.append(r)}}function uf(e,t,n){for(const i of n)t.addEventListener(i,e[i].bind(e))}class pf{#x=0;get id(){return`${Yu}${this.#x++}`}}class ff{#_=Wp();#x=0;#w=null;static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return Ep(this,"_isSVGFittingCanvas",t.decode().then(()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])))}async#D(e,t){this.#w||=new Map;let n=this.#w.get(e);if(null===n)return null;if(n?.bitmap)return n.refCounter+=1,n;try{let e;if(n||={bitmap:null,id:`image_${this.#_}_${this.#x++}`,refCounter:0,isSvg:!1},"string"==typeof t?(n.url=t,e=await $p(t,"blob")):t instanceof File?e=n.file=t:t instanceof Blob&&(e=t),"image/svg+xml"===e.type){const t=ff._isSVGFittingCanvas,i=new FileReader,r=new Image,a=new Promise((e,a)=>{r.onload=()=>{n.bitmap=r,n.isSvg=!0,e()},i.onload=async()=>{const e=n.svgUrl=i.result;r.src=await t?`${e}#svgView(preserveAspectRatio(none))`:e},r.onerror=i.onerror=a});i.readAsDataURL(e),await a}else n.bitmap=await createImageBitmap(e);n.refCounter=1}catch(Pw){n=null}return this.#w.set(e,n),n&&this.#w.set(n.id,n),n}async getFromFile(e){const{lastModified:t,name:n,size:i,type:r}=e;return this.#D(`${t}_${n}_${i}_${r}`,e)}async getFromUrl(e){return this.#D(e,e)}async getFromBlob(e,t){const n=await t;return this.#D(e,n)}async getFromId(e){this.#w||=new Map;const t=this.#w.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:e}=t;return delete t.blobPromise,this.getFromBlob(t.id,e)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#w||=new Map;let n=this.#w.get(e);if(n?.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${this.#_}_${this.#x++}`,refCounter:1,isSvg:!1},this.#w.set(e,n),this.#w.set(n.id,n),n}getSvgUrl(e){const t=this.#w.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#w||=new Map;const t=this.#w.get(e);if(!t)return;if(t.refCounter-=1,0!==t.refCounter)return;const{bitmap:n}=t;if(!t.url&&!t.file){const e=new OffscreenCanvas(n.width,n.height);e.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=e.convertToBlob()}n.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#_}_`)}}class gf{#T=[];#A=!1;#E;#C=-1;constructor(e=128){this.#E=e}add({cmd:e,undo:t,post:n,mustExec:i,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),this.#A)return;const s={cmd:e,undo:t,post:n,type:r};if(-1===this.#C)return this.#T.length>0&&(this.#T.length=0),this.#C=0,void this.#T.push(s);if(a&&this.#T[this.#C].type===r)return o&&(s.undo=this.#T[this.#C].undo),void(this.#T[this.#C]=s);const c=this.#C+1;c===this.#E?this.#T.splice(0,1):(this.#C=c,c<this.#T.length&&this.#T.splice(c)),this.#T.push(s)}undo(){if(-1===this.#C)return;this.#A=!0;const{undo:e,post:t}=this.#T[this.#C];e(),t?.(),this.#A=!1,this.#C-=1}redo(){if(this.#C<this.#T.length-1){this.#C+=1,this.#A=!0;const{cmd:e,post:t}=this.#T[this.#C];e(),t?.(),this.#A=!1}}hasSomethingToUndo(){return-1!==this.#C}hasSomethingToRedo(){return this.#C<this.#T.length-1}cleanType(e){if(-1!==this.#C){for(let t=this.#C;t>=0;t--)if(this.#T[t].type!==e)return this.#T.splice(t+1,this.#C-t),void(this.#C=t);this.#T.length=0,this.#C=-1}}destroy(){this.#T=null}}class mf{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Mp.platform;for(const[n,i,r={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:i,options:r}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:i,options:r}),this.allKeys.add(e.split("+").at(-1)))}}#k(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(this.#k(t));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:a=[],checker:o=null}}=n;o&&!o(e,t)||(i.bind(e,...a,t)(),r||tf(t))}}class bf{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const n of e.keys()){t.style.color=n;const i=window.getComputedStyle(t).color;e.set(n,rf(i))}t.remove()}(e),Ep(this,"_colors",e)}convert(e){const t=rf(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((e,n)=>e===t[n]))return bf._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?Bp.makeHexColor(...t):e}}class yf{#S=new AbortController;#U=null;#O=null;#F=new Map;#N=new Map;#P=null;#I=null;#M=null;#R=new gf;#B=null;#L=null;#j=null;#W=0;#q=new Set;#z=null;#H=null;#V=new Set;_editorUndoBar=null;#G=!1;#$=!1;#K=!1;#X=null;#Y=null;#Z=null;#Q=null;#J=!1;#ee=null;#te=new pf;#ne=!1;#ie=!1;#re=!1;#ae=null;#oe=null;#se=null;#ce=null;#le=null;#de=Zu.NONE;#he=new Set;#ue=null;#pe=null;#fe=null;#ge=null;#me=null;#be={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#ye=[0,0];#ve=null;#xe=null;#_e=null;#we=null;#De=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=yf.prototype,t=e=>e.#xe.contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,{target:t})=>{if(t instanceof HTMLInputElement){const{type:e}=t;return"text"!==e&&"number"!==e}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Ep(this,"_keyboardManager",new mf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,{target:t})=>!(t instanceof HTMLButtonElement)&&e.#xe.contains(t)&&!e.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,{target:t})=>!(t instanceof HTMLButtonElement)&&e.#xe.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}constructor(e,t,n,i,r,a,o,s,c,l,d,h,u,p,f,g){const m=this._signal=this.#S.signal;this.#xe=e,this.#_e=t,this.#we=n,this.#P=i,this.#B=r,this.#pe=a,this.#me=s,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:m}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),o._on("setpreference",this.onSetPreference.bind(this),{signal:m}),o._on("switchannotationeditorparams",e=>this.updateParams(e.type,e.value),{signal:m}),window.addEventListener("pointerdown",()=>{this.#ie=!0},{capture:!0,signal:m}),window.addEventListener("pointerup",()=>{this.#ie=!1},{capture:!0,signal:m}),this.#Te(),this.#Ae(),this.#Ee(),this.#I=s.annotationStorage,this.#X=s.filterFactory,this.#fe=c,this.#Q=l||null,this.#G=d,this.#$=h,this.#K=u,this.#le=p||null,this.viewParameters={realScale:Gp.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=f||null,this._supportsPinchToZoom=!1!==g}destroy(){this.#De?.resolve(),this.#De=null,this.#S?.abort(),this.#S=null,this._signal=null;for(const e of this.#N.values())e.destroy();this.#N.clear(),this.#F.clear(),this.#V.clear(),this.#ce?.clear(),this.#U=null,this.#he.clear(),this.#R.destroy(),this.#P?.destroy(),this.#B?.destroy(),this.#pe?.destroy(),this.#ee?.hide(),this.#ee=null,this.#se?.destroy(),this.#se=null,this.#O=null,this.#Y&&(clearTimeout(this.#Y),this.#Y=null),this.#ve&&(clearTimeout(this.#ve),this.#ve=null),this._editorUndoBar?.destroy(),this.#me=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#le}get useNewAltTextFlow(){return this.#$}get useNewAltTextWhenAddingImage(){return this.#K}get hcmFilter(){return Ep(this,"hcmFilter",this.#fe?this.#X.addHCMFilter(this.#fe.foreground,this.#fe.background):"none")}get direction(){return Ep(this,"direction",getComputedStyle(this.#xe).direction)}get _highlightColors(){return Ep(this,"_highlightColors",this.#Q?new Map(this.#Q.split(",").map(e=>((e=e.split("=").map(e=>e.trim()))[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ep(this,"highlightColors",null);const t=new Map,n=!!this.#fe;for(const[i,r]of e){const e=i.endsWith("_HCM");n&&e?t.set(i.replace("_HCM",""),r):n||e||t.set(i,r)}return Ep(this,"highlightColors",t)}get highlightColorNames(){return Ep(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#j=e}setMainHighlightColorPicker(e){this.#se=e}editAltText(e,t=!1){this.#P?.editAltText(this,e,t)}hasCommentManager(){return!!this.#B}editComment(e,t){this.#B?.open(this,e,t)}getSignature(e){this.#pe?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#pe}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){if("enableNewAltTextWhenAddingImage"===e)this.#K=t}onPageChanging({pageNumber:e}){this.#W=e-1}focusMainContainer(){this.#xe.focus()}findParent(e,t){for(const n of this.#N.values()){const{x:i,y:r,width:a,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=r&&t<=r+o)return n}return null}disableUserSelect(e=!1){this.#_e.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#V.add(e)}removeShouldRescale(e){this.#V.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Gp.PDF_TO_CSS_UNITS;for(const t of this.#V)t.onScaleChanging();this.#j?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Ce({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ke(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of this.#N.values())if(n.hasTextLayer(e))return n;return null}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:a,focusOffset:o}=n,s=n.toString(),c=this.#Ce(n).closest(".textLayer"),l=this.getSelectionBoxes(c);if(!l)return;n.empty();const d=this.#ke(c),h=this.#de===Zu.NONE,u=()=>{const n=d?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:i,anchorOffset:r,focusNode:a,focusOffset:o,text:s});h&&this.showAllEditors("highlight",!0,!0),t&&n?.editComment()};h?this.switchToMode(Zu.HIGHLIGHT,u):u()}commentSelection(e=""){this.highlightSelection(e,!0)}#Se(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=this.#Ce(e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(this.#ee||=new hf(this),this.#ee.show(t,n,"ltr"===this.direction))}addToAnnotationStorage(e){e.isEmpty()||!this.#I||this.#I.has(e.id)||this.#I.setValue(e.id,e)}a11yAlert(e,t=null){const n=this.#we;n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}#Ue(){const e=document.getSelection();if(!e||e.isCollapsed)return void(this.#ue&&(this.#ee?.hide(),this.#ue=null,this.#Oe({hasSelectedText:!1})));const{anchorNode:t}=e;if(t===this.#ue)return;const n=this.#Ce(e).closest(".textLayer");if(n){if(this.#ee?.hide(),this.#ue=t,this.#Oe({hasSelectedText:!0}),(this.#de===Zu.HIGHLIGHT||this.#de===Zu.NONE)&&(this.#de===Zu.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#J=this.isShiftKeyDown,!this.isShiftKeyDown)){const e=this.#de===Zu.HIGHLIGHT?this.#ke(n):null;if(e?.toggleDrawing(),this.#ie){const t=new AbortController,n=this.combinedSignal(t),i=n=>{"pointerup"===n.type&&0!==n.button||(t.abort(),e?.toggleDrawing(!0),"pointerup"===n.type&&this.#Fe("main_toolbar"))};window.addEventListener("pointerup",i,{signal:n}),window.addEventListener("blur",i,{signal:n})}else e?.toggleDrawing(!0),this.#Fe("main_toolbar")}}else this.#ue&&(this.#ee?.hide(),this.#ue=null,this.#Oe({hasSelectedText:!1}))}#Fe(e=""){this.#de===Zu.HIGHLIGHT?this.highlightSelection(e):this.#G&&this.#Se()}#Te(){document.addEventListener("selectionchange",this.#Ue.bind(this),{signal:this._signal})}#Ne(){if(this.#Z)return;this.#Z=new AbortController;const e=this.combinedSignal(this.#Z);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#Pe(){this.#Z?.abort(),this.#Z=null}blur(){if(this.isShiftKeyDown=!1,this.#J&&(this.#J=!1,this.#Fe("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#he)if(t.div.contains(e)){this.#oe=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#oe)return;const[e,t]=this.#oe;this.#oe=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#Ee(){if(this.#ae)return;this.#ae=new AbortController;const e=this.combinedSignal(this.#ae);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#Ie(){this.#ae?.abort(),this.#ae=null}#Me(){if(this.#L)return;this.#L=new AbortController;const e=this.combinedSignal(this.#L);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#Re(){this.#L?.abort(),this.#L=null}#Ae(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#Ee(),this.#Me()}removeEditListeners(){this.#Ie(),this.#Re()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of this.#H)if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of this.#H)if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){if(e.preventDefault(),this.#U?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const n of this.#he){const e=n.serialize(!0);e&&t.push(e)}0!==t.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const e of this.#H)if(e.isHandlingMimeForPasting(a.type))return void e.paste(a,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){return void r.message}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const e=[];for(const a of n){const t=await i.deserialize(a);if(!t)return;e.push(t)}const t=()=>{for(const t of e)this.#Be(t);this.#Le(e)},r=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:r,mustExec:!0})}catch(r){r.message}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),this.#de===Zu.NONE||this.isEditorHandlingKeyboard||yf._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,this.#J&&(this.#J=!1,this.#Fe("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu")}}#Oe(e){Object.entries(e).some(([e,t])=>this.#be[e]!==t)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#be,e)}),this.#de===Zu.HIGHLIGHT&&!1===e.hasSelectedEditor&&this.#je([[Qu.HIGHLIGHT_FREE,!0]]))}#je(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#Ne(),this.#Me(),this.#Oe({isEditing:this.#de!==Zu.NONE,isEmpty:this.#We(),hasSomethingToUndo:this.#R.hasSomethingToUndo(),hasSomethingToRedo:this.#R.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#Pe(),this.#Re(),this.#Oe({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#H){this.#H=e;for(const e of this.#H)this.#je(e.defaultPropertiesToUpdate)}}getId(){return this.#te.id}get currentLayer(){return this.#N.get(this.#W)}getLayer(e){return this.#N.get(e)}get currentPageIndex(){return this.#W}addLayer(e){this.#N.set(e.pageIndex,e),this.#ne?e.enable():e.disable()}removeLayer(e){this.#N.delete(e.pageIndex)}async updateMode(e,t=null,n=!1,i=!1,r=!1){if(this.#de!==e&&(!this.#De||(await this.#De.promise,this.#De))){if(this.#De=Promise.withResolvers(),this.#j?.commitOrRemove(),this.#de===Zu.POPUP&&this.#B?.hideSidebar(),this.#de=e,e===Zu.NONE)return this.setEditingState(!1),this.#qe(),this._editorUndoBar?.hide(),void this.#De.resolve();e===Zu.SIGNATURE&&await(this.#pe?.loadSignatures()),e===Zu.POPUP&&(this.#O||=await this.#me.getAnnotationsByType(new Set(this.#H.map(e=>e._editorType))),this.#B?.showSidebar(this.#O)),this.setEditingState(!0),await this.#ze(),this.unselectAll();for(const t of this.#N.values())t.updateMode(e);if(!t)return n&&this.addNewEditorFromKeyboard(),void this.#De.resolve();for(const e of this.#F.values())e.annotationElementId===t||e.id===t?(this.setSelected(e),r?e.editComment():i&&e.enterInEditMode()):e.unselect();this.#De.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#de&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#H){switch(e){case Qu.CREATE:return void this.currentLayer.addNewEditor(t);case Qu.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#ge||=new Map).set(e,t),this.showAllEditors("highlight",t)}if(this.hasSelection)for(const n of this.#he)n.updateParams(e,t);else for(const n of this.#H)n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){for(const i of this.#F.values())i.editorType===e&&i.show(t);(this.#ge?.get(Qu.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#je([[Qu.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#re!==e){this.#re=e;for(const t of this.#N.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#ze(){if(!this.#ne){this.#ne=!0;const e=[];for(const t of this.#N.values())e.push(t.enable());await Promise.all(e);for(const t of this.#F.values())t.enable()}}#qe(){if(this.unselectAll(),this.#ne){this.#ne=!1;for(const e of this.#N.values())e.disable();for(const e of this.#F.values())e.disable()}}getEditors(e){const t=[];for(const n of this.#F.values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return this.#F.get(e)}addEditor(e){this.#F.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#Y&&clearTimeout(this.#Y),this.#Y=setTimeout(()=>{this.focusMainContainer(),this.#Y=null},0)),this.#F.delete(e.id),e.annotationElementId&&this.#ce?.delete(e.annotationElementId),this.unselect(e),e.annotationElementId&&this.#q.has(e.annotationElementId)||this.#I?.remove(e.id)}addDeletedAnnotationElement(e){this.#q.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#q.has(e)}removeDeletedAnnotationElement(e){this.#q.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#Be(e){const t=this.#N.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#U!==e&&(this.#U=e,e&&this.#je(e.propertiesToUpdate))}get#He(){let e=null;for(e of this.#he);return e}updateUI(e){this.#He===e&&this.#je(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#je(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#he.has(e))return this.#he.delete(e),e.unselect(),void this.#Oe({hasSelectedEditor:this.hasSelection});this.#he.add(e),e.select(),this.#je(e.propertiesToUpdate),this.#Oe({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#j?.commitOrRemove();for(const t of this.#he)t!==e&&t.unselect();this.#he.clear(),this.#he.add(e),e.select(),this.#je(e.propertiesToUpdate),this.#Oe({hasSelectedEditor:!0})}isSelected(e){return this.#he.has(e)}get firstSelectedEditor(){return this.#he.values().next().value}unselect(e){e.unselect(),this.#he.delete(e),this.#Oe({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#he.size}get isEnterHandled(){return 1===this.#he.size&&this.firstSelectedEditor.isEnterHandled}undo(){this.#R.undo(),this.#Oe({hasSomethingToUndo:this.#R.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#We()}),this._editorUndoBar?.hide()}redo(){this.#R.redo(),this.#Oe({hasSomethingToUndo:!0,hasSomethingToRedo:this.#R.hasSomethingToRedo(),isEmpty:this.#We()})}addCommands(e){this.#R.add(e),this.#Oe({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#We()})}cleanUndoStack(e){this.#R.cleanType(e)}#We(){if(0===this.#F.size)return!0;if(1===this.#F.size)for(const e of this.#F.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#he],n=()=>{for(const e of t)this.#Be(e)};this.addCommands({cmd:()=>{this._editorUndoBar?.show(n,1===t.length?t[0].editorType:t.length);for(const e of t)e.remove()},undo:n,mustExec:!0})}commitOrRemove(){this.#U?.commitOrRemove()}hasSomethingToControl(){return this.#U||this.hasSelection}#Le(e){for(const t of this.#he)t.unselect();this.#he.clear();for(const t of e)t.isEmpty()||(this.#he.add(t),t.select());this.#Oe({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#he)e.commit();this.#Le(this.#F.values())}unselectAll(){if((!this.#U||(this.#U.commitOrRemove(),this.#de===Zu.NONE))&&!this.#j?.commitOrRemove()&&this.hasSelection){for(const e of this.#he)e.unselect();this.#he.clear(),this.#Oe({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#ye[0]+=e,this.#ye[1]+=t;const[i,r]=this.#ye,a=[...this.#he];this.#ve&&clearTimeout(this.#ve),this.#ve=setTimeout(()=>{this.#ve=null,this.#ye[0]=this.#ye[1]=0,this.addCommands({cmd:()=>{for(const e of a)this.#F.has(e.id)&&(e.translateInPage(i,r),e.translationDone())},undo:()=>{for(const e of a)this.#F.has(e.id)&&(e.translateInPage(-i,-r),e.translationDone())},mustExec:!1})},1e3);for(const o of a)o.translateInPage(e,t),o.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#z=new Map;for(const e of this.#he)this.#z.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#z)return!1;this.disableUserSelect(!1);const e=this.#z;this.#z=null;let t=!1;for(const[{x:i,y:r,pageIndex:a},o]of e)o.newX=i,o.newY=r,o.newPageIndex=a,t||=i!==o.savedX||r!==o.savedY||a!==o.savedPageIndex;if(!t)return!1;const n=(e,t,n,i)=>{if(this.#F.has(e.id)){const r=this.#N.get(i);r?e._setParentAndPosition(r,t,n):(e.pageIndex=i,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:i,newY:r,newPageIndex:a}]of e)n(t,i,r,a)},undo:()=>{for(const[t,{savedX:i,savedY:r,savedPageIndex:a}]of e)n(t,i,r,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#z)for(const n of this.#z.keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||1===this.#he.size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#U===e}getActive(){return this.#U}getMode(){return this.#de}get imageManager(){return Ep(this,"imageManager",new ff)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,l=t.rangeCount;c<l;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(e,t,o,s)=>({x:(t-i)/a,y:1-(e+o-n)/r,width:s/a,height:o/r});break;case"180":o=(e,t,o,s)=>({x:1-(e+o-n)/r,y:1-(t+s-i)/a,width:o/r,height:s/a});break;case"270":o=(e,t,o,s)=>({x:1-(t+s-i)/a,y:(e-n)/r,width:s/a,height:o/r});break;default:o=(e,t,o,s)=>({x:(e-n)/r,y:(t-i)/a,width:o/r,height:s/a})}const s=[];for(let c=0,l=t.rangeCount;c<l;c++){const e=t.getRangeAt(c);if(!e.collapsed)for(const{x:t,y:n,width:i,height:r}of e.getClientRects())0!==i&&0!==r&&s.push(o(t,n,i,r))}return 0===s.length?null:s}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#M||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#M?.delete(e)}renderAnnotationElement(e){const t=this.#M?.get(e.data.id);if(!t)return;const n=this.#I.getRawValue(t);n&&(this.#de!==Zu.NONE||n.hasBeenModified)&&n.renderAnnotationElement(e)}setMissingCanvas(e,t,n){const i=this.#ce?.get(e);i&&(i.setCanvas(t,n),this.#ce.delete(e))}addMissingCanvas(e,t){(this.#ce||=new Map).set(e,t)}}class vf{#s=null;#Ve=!1;#Ge=null;#$e=null;#Ke=null;#Xe=null;#Ye=!1;#Ze=null;#a=null;#Qe=null;#Je=null;#et=!1;static#tt=null;static _l10n=null;constructor(e){this.#a=e,this.#et=e._uiManager.useNewAltTextFlow,vf.#tt||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){vf._l10n??=e}async render(){const e=this.#Ge=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#$e=document.createElement("span");e.append(t),this.#et?(e.classList.add("new"),e.setAttribute("data-l10n-id",vf.#tt.missing),t.setAttribute("data-l10n-id",vf.#tt["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#a._uiManager._signal;e.addEventListener("contextmenu",ef,{signal:n}),e.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:n});const i=e=>{e.preventDefault(),this.#a._uiManager.editAltText(this.#a),this.#et&&this.#a._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#nt}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",t=>{t.target===e&&"Enter"===t.key&&(this.#Ye=!0,i(t))},{signal:n}),await this.#it(),e}get#nt(){return(this.#s?"added":null===this.#s&&this.guessedText&&"review")||"missing"}finish(){this.#Ge&&(this.#Ge.focus({focusVisible:this.#Ye}),this.#Ye=!1)}isEmpty(){return this.#et?null===this.#s:!this.#s&&!this.#Ve}hasData(){return this.#et?null!==this.#s||!!this.#Qe:this.isEmpty()}get guessedText(){return this.#Qe}async setGuessedText(e){null===this.#s&&(this.#Qe=e,this.#Je=await vf._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#it())}toggleAltTextBadge(e=!1){if(!this.#et||this.#s)return this.#Ze?.remove(),void(this.#Ze=null);if(!this.#Ze){const e=this.#Ze=document.createElement("div");e.className="noAltTextBadge",this.#a.div.append(e)}this.#Ze.classList.toggle("hidden",!e)}serialize(e){let t=this.#s;return e||this.#Qe!==t||(t=this.#Je),{altText:t,decorative:this.#Ve,guessedText:this.#Qe,textWithDisclaimer:this.#Je}}get data(){return{altText:this.#s,decorative:this.#Ve}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:r=!1}){n&&(this.#Qe=n,this.#Je=i),this.#s===e&&this.#Ve===t||(r||(this.#s=e,this.#Ve=t),this.#it())}toggle(e=!1){this.#Ge&&(!e&&this.#Xe&&(clearTimeout(this.#Xe),this.#Xe=null),this.#Ge.disabled=!e)}shown(){this.#a._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#nt}})}destroy(){this.#Ge?.remove(),this.#Ge=null,this.#$e=null,this.#Ke=null,this.#Ze?.remove(),this.#Ze=null}async#it(){const e=this.#Ge;if(!e)return;if(this.#et){if(e.classList.toggle("done",!!this.#s),e.setAttribute("data-l10n-id",vf.#tt[this.#nt]),this.#$e?.setAttribute("data-l10n-id",vf.#tt[`${this.#nt}-label`]),!this.#s)return void this.#Ke?.remove()}else{if(!this.#s&&!this.#Ve)return e.classList.remove("done"),void this.#Ke?.remove();e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#Ke;if(!t){this.#Ke=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#a.id}`;const n=100,i=this.#a._uiManager._signal;i.addEventListener("abort",()=>{clearTimeout(this.#Xe),this.#Xe=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#Xe=setTimeout(()=>{this.#Xe=null,this.#Ke.classList.add("show"),this.#a._reportTelemetry({action:"alt_text_tooltip"})},n)},{signal:i}),e.addEventListener("mouseleave",()=>{this.#Xe&&(clearTimeout(this.#Xe),this.#Xe=null),this.#Ke?.classList.remove("show")},{signal:i})}this.#Ve?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#s),t.parentNode||e.append(t);const n=this.#a.getElementForAltText();n?.setAttribute("aria-describedby",t.id)}}class xf{#rt=null;#at=!1;#a=null;#ot=null;#st=null;#ct=null;#lt=!1;constructor(e){this.#a=e,this.toolbar=null}render(){if(!this.#a._uiManager.hasCommentManager())return null;const e=this.#rt=document.createElement("button");e.className="comment",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const t=this.#a._uiManager._signal;if(!(t instanceof AbortSignal)||t.aborted)return e;e.addEventListener("contextmenu",ef,{signal:t}),e.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:t});const n=e=>{e.preventDefault(),this.edit()};return e.addEventListener("click",n,{capture:!0,signal:t}),e.addEventListener("keydown",t=>{t.target===e&&"Enter"===t.key&&(this.#at=!0,n(t))},{signal:t}),e}edit(){const{bottom:e,left:t,right:n}=this.#a.getClientDimensions(),i={top:e};"ltr"===this.#a._uiManager.direction?i.right=n:i.left=t,this.#a._uiManager.editComment(this.#a,i)}finish(){this.#rt&&(this.#rt.focus({focusVisible:this.#at}),this.#at=!1)}isDeleted(){return this.#lt||""===this.#st}hasBeenEdited(){return this.isDeleted()||this.#st!==this.#ot}serialize(){return this.data}get data(){return{text:this.#st,date:this.#ct,deleted:this.#lt}}set data(e){if(null===e)return this.#st="",void(this.#lt=!0);this.#st=e,this.#ct=new Date,this.#lt=!1}setInitialText(e){this.#ot=e,this.data=e}toggle(e=!1){this.#rt&&(this.#rt.disabled=!e)}shown(){}destroy(){this.#rt?.remove(),this.#rt=null,this.#st="",this.#ct=null,this.#a=null,this.#at=!1,this.#lt=!1}}class _f{#xe;#dt=!1;#ht=null;#ut;#pt;#ft;#gt;#mt=null;#bt;#yt=null;#vt;#xt=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:r=null,onPinchEnd:a=null,signal:o}){this.#xe=e,this.#ht=n,this.#ut=t,this.#pt=i,this.#ft=r,this.#gt=a,this.#vt=new AbortController,this.#bt=AbortSignal.any([o,this.#vt.signal]),e.addEventListener("touchstart",this.#_t.bind(this),{passive:!1,signal:this.#bt})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/cf.pixelRatio}#_t(e){if(this.#ut?.())return;if(1===e.touches.length){if(this.#mt)return;const e=this.#mt=new AbortController,t=AbortSignal.any([this.#bt,e.signal]),n=this.#xe,i={capture:!0,signal:t,passive:!1},r=e=>{"touch"===e.pointerType&&(this.#mt?.abort(),this.#mt=null)};return n.addEventListener("pointerdown",e=>{"touch"===e.pointerType&&(tf(e),r(e))},i),n.addEventListener("pointerup",r,i),void n.addEventListener("pointercancel",r,i)}if(!this.#xt){this.#xt=new AbortController;const e=AbortSignal.any([this.#bt,this.#xt.signal]),t=this.#xe,n={signal:e,capture:!1,passive:!1};t.addEventListener("touchmove",this.#wt.bind(this),n);const i=this.#Dt.bind(this);t.addEventListener("touchend",i,n),t.addEventListener("touchcancel",i,n),n.capture=!0,t.addEventListener("pointerdown",tf,n),t.addEventListener("pointermove",tf,n),t.addEventListener("pointercancel",tf,n),t.addEventListener("pointerup",tf,n),this.#pt?.()}if(tf(e),2!==e.touches.length||this.#ht?.())return void(this.#yt=null);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),this.#yt={touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#wt(e){if(!this.#yt||2!==e.touches.length)return;tf(e);let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:i,screenY:r}=t,{screenX:a,screenY:o}=n,s=this.#yt,{touch0X:c,touch0Y:l,touch1X:d,touch1Y:h}=s,u=d-c,p=h-l,f=a-i,g=o-r,m=Math.hypot(f,g)||1,b=Math.hypot(u,p)||1;if(!this.#dt&&Math.abs(b-m)<=_f.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(s.touch0X=i,s.touch0Y=r,s.touch1X=a,s.touch1Y=o,!this.#dt)return void(this.#dt=!0);const y=[(i+a)/2,(r+o)/2];this.#ft?.(y,b,m)}#Dt(e){e.touches.length>=2||(this.#xt&&(this.#xt.abort(),this.#xt=null,this.#gt?.()),this.#yt&&(tf(e),this.#yt=null,this.#dt=!1))}destroy(){this.#vt?.abort(),this.#vt=null,this.#mt?.abort(),this.#mt=null}}class wf{#Tt=null;#At=null;#s=null;#c=null;#Et=!1;#Ct=null;#kt="";#St=!1;#Ut=null;#Ot=null;#Ft=null;#Nt=null;#Pt="";#It=!1;#Mt=null;#Rt=!1;#Bt=!1;#Lt=!1;#jt=null;#Wt=0;#qt=0;#zt=null;#Ht=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#Vt=!1;#Gt=wf._zIndex++;static _borderLineWidth=-1;static _colorManager=new bf;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=wf.prototype._resizeWithKeyboard,t=yf.TRANSLATE_SMALL,n=yf.TRANSLATE_BIG;return Ep(this,"_resizerKeyboardManager",new mf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],wf.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[r,a];const[o,s]=this.parentDimensions;this.x=e.x/o,this.y=e.y/s,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ep(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Df({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(wf._l10n??=e,wf._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),-1!==wf._borderLineWidth)return;const n=getComputedStyle(document.documentElement);wf._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){wp("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#Vt}set _isDraggable(e){this.#Vt=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#Gt}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#$t(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#It?this.#It=!1:this.parent.setSelected(this))}focusout(e){if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const t=e.relatedTarget;t?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[r,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/r,this.y=(t+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}#Kt([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#Kt(this.parentDimensions,e,t)}translateInPage(e,t){this.#Mt||=[this.x,this.y,this.width,this.height],this.#Kt(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#Mt||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[i,r]}=this;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[s,c]=this.getBaseTranslation();a+=s,o+=c;const{style:l}=n;l.left=`${(100*a).toFixed(2)}%`,l.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#Mt&&(this.#Mt[0]!==this.x||this.#Mt[1]!==this.y)}get _hasBeenResized(){return!!this.#Mt&&(this.#Mt[2]!==this.width||this.#Mt[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=wf,i=n/e,r=n/t;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:r,y:a,width:o,height:s}=this;if(o*=n,s*=i,r*=n,a*=i,this._mustFixPosition)switch(e){case 0:r=zp(r,0,n-o),a=zp(a,0,i-s);break;case 90:r=zp(r,0,n-s),a=zp(a,o,i);break;case 180:r=zp(r,o,n),a=zp(a,s,i);break;case 270:r=zp(r,s,n),a=zp(a,0,i-o)}this.x=r/=n,this.y=a/=i;const[c,l]=this.getBaseTranslation();r+=c,a+=l,t.left=`${(100*r).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}static#Xt(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return wf.#Xt(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return wf.#Xt(e,t,360-this.parentRotation)}#Yt(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,i]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*e/n).toFixed(2)}%`,this.#St||(r.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),r=!this.#St&&t.endsWith("%");if(i&&r)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),this.#St||r||(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#Zt(){if(this.#Ut)return;this.#Ut=document.createElement("div"),this.#Ut.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");this.#Ut.append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",this.#Qt.bind(this,n),{signal:t}),e.addEventListener("contextmenu",ef,{signal:t}),e.tabIndex=-1}this.div.prepend(this.#Ut)}#Qt(e,t){t.preventDefault();const{isMac:n}=Mp.platform;if(0!==t.button||t.ctrlKey&&n)return;this.#s?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#Ot=[t.screenX,t.screenY];const r=new AbortController,a=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#Jt.bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",tf,{passive:!1,signal:a}),window.addEventListener("contextmenu",ef,{signal:a}),this.#Ft={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const o=this.parent.div.style.cursor,s=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{r.abort(),this.parent.togglePointerEvents(!0),this.#s?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=s,this.#en()};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}#tn(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t;const[r,a]=this.parentDimensions;this.setDims(r*n,a*i),this.fixAndSetPosition(),this._onResized()}_onResized(){}#en(){if(!this.#Ft)return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=this.#Ft;this.#Ft=null;const r=this.x,a=this.y,o=this.width,s=this.height;r===e&&a===t&&o===n&&s===i||this.addCommands({cmd:this.#tn.bind(this,r,a,o,s),undo:this.#tn.bind(this,e,t,n,i),mustExec:!0})}static _round(e){return Math.round(1e4*e)/1e4}#Jt(e,t){const[n,i]=this.parentDimensions,r=this.x,a=this.y,o=this.width,s=this.height,c=wf.MIN_SIZE/n,l=wf.MIN_SIZE/i,d=this.#Yt(this.rotation),h=(e,t)=>[d[0]*e+d[2]*t,d[1]*e+d[3]*t],u=this.#Yt(360-this.rotation);let p,f,g=!1,m=!1;switch(e){case"topLeft":g=!0,p=(e,t)=>[0,0],f=(e,t)=>[e,t];break;case"topMiddle":p=(e,t)=>[e/2,0],f=(e,t)=>[e/2,t];break;case"topRight":g=!0,p=(e,t)=>[e,0],f=(e,t)=>[0,t];break;case"middleRight":m=!0,p=(e,t)=>[e,t/2],f=(e,t)=>[0,t/2];break;case"bottomRight":g=!0,p=(e,t)=>[e,t],f=(e,t)=>[0,0];break;case"bottomMiddle":p=(e,t)=>[e/2,t],f=(e,t)=>[e/2,0];break;case"bottomLeft":g=!0,p=(e,t)=>[0,t],f=(e,t)=>[e,0];break;case"middleLeft":m=!0,p=(e,t)=>[0,t/2],f=(e,t)=>[e,t/2]}const b=p(o,s),y=f(o,s);let v=h(...y);const x=wf._round(r+v[0]),_=wf._round(a+v[1]);let w,D,T=1,A=1;if(t.fromKeyboard)({deltaX:w,deltaY:D}=t);else{const{screenX:e,screenY:n}=t,[i,r]=this.#Ot;[w,D]=this.screenToPageTranslation(e-i,n-r),this.#Ot[0]=e,this.#Ot[1]=n}var E,C;if([w,D]=(E=w/n,C=D/i,[u[0]*E+u[2]*C,u[1]*E+u[3]*C]),g){const e=Math.hypot(o,s);T=A=Math.max(Math.min(Math.hypot(y[0]-b[0]-w,y[1]-b[1]-D)/e,1/o,1/s),c/o,l/s)}else m?T=zp(Math.abs(y[0]-b[0]-w),c,1)/o:A=zp(Math.abs(y[1]-b[1]-D),l,1)/s;const k=wf._round(o*T),S=wf._round(s*A);v=h(...f(k,S));const U=x-v[0],O=_-v[1];this.#Mt||=[this.x,this.y,this.width,this.height],this.width=k,this.height=S,this.x=U,this.y=O,this.setDims(n*k,i*S),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#s?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#Bt)return this._editToolbar;this._editToolbar=new df(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#s?.destroy())}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#s||(vf.initialize(wf._l10n),this.#s=new vf(this),this.#Tt&&(this.#s.data=this.#Tt,this.#Tt=null)),this.#s}get altTextData(){return this.#s?.data}set altTextData(e){this.#s&&(this.#s.data=e)}get guessedAltText(){return this.#s?.guessedText}async setGuessedAltText(e){await(this.#s?.setGuessedText(e))}serializeAltText(e){return this.#s?.serialize(e)}hasAltText(){return!!this.#s&&!this.#s.isEmpty()}hasAltTextData(){return this.#s?.hasData()??!1}addCommentButton(){return this.#c?this.#c:this.#c=new xf(this)}get commentColor(){return null}get comment(){const e=this.#c;return{text:e.data.text,date:e.data.date,deleted:e.isDeleted(),color:this.commentColor}}set comment(e){this.#c||(this.#c=new xf(this)),this.#c.data=e}setCommentData(e){this.#c||(this.#c=new xf(this)),this.#c.setInitialText(e)}get hasEditedComment(){return this.#c?.hasBeenEdited()}async editComment(){this.#c||(this.#c=new xf(this)),this.#c.edit()}addComment(e){if(this.hasEditedComment){const t=180,n=100,[,,,i]=e.rect,[r]=this.pageDimensions,[a]=this.pageTranslation,o=a+r+1,s=i-n,c=o+t;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,s,c,i]}}}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#Et?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#nn();const[t,n]=this.parentDimensions;this.parentRotation%180!=0&&(e.style.maxWidth=`${(100*n/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/n).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),uf(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#Ht||=new _f({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#in.bind(this),onPinching:this.#rn.bind(this),onPinchEnd:this.#an.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),e}#in(){this.#Ft={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#s?.toggle(!1),this.parent.togglePointerEvents(!1)}#rn(e,t,n){let i=n/t*.7+1-.7;if(1===i)return;const r=this.#Yt(this.rotation),a=(e,t)=>[r[0]*e+r[2]*t,r[1]*e+r[3]*t],[o,s]=this.parentDimensions,c=this.x,l=this.y,d=this.width,h=this.height,u=wf.MIN_SIZE/o,p=wf.MIN_SIZE/s;i=Math.max(Math.min(i,1/d,1/h),u/d,p/h);const f=wf._round(d*i),g=wf._round(h*i);if(f===d&&g===h)return;this.#Mt||=[c,l,d,h];const m=a(d/2,h/2),b=wf._round(c+m[0]),y=wf._round(l+m[1]),v=a(f/2,g/2);this.x=b-v[0],this.y=y-v[1],this.width=f,this.height=g,this.setDims(o*f,s*g),this.fixAndSetPosition(),this._onResizing()}#an(){this.#s?.toggle(!0),this.parent.togglePointerEvents(!0),this.#en()}pointerdown(e){const{isMac:t}=Mp.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(this.#It=!0,this._isDraggable?this.#on(e):this.#sn(e))}#sn(e){const{isMac:t}=Mp.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#on(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,r=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:r},o=e=>{i.abort(),this.#Ct=null,this.#It=!1,this._uiManager.endDragSession()||this.#sn(e),n&&this._onStopDragging()};t&&(this.#Wt=e.clientX,this.#qt=e.clientY,this.#Ct=e.pointerId,this.#kt=e.pointerType,window.addEventListener("pointermove",e=>{n||(n=!0,this._onStartDragging());const{clientX:t,clientY:i,pointerId:r}=e;if(r!==this.#Ct)return void tf(e);const[a,o]=this.screenToPageTranslation(t-this.#Wt,i-this.#qt);this.#Wt=t,this.#qt=i,this._uiManager.dragSelectedEditors(a,o)},a),window.addEventListener("touchmove",tf,a),window.addEventListener("pointerdown",e=>{e.pointerType===this.#kt&&(this.#Ht||e.isPrimary)&&o(e),tf(e)},a));const s=e=>{this.#Ct&&this.#Ct!==e.pointerId?tf(e):o(e)};window.addEventListener("pointerup",s,{signal:r}),window.addEventListener("blur",s,{signal:r})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#jt&&clearTimeout(this.#jt),this.#jt=setTimeout(()=>{this.#jt=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[r,a]=this.pageDimensions,[o,s]=this.pageTranslation,c=e/i,l=t/i,d=this.x*r,h=this.y*a,u=this.width*r,p=this.height*a;switch(n){case 0:return[d+c+o,a-h-l-p+s,d+c+u+o,a-h-l+s];case 90:return[d+l+o,a-h+c+s,d+l+p+o,a-h+c+u+s];case 180:return[d-c-u+o,a-h+l+s,d-c+o,a-h+l+p+s];case 270:return[d-l-p+o,a-h-c-u+s,d-l+o,a-h-c+s];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,r,a]=e,o=r-n,s=a-i;switch(this.rotation){case 0:return[n,t-a,o,s];case 90:return[n,t-i,s,o];case 180:return[r,t-i,o,s];case 270:return[r,t-a,s,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),this.#Bt=!0,!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),this.#Bt=!1,!0)}isInEditMode(){return this.#Bt}shouldGetKeyboardEvents(){return this.#Lt}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:r,innerWidth:a}=window;return t<a&&i>0&&e<r&&n>0}#nn(){if(this.#Nt||!this.div)return;this.#Nt=new AbortController;const e=this._uiManager.combinedSignal(this.#Nt);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#nn()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){wp("An editor must be serializable")}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});i.rotation=e.rotation,i.#Tt=e.accessibilityData,i._isCopy=e.isCopy||!1;const[r,a]=i.pageDimensions,[o,s,c,l]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/r,i.y=s/a,i.width=c/r,i.height=l/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){if(this.#Nt?.abort(),this.#Nt=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#jt&&(clearTimeout(this.#jt),this.#jt=null),this.#$t(),this.removeEditToolbar(),this.#zt){for(const e of this.#zt.values())clearTimeout(e);this.#zt=null}this.parent=null,this.#Ht?.destroy(),this.#Ht=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#Zt(),this.#Ut.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),this.#Ft={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#Ut.children;if(!this.#At){this.#At=Array.from(t);const e=this.#cn.bind(this),n=this.#ln.bind(this),i=this._uiManager._signal;for(const t of this.#At){const r=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:i}),t.addEventListener("blur",n,{signal:i}),t.addEventListener("focus",this.#dn.bind(this,r),{signal:i}),t.setAttribute("data-l10n-id",wf._l10nResizer[r])}}const n=this.#At[0];let i=0;for(const a of t){if(a===n)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(this.#At.length/4);if(r!==i){if(r<i)for(let t=0;t<i-r;t++)this.#Ut.append(this.#Ut.firstChild);else if(r>i)for(let t=0;t<r-i;t++)this.#Ut.firstChild.before(this.#Ut.lastChild);let e=0;for(const n of t){const t=this.#At[e++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",wf._l10nResizer[t])}}this.#hn(0),this.#Lt=!0,this.#Ut.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#cn(e){wf._resizerKeyboardManager.exec(this,e)}#ln(e){this.#Lt&&e.relatedTarget?.parentNode!==this.#Ut&&this.#$t()}#dn(e){this.#Pt=this.#Lt?e:""}#hn(e){if(this.#At)for(const t of this.#At)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#Lt&&this.#Jt(this.#Pt,{deltaX:e,deltaY:t,fromKeyboard:!0})}#$t(){this.#Lt=!1,this.#hn(-1),this.#en()}_stopResizingWithKeyboard(){this.#$t(),this.div.focus()}select(){this.isSelected&&this._editToolbar||(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),this._editToolbar?(this._editToolbar?.show(),this.#s?.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()}))}unselect(){this.isSelected&&(this.isSelected=!1,this.#Ut?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#s?.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#Rt}set isEditing(e){this.#Rt=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#St=!0;const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#zt||=new Map;const{action:t}=e;let n=this.#zt.get(t);return n&&clearTimeout(n),n=setTimeout(()=>{this._reportTelemetry(e),this.#zt.delete(t),0===this.#zt.size&&(this.#zt=null)},wf._telemetryTimeout),void this.#zt.set(t,n)}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#Et=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#Et=!0}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===t?.nodeName&&t.classList.contains("annotationContent")&&t.remove()}}class Df extends wf{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Tf=3285377520,Af=4294901760,Ef=65535;class Cf{constructor(e){this.h1=e?4294967295&e:Tf,this.h2=e?4294967295&e:Tf}update(e){let t,n;if("string"==typeof e){t=new Uint8Array(2*e.length),n=0;for(let i=0,r=e.length;i<r;i++){const r=e.charCodeAt(i);r<=255?t[n++]=r:(t[n++]=r>>>8,t[n++]=255&r)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const i=n>>2,r=n-4*i,a=new Uint32Array(t.buffer,0,i);let o=0,s=0,c=this.h1,l=this.h2;const d=3432918353,h=461845907,u=11601,p=13715;for(let f=0;f<i;f++)1&f?(o=a[f],o=o*d&Af|o*u&Ef,o=o<<15|o>>>17,o=o*h&Af|o*p&Ef,c^=o,c=c<<13|c>>>19,c=5*c+3864292196):(s=a[f],s=s*d&Af|s*u&Ef,s=s<<15|s>>>17,s=s*h&Af|s*p&Ef,l^=s,l=l<<13|l>>>19,l=5*l+3864292196);switch(o=0,r){case 3:o^=t[4*i+2]<<16;case 2:o^=t[4*i+1]<<8;case 1:o^=t[4*i],o=o*d&Af|o*u&Ef,o=o<<15|o>>>17,o=o*h&Af|o*p&Ef,1&i?c^=o:l^=o}this.h1=c,this.h2=l}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&Af|36045*e&Ef,t=4283543511*t&Af|(2950163797*(t<<16|e>>>16)&Af)>>>16,e^=t>>>1,e=444984403*e&Af|60499*e&Ef,t=3301882366*t&Af|(3120437893*(t<<16|e>>>16)&Af)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const kf=Object.freeze({map:null,hash:"",transfer:void 0});class Sf{#un=!1;#pn=null;#fn=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=this.#fn.get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return this.#fn.get(e)}remove(e){if(this.#fn.delete(e),0===this.#fn.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const e of this.#fn.values())if(e instanceof wf)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=this.#fn.get(e);let i=!1;if(void 0!==n)for(const[r,a]of Object.entries(t))n[r]!==a&&(i=!0,n[r]=a);else i=!0,this.#fn.set(e,t);i&&this.#gn(),t instanceof wf&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#fn.has(e)}get size(){return this.#fn.size}#gn(){this.#un||(this.#un=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this.#un&&(this.#un=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new Uf(this)}get serializable(){if(0===this.#fn.size)return kf;const e=new Map,t=new Cf,n=[],i=Object.create(null);let r=!1;for(const[a,o]of this.#fn){const n=o instanceof wf?o.serialize(!1,i):o;n&&(e.set(a,n),t.update(`${a}:${JSON.stringify(n)}`),r||=!!n.bitmap)}if(r)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:kf}get editorStats(){let e=null;const t=new Map;for(const n of this.#fn.values()){if(!(n instanceof wf))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:r}=i;t.has(r)||t.set(r,Object.getPrototypeOf(n).constructor),e||=Object.create(null);const a=e[r]||=new Map;for(const[e,t]of Object.entries(i)){if("type"===e)continue;let n=a.get(e);n||(n=new Map,a.set(e,n));const i=n.get(t)??0;n.set(t,i+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){this.#pn=null}get modifiedIds(){if(this.#pn)return this.#pn;const e=[];for(const t of this.#fn.values())t instanceof wf&&t.annotationElementId&&t.serialize()&&e.push(t.annotationElementId);return this.#pn={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#fn.entries()}}class Uf extends Sf{#mn;constructor(e){super();const{map:t,hash:n,transfer:i}=e.serializable,r=structuredClone(t,i?{transfer:i}:null);this.#mn={map:r,hash:n,transfer:i}}get print(){wp("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#mn}get modifiedIds(){return Ep(this,"modifiedIds",{ids:new Set,hash:""})}}class Of{#bn=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#bn.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(e&&!this.#bn.has(e.loadedName)){if(Dp(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:i,style:r}=e,a=new FontFace(t,i,r);this.addNativeFontFace(a);try{await a.load(),this.#bn.add(t),n?.(e)}catch{e.baseFontName,this.removeNativeFontFace(a)}return}wp("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void(await this.loadSystemFont(e));if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw t.family,e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)})}}get isFontLoadingAPISupported(){return Ep(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){return Ep(this,"isSyncFontLoadingSupported",Bu||Mp.platform.isFirefox)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(Dp(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return Ep(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,i){return e.substring(0,t)+i+e.substring(t+n)}let r,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const s=o.getContext("2d");let c=0;const l=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=i(d,976,l.length,l);const h=1482184792;let u=n(d,16);for(r=0,a=l.length-3;r<a;r+=4)u=u-h+n(l,r)|0;var p;r<l.length&&(u=u-h+n(l+"XXX",r)|0),d=i(d,16,4,(p=u,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const f=`@font-face {font-family:"${l}";src:${`url(data:font/opentype;base64,${btoa(d)});`}}`;this.insertRule(f);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const m of[e.loadedName,l]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=m,g.append(e)}this._document.body.append(g),function e(t,n){if(++c>30)return void n();s.font="30px "+t,s.fillText(".",0,20),s.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(l,()=>{g.remove(),t.complete()})}}class Ff{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${Hp(this.data)});`;let t;if(this.cssFontInfo){let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${e}}`}else t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(a){}const r=new Path2D(i||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=r}}function Nf(e){if("string"!=typeof e)return null;if(e.endsWith("/"))return e;throw new Error(`Invalid factory url: "${e}" must include trailing slash.`)}const Pf=e=>"object"==typeof e&&Number.isInteger(e?.num)&&e.num>=0&&Number.isInteger(e?.gen)&&e.gen>=0,If=function(e,t,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,r,...a]=n;if(!e(i)&&!Number.isInteger(i))return!1;if(!t(r))return!1;const o=a.length;let s=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return 0===o;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(4!==o)return!1;s=!1;break;default:return!1}for(const c of a)if(!("number"==typeof c||s&&null===c))return!1;return!0}.bind(null,Pf,e=>"object"==typeof e&&"string"==typeof e?.name);class Mf{#yn=new Map;#vn=Promise.resolve();postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};this.#vn.then(()=>{for(const[e]of this.#yn)e.call(this,n)})}addEventListener(e,t,n=null){let i=null;if(n?.signal instanceof AbortSignal){const{signal:r}=n;if(r.aborted)return;const a=()=>this.removeEventListener(e,t);i=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}this.#yn.set(t,i)}removeEventListener(e,t){const n=this.#yn.get(t);n?.(),this.#yn.delete(t)}terminate(){for(const[,e]of this.#yn)e?.();this.#yn.clear()}}const Rf=1,Bf=2,Lf=1,jf=2,Wf=3,qf=4,zf=5,Hf=6,Vf=7,Gf=8;function $f(){}function Kf(e){if(e instanceof Np||e instanceof Up||e instanceof kp||e instanceof Op||e instanceof Sp)return e;switch(e instanceof Error||"object"==typeof e&&null!==e||wp('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new Np(e.message);case"InvalidPDFException":return new Up(e.message);case"PasswordException":return new kp(e.message,e.code);case"ResponseException":return new Op(e.message,e.status,e.missing);case"UnknownErrorException":return new Sp(e.message,e.details)}return new Sp(e.message,e.toString())}class Xf{#xn=new AbortController;constructor(e,t,n){this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#_n.bind(this),{signal:this.#xn.signal})}#_n({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream)return void this.#wn(e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error(`Cannot resolve callback ${t}`);if(delete this.callbackCapabilities[t],e.callback===Rf)n.resolve(e.data);else{if(e.callback!==Bf)throw new Error("Unexpected callback case");n.reject(Kf(e.reason))}return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,r=this.comObj;return void Promise.try(t,e.data).then(function(t){r.postMessage({sourceName:n,targetName:i,callback:Rf,callbackId:e.callbackId,data:t})},function(t){r.postMessage({sourceName:n,targetName:i,callback:Bf,callbackId:e.callbackId,reason:Kf(t)})})}e.streamId?this.#Dn(e):t(e.data)}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(a){r.reject(a)}return r.promise}sendWithStream(e,t,n,i){const r=this.streamId++,a=this.sourceName,o=this.targetName,s=this.comObj;return new ReadableStream({start:n=>{const c=Promise.withResolvers();return this.streamControllers[r]={controller:n,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},s.postMessage({sourceName:a,targetName:o,action:e,streamId:r,data:t,desiredSize:n.desiredSize},i),c.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[r].pullCall=t,s.postMessage({sourceName:a,targetName:o,stream:Hf,streamId:r,desiredSize:e.desiredSize}),t.promise},cancel:e=>{Dp(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[r].cancelCall=t,this.streamControllers[r].isClosed=!0,s.postMessage({sourceName:a,targetName:o,stream:Lf,streamId:r,reason:Kf(e)}),t.promise}},n)}#Dn(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,a=this,o=this.actionHandler[e.action],s={enqueue(e,a=1,o){if(this.isCancelled)return;const s=this.desiredSize;this.desiredSize-=a,s>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:qf,streamId:t,chunk:e},o)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:Wf,streamId:t}),delete a.streamSinks[t])},error(e){Dp(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:zf,streamId:t,reason:Kf(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};s.sinkCapability.resolve(),s.ready=s.sinkCapability.promise,this.streamSinks[t]=s,Promise.try(o,e.data,s).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Gf,streamId:t,success:!0})},function(e){r.postMessage({sourceName:n,targetName:i,stream:Gf,streamId:t,reason:Kf(e)})})}#wn(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case Gf:e.success?a.startCall.resolve():a.startCall.reject(Kf(e.reason));break;case Vf:e.success?a.pullCall.resolve():a.pullCall.reject(Kf(e.reason));break;case Hf:if(!o){r.postMessage({sourceName:n,targetName:i,stream:Vf,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||$f).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Vf,streamId:t,success:!0})},function(e){r.postMessage({sourceName:n,targetName:i,stream:Vf,streamId:t,reason:Kf(e)})});break;case qf:if(Dp(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Wf:if(Dp(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#Tn(a,t);break;case zf:Dp(a,"error should have stream controller"),a.controller.error(Kf(e.reason)),this.#Tn(a,t);break;case jf:e.success?a.cancelCall.resolve():a.cancelCall.reject(Kf(e.reason)),this.#Tn(a,t);break;case Lf:if(!o)break;const s=Kf(e.reason);Promise.try(o.onCancel||$f,s).then(function(){r.postMessage({sourceName:n,targetName:i,stream:jf,streamId:t,success:!0})},function(e){r.postMessage({sourceName:n,targetName:i,stream:jf,streamId:t,reason:Kf(e)})}),o.sinkCapability.reject(s),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#Tn(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#xn?.abort(),this.#xn=null}}class Yf{#An=!1;constructor({enableHWA:e=!1}){this.#An=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#An})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){wp("Abstract method `_createCanvas` called.")}}class Zf extends Yf{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class Qf{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(e=>({cMapData:e,isCompressed:this.isCompressed})).catch(e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){wp("Abstract method `_fetch` called.")}}class Jf extends Qf{async _fetch(e){const t=await $p(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Ip(t)}}class eg{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,r){return"none"}destroy(e=!1){}}class tg extends eg{#En;#Cn;#kn;#Sn;#Un;#On;#x=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#Sn=e,this.#Un=t}get#w(){return this.#Cn||=new Map}get#Fn(){return this.#On||=new Map}get#Nn(){if(!this.#kn){const e=this.#Un.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=this.#Un.createElementNS(Vp,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#kn=this.#Un.createElementNS(Vp,"defs"),e.append(n),n.append(this.#kn),this.#Un.body.append(e)}return this.#kn}#Pn(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const i=n.join(",");return[i,i,i]}const[t,n,i]=e,r=new Array(256),a=new Array(256),o=new Array(256);for(let s=0;s<256;s++)r[s]=t[s]/255,a[s]=n[s]/255,o[s]=i[s]/255;return[r.join(","),a.join(","),o.join(",")]}#In(e){if(void 0===this.#En){this.#En="";const e=this.#Un.URL;e!==this.#Un.baseURI&&(Yp(e)||(this.#En=Ap(e,"")))}return`url(${this.#En}#${e})`}addFilter(e){if(!e)return"none";let t=this.#w.get(e);if(t)return t;const[n,i,r]=this.#Pn(e),a=1===e.length?n:`${n}${i}${r}`;if(t=this.#w.get(a),t)return this.#w.set(e,t),t;const o=`g_${this.#Sn}_transfer_map_${this.#x++}`,s=this.#In(o);this.#w.set(e,s),this.#w.set(a,s);const c=this.#Mn(o);return this.#Rn(n,i,r,c),s}addHCMFilter(e,t){const n=`${e}-${t}`,i="base";let r=this.#Fn.get(i);if(r?.key===n)return r.url;if(r?(r.filter?.remove(),r.key=n,r.url="none",r.filter=null):(r={key:n,url:"none",filter:null},this.#Fn.set(i,r)),!e||!t)return r.url;const a=this.#Bn(e);e=Bp.makeHexColor(...a);const o=this.#Bn(t);if(t=Bp.makeHexColor(...o),this.#Nn.style.color="","#000000"===e&&"#ffffff"===t||e===t)return r.url;const s=new Array(256);for(let u=0;u<=255;u++){const e=u/255;s[u]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const c=s.join(","),l=`g_${this.#Sn}_hcm_filter`,d=r.filter=this.#Mn(l);this.#Rn(c,c,c,d),this.#Ln(d);const h=(e,t)=>{const n=a[e]/255,i=o[e]/255,r=new Array(t+1);for(let a=0;a<=t;a++)r[a]=n+a/t*(i-n);return r.join(",")};return this.#Rn(h(0,5),h(1,5),h(2,5),d),r.url=this.#In(l),r.url}addAlphaFilter(e){let t=this.#w.get(e);if(t)return t;const[n]=this.#Pn([e]),i=`alpha_${n}`;if(t=this.#w.get(i),t)return this.#w.set(e,t),t;const r=`g_${this.#Sn}_alpha_map_${this.#x++}`,a=this.#In(r);this.#w.set(e,a),this.#w.set(i,a);const o=this.#Mn(r);return this.#jn(n,o),a}addLuminosityFilter(e){let t,n,i=this.#w.get(e||"luminosity");if(i)return i;if(e?([t]=this.#Pn([e]),n=`luminosity_${t}`):n="luminosity",i=this.#w.get(n),i)return this.#w.set(e,i),i;const r=`g_${this.#Sn}_luminosity_map_${this.#x++}`,a=this.#In(r);this.#w.set(e,a),this.#w.set(n,a);const o=this.#Mn(r);return this.#Wn(o),e&&this.#jn(t,o),a}addHighlightHCMFilter(e,t,n,i,r){const a=`${t}-${n}-${i}-${r}`;let o=this.#Fn.get(e);if(o?.key===a)return o.url;if(o?(o.filter?.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},this.#Fn.set(e,o)),!t||!n)return o.url;const[s,c]=[t,n].map(this.#Bn.bind(this));let l=Math.round(.2126*s[0]+.7152*s[1]+.0722*s[2]),d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[h,u]=[i,r].map(this.#Bn.bind(this));d<l&&([l,d,h,u]=[d,l,u,h]),this.#Nn.style.color="";const p=(e,t,n)=>{const i=new Array(256),r=(d-l)/n,a=e/255,o=(t-e)/(255*n);let s=0;for(let c=0;c<=n;c++){const e=Math.round(l+c*r),t=a+c*o;for(let n=s;n<=e;n++)i[n]=t;s=e+1}for(let c=s;c<256;c++)i[c]=i[s-1];return i.join(",")},f=`g_${this.#Sn}_hcm_${e}_filter`,g=o.filter=this.#Mn(f);return this.#Ln(g),this.#Rn(p(h[0],u[0],5),p(h[1],u[1],5),p(h[2],u[2],5),g),o.url=this.#In(f),o.url}destroy(e=!1){e&&this.#On?.size||(this.#kn?.parentNode.parentNode.remove(),this.#kn=null,this.#Cn?.clear(),this.#Cn=null,this.#On?.clear(),this.#On=null,this.#x=0)}#Wn(e){const t=this.#Un.createElementNS(Vp,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#Ln(e){const t=this.#Un.createElementNS(Vp,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#Mn(e){const t=this.#Un.createElementNS(Vp,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#Nn.append(t),t}#qn(e,t,n){const i=this.#Un.createElementNS(Vp,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),e.append(i)}#Rn(e,t,n,i){const r=this.#Un.createElementNS(Vp,"feComponentTransfer");i.append(r),this.#qn(r,"feFuncR",e),this.#qn(r,"feFuncG",t),this.#qn(r,"feFuncB",n)}#jn(e,t){const n=this.#Un.createElementNS(Vp,"feComponentTransfer");t.append(n),this.#qn(n,"feFuncA",e)}#Bn(e){return this.#Nn.style.color=e,rf(getComputedStyle(this.#Nn).getPropertyValue("color"))}}class ng{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(e=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){wp("Abstract method `_fetch` called.")}}class ig extends ng{async _fetch(e){const t=await $p(e,"arraybuffer");return new Uint8Array(t)}}class rg{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(e=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){wp("Abstract method `_fetch` called.")}}class ag extends rg{async _fetch(e){const t=await $p(e,"arraybuffer");return new Uint8Array(t)}}async function og(e){const t=process.getBuiltinModule("fs"),n=await t.promises.readFile(e);return new Uint8Array(n)}class sg extends eg{}class cg extends Yf{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class lg extends Qf{async _fetch(e){return og(e)}}class dg extends ng{async _fetch(e){return og(e)}}class hg extends rg{async _fetch(e){return og(e)}}const ug="__forcedDependency";class pg{#zn={__proto__:null};#Hn={__proto__:null,transform:[],moveText:[],sameLineText:[],[ug]:[]};#Vn=new Map;#Gn=[];#$n=[];#Kn=[[1,0,0,1,0,0]];#Xn=[-1/0,-1/0,1/0,1/0];#Yn=new Float64Array([1/0,1/0,-1/0,-1/0]);#Zn=-1;#Qn=new Set;#Jn=new Map;#ei=new Map;#ti;#ni;constructor(e){this.#ti=e.width,this.#ni=e.height}save(e){return this.#zn={__proto__:this.#zn},this.#Hn={__proto__:this.#Hn,transform:{__proto__:this.#Hn.transform},moveText:{__proto__:this.#Hn.moveText},sameLineText:{__proto__:this.#Hn.sameLineText},[ug]:{__proto__:this.#Hn[ug]}},this.#Xn={__proto__:this.#Xn},this.#Gn.push([e,null]),this}restore(e){const t=Object.getPrototypeOf(this.#zn);if(null===t)return this;this.#zn=t,this.#Hn=Object.getPrototypeOf(this.#Hn),this.#Xn=Object.getPrototypeOf(this.#Xn);const n=this.#Gn.pop();return void 0!==n&&(n[1]=e),this}recordOpenMarker(e){return this.#Gn.push([e,null]),this}getOpenMarker(){return 0===this.#Gn.length?null:this.#Gn.at(-1)[0]}recordCloseMarker(e){const t=this.#Gn.pop();return void 0!==t&&(t[1]=e),this}beginMarkedContent(e){return this.#$n.push([e,null]),this}endMarkedContent(e){const t=this.#$n.pop();return void 0!==t&&(t[1]=e),this}pushBaseTransform(e){return this.#Kn.push(Bp.multiplyByDOMMatrix(this.#Kn.at(-1),e.getTransform())),this}popBaseTransform(){return this.#Kn.length>1&&this.#Kn.pop(),this}recordSimpleData(e,t){return this.#zn[e]=t,this}recordIncrementalData(e,t){return this.#Hn[e].push(t),this}resetIncrementalData(e,t){return this.#Hn[e].length=0,this}recordNamedData(e,t){return this.#Vn.set(e,t),this}recordFutureForcedDependency(e,t){return this.recordIncrementalData(ug,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#zn&&this.recordFutureForcedDependency(t,this.#zn[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#Qn)this.recordFutureForcedDependency(ug,e);return this}resetBBox(e){return this.#Zn=e,this.#Yn[0]=1/0,this.#Yn[1]=1/0,this.#Yn[2]=-1/0,this.#Yn[3]=-1/0,this}get hasPendingBBox(){return-1!==this.#Zn}recordClipBox(e,t,n,i,r,a){const o=Bp.multiplyByDOMMatrix(this.#Kn.at(-1),t.getTransform()),s=[1/0,1/0,-1/0,-1/0];Bp.axialAlignedBoundingBox([n,r,i,a],o,s);const c=Bp.intersect(this.#Xn,s);return c?(this.#Xn[0]=c[0],this.#Xn[1]=c[1],this.#Xn[2]=c[2],this.#Xn[3]=c[3]):(this.#Xn[0]=this.#Xn[1]=1/0,this.#Xn[2]=this.#Xn[3]=-1/0),this}recordBBox(e,t,n,i,r,a){const o=this.#Xn;if(o[0]===1/0)return this;const s=Bp.multiplyByDOMMatrix(this.#Kn.at(-1),t.getTransform());if(o[0]===-1/0)return Bp.axialAlignedBoundingBox([n,r,i,a],s,this.#Yn),this;const c=[1/0,1/0,-1/0,-1/0];return Bp.axialAlignedBoundingBox([n,r,i,a],s,c),this.#Yn[0]=Math.min(this.#Yn[0],Math.max(c[0],o[0])),this.#Yn[1]=Math.min(this.#Yn[1],Math.max(c[1],o[1])),this.#Yn[2]=Math.max(this.#Yn[2],Math.min(c[2],o[2])),this.#Yn[3]=Math.max(this.#Yn[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,t,n,i=1,r=0,a=0,o){const s=n.bbox;let c,l;if(s&&(c=s[2]!==s[0]&&s[3]!==s[1]&&this.#ei.get(n),!1!==c&&(l=[0,0,0,0],Bp.axialAlignedBoundingBox(s,n.fontMatrix,l),1===i&&0===r&&0===a||Bp.scaleMinMax([i,0,0,-i,r,a],l),c)))return this.recordBBox(e,t,l[0],l[2],l[1],l[3]);if(!o)return this.recordFullPageBBox(e);const d=o();return s&&l&&void 0===c&&(c=l[0]<=r-d.actualBoundingBoxLeft&&l[2]>=r+d.actualBoundingBoxRight&&l[1]<=a-d.actualBoundingBoxAscent&&l[3]>=a+d.actualBoundingBoxDescent,this.#ei.set(n,c),c)?this.recordBBox(e,t,l[0],l[2],l[1],l[3]):this.recordBBox(e,t,r-d.actualBoundingBoxLeft,r+d.actualBoundingBoxRight,a-d.actualBoundingBoxAscent,a+d.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#Yn[0]=Math.max(0,this.#Xn[0]),this.#Yn[1]=Math.max(0,this.#Xn[1]),this.#Yn[2]=Math.min(this.#ti,this.#Xn[2]),this.#Yn[3]=Math.min(this.#ni,this.#Xn[3]),this}getSimpleIndex(e){return this.#zn[e]}recordDependencies(e,t){const n=this.#Qn,i=this.#zn,r=this.#Hn;for(const a of t)a in this.#zn?n.add(i[a]):a in r&&r[a].forEach(n.add,n);return this}copyDependenciesFromIncrementalOperation(e,t){const n=this.#Jn,i=this.#Qn;for(const r of this.#Hn[t])n.get(r).dependencies.forEach(i.add,i.add(r));return this}recordNamedDependency(e,t){return this.#Vn.has(t)&&this.#Qn.add(this.#Vn.get(t)),this}recordOperation(e,t=!1){this.recordDependencies(e,[ug]);const n=new Set(this.#Qn),i=this.#Gn.concat(this.#$n),r=this.#Zn===e?{minX:this.#Yn[0],minY:this.#Yn[1],maxX:this.#Yn[2],maxY:this.#Yn[3]}:null;return this.#Jn.set(e,{bbox:r,pairs:i,dependencies:n}),t||(this.#Zn=-1),this.#Qn.clear(),this}bboxToClipBoxDropOperation(e){return-1!==this.#Zn&&(this.#Zn=-1,this.#Xn[0]=Math.max(this.#Xn[0],this.#Yn[0]),this.#Xn[1]=Math.max(this.#Xn[1],this.#Yn[1]),this.#Xn[2]=Math.min(this.#Xn[2],this.#Yn[2]),this.#Xn[3]=Math.min(this.#Xn[3],this.#Yn[3])),this.#Qn.clear(),this}_takePendingDependencies(){const e=this.#Qn;return this.#Qn=new Set,e}_extractOperation(e){const t=this.#Jn.get(e);return this.#Jn.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#Qn.add(t)}take(){return this.#ei.clear(),Array.from(this.#Jn,([e,{bbox:t,pairs:n,dependencies:i}])=>(n.forEach(e=>e.forEach(i.add,i)),i.delete(e),{minX:(t?.minX??0)/this.#ti,maxX:(t?.maxX??this.#ti)/this.#ti,minY:(t?.minY??0)/this.#ni,maxY:(t?.maxY??this.#ni)/this.#ni,dependencies:Array.from(i).sort((e,t)=>e-t),idx:e}))}}class fg{#ii;#ri;#ai=0;#oi;#si=0;constructor(e,t){if(e instanceof fg)return e;this.#ii=e,this.#oi=e._takePendingDependencies(),this.#ri=t}save(e){return this.#si++,this.#ii.save(this.#ri),this}restore(e){return this.#si>0&&(this.#ii.restore(this.#ri),this.#si--),this}recordOpenMarker(e){return this.#ai++,this}getOpenMarker(){return this.#ai>0?this.#ri:this.#ii.getOpenMarker()}recordCloseMarker(e){return this.#ai--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#ii.pushBaseTransform(e),this}popBaseTransform(){return this.#ii.popBaseTransform(),this}recordSimpleData(e,t){return this.#ii.recordSimpleData(e,this.#ri),this}recordIncrementalData(e,t){return this.#ii.recordIncrementalData(e,this.#ri),this}resetIncrementalData(e,t){return this.#ii.resetIncrementalData(e,this.#ri),this}recordNamedData(e,t){return this}recordFutureForcedDependency(e,t){return this.#ii.recordFutureForcedDependency(e,this.#ri),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#ii.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#ii.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#ii.hasPendingBBox||this.#ii.resetBBox(this.#ri),this}get hasPendingBBox(){return this.#ii.hasPendingBBox}recordClipBox(e,t,n,i,r,a){return this.#ii.recordClipBox(this.#ri,t,n,i,r,a),this}recordBBox(e,t,n,i,r,a){return this.#ii.recordBBox(this.#ri,t,n,i,r,a),this}recordCharacterBBox(e,t,n,i,r,a,o){return this.#ii.recordCharacterBBox(this.#ri,t,n,i,r,a,o),this}recordFullPageBBox(e){return this.#ii.recordFullPageBBox(this.#ri),this}getSimpleIndex(e){return this.#ii.getSimpleIndex(e)}recordDependencies(e,t){return this.#ii.recordDependencies(this.#ri,t),this}copyDependenciesFromIncrementalOperation(e,t){return this.#ii.copyDependenciesFromIncrementalOperation(this.#ri,t),this}recordNamedDependency(e,t){return this.#ii.recordNamedDependency(this.#ri,t),this}recordOperation(e){this.#ii.recordOperation(this.#ri,!0);const t=this.#ii._extractOperation(this.#ri);for(const n of t.dependencies)this.#oi.add(n);return this.#oi.delete(this.#ri),this.#oi.delete(null),this}bboxToClipBoxDropOperation(e){return this.#ii.bboxToClipBoxDropOperation(this.#ri),this}recordNestedDependencies(){this.#ii._pushPendingDependencies(this.#oi)}take(){throw new Error("Unreachable")}}const gg=["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],mg=["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],bg=["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],yg=["filter","fillColor","fillAlpha"],vg=["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation"],xg=["transform"],_g=["transform","fillColor"],wg="Fill",Dg="Stroke",Tg="Shading";function Ag(e,t){if(!t)return;const n=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],n,i),e.clip(r)}class Eg{isModifyingCurrentTransform(){return!1}getPattern(){wp("Abstract method `getPattern` called.")}}class Cg extends Eg{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let r;if(i===Dg||i===wg){const a=t.current.getClippedPathBoundingBox(i,af(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,s=Math.ceil(a[3]-a[1])||1,c=t.cachedCanvases.getCanvas("pattern",o,s),l=c.context;l.clearRect(0,0,l.canvas.width,l.canvas.height),l.beginPath(),l.rect(0,0,l.canvas.width,l.canvas.height),l.translate(-a[0],-a[1]),n=Bp.transform(n,[1,0,0,1,a[0],a[1]]),l.transform(...t.baseTransform),this.matrix&&l.transform(...this.matrix),Ag(l,this._bbox),l.fillStyle=this._createGradient(l),l.fill(),r=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(n);r.setTransform(d)}else Ag(e,this._bbox),r=this._createGradient(e);return r}}function kg(e,t,n,i,r,a,o,s){const c=t.coords,l=t.colors,d=e.data,h=4*e.width;let u;c[n+1]>c[i+1]&&(u=n,n=i,i=u,u=a,a=o,o=u),c[i+1]>c[r+1]&&(u=i,i=r,r=u,u=o,o=s,s=u),c[n+1]>c[i+1]&&(u=n,n=i,i=u,u=a,a=o,o=u);const p=(c[n]+t.offsetX)*t.scaleX,f=(c[n+1]+t.offsetY)*t.scaleY,g=(c[i]+t.offsetX)*t.scaleX,m=(c[i+1]+t.offsetY)*t.scaleY,b=(c[r]+t.offsetX)*t.scaleX,y=(c[r+1]+t.offsetY)*t.scaleY;if(f>=y)return;const v=l[a],x=l[a+1],_=l[a+2],w=l[o],D=l[o+1],T=l[o+2],A=l[s],E=l[s+1],C=l[s+2],k=Math.round(f),S=Math.round(y);let U,O,F,N,P,I,M,R;for(let B=k;B<=S;B++){if(B<m){const e=B<f?0:(f-B)/(f-m);U=p-(p-g)*e,O=v-(v-w)*e,F=x-(x-D)*e,N=_-(_-T)*e}else{let e;e=B>y?1:m===y?0:(m-B)/(m-y),U=g-(g-b)*e,O=w-(w-A)*e,F=D-(D-E)*e,N=T-(T-C)*e}let e;e=B<f?0:B>y?1:(f-B)/(f-y),P=p-(p-b)*e,I=v-(v-A)*e,M=x-(x-E)*e,R=_-(_-C)*e;const t=Math.round(Math.min(U,P)),n=Math.round(Math.max(U,P));let i=h*B+4*t;for(let r=t;r<=n;r++)e=(U-r)/(U-P),e<0?e=0:e>1&&(e=1),d[i++]=O-(O-I)*e|0,d[i++]=F-(F-M)*e|0,d[i++]=N-(N-R)*e|0,d[i++]=255}}function Sg(e,t,n){const i=t.coords,r=t.colors;let a,o;switch(t.type){case"lattice":const s=t.verticesPerRow,c=Math.floor(i.length/s)-1,l=s-1;for(a=0;a<c;a++){let t=a*s;for(let a=0;a<l;a++,t++)kg(e,n,i[t],i[t+1],i[t+s],r[t],r[t+1],r[t+s]),kg(e,n,i[t+s+1],i[t+1],i[t+s],r[t+s+1],r[t+1],r[t+s])}break;case"triangles":for(a=0,o=i.length;a<o;a+=3)kg(e,n,i[a],i[a+1],i[a+2],r[a],r[a+1],r[a+2]);break;default:throw new Error("illegal figure")}}class Ug extends Eg{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const i=Math.floor(this._bounds[0]),r=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-i,o=Math.ceil(this._bounds[3])-r,s=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),c=Math.min(Math.ceil(Math.abs(o*e[1]*1.1)),3e3),l=a/s,d=o/c,h={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-r,scaleX:1/l,scaleY:1/d},u=s+4,p=c+4,f=n.getCanvas("mesh",u,p),g=f.context,m=g.createImageData(s,c);if(t){const e=m.data;for(let n=0,i=e.length;n<i;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const b of this._figures)Sg(m,b,h);g.putImageData(m,2,2);return{canvas:f.canvas,offsetX:i-2*l,offsetY:r-2*d,scaleX:l,scaleY:d}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){Ag(e,this._bbox);const r=new Float32Array(2);if(i===Tg)Bp.singularValueDecompose2dScale(af(e),r);else if(this.matrix){Bp.singularValueDecompose2dScale(this.matrix,r);const[e,n]=r;Bp.singularValueDecompose2dScale(t.baseTransform,r),r[0]*=e,r[1]*=n}else Bp.singularValueDecompose2dScale(t.baseTransform,r);const a=this._createMeshCanvas(r,i===Tg?null:this._background,t.cachedCanvases);return i!==Tg&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class Og extends Eg{getPattern(){return"hotpink"}}const Fg=1,Ng=2;class Pg{static MAX_PATTERN_SIZE=3e3;constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:i,tilingType:r,color:a,canvasGraphicsFactory:o}=this;let{xstep:s,ystep:c}=this;s=Math.abs(s),c=Math.abs(c);const l=t[0],d=t[1],h=t[2],u=t[3],p=h-l,f=u-d,g=new Float32Array(2);Bp.singularValueDecompose2dScale(this.matrix,g);const[m,b]=g;Bp.singularValueDecompose2dScale(this.baseTransform,g);const y=m*g[0],v=b*g[1];let x=p,_=f,w=!1,D=!1;const T=Math.ceil(s*y),A=Math.ceil(c*v);T>=Math.ceil(p*y)?x=s:w=!0,A>=Math.ceil(f*v)?_=c:D=!0;const E=this.getSizeAndScale(x,this.ctx.canvas.width,y),C=this.getSizeAndScale(_,this.ctx.canvas.height,v),k=e.cachedCanvases.getCanvas("pattern",E.size,C.size),S=k.context,U=o.createCanvasGraphics(S);if(U.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(U,i,a),S.translate(-E.scale*l,-C.scale*d),U.transform(0,E.scale,0,0,C.scale,0,0),S.save(),U.dependencyTracker?.save(),this.clipBbox(U,l,d,h,u),U.baseTransform=af(U.ctx),U.executeOperatorList(n),U.endDrawing(),U.dependencyTracker?.restore().recordNestedDependencies?.(),S.restore(),w||D){const t=k.canvas;w&&(x=s),D&&(_=c);const n=this.getSizeAndScale(x,this.ctx.canvas.width,y),i=this.getSizeAndScale(_,this.ctx.canvas.height,v),r=n.size,a=i.size,o=e.cachedCanvases.getCanvas("pattern-workaround",r,a),h=o.context,u=w?Math.floor(p/s):0,g=D?Math.floor(f/c):0;for(let e=0;e<=u;e++)for(let n=0;n<=g;n++)h.drawImage(t,r*e,a*n,r,a,0,0,r,a);return{canvas:o.canvas,scaleX:n.scale,scaleY:i.scale,offsetX:l,offsetY:d}}return{canvas:k.canvas,scaleX:E.scale,scaleY:C.scale,offsetX:l,offsetY:d}}getSizeAndScale(e,t,n){const i=Math.max(Pg.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*n);return r>=i?r=i:n=r/e,{scale:n,size:r}}clipBbox(e,t,n,i,r){const a=i-t,o=r-n;e.ctx.rect(t,n,a,o),Bp.axialAlignedBoundingBox([t,n,i,r],af(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,r=e.current;switch(t){case Fg:const{fillStyle:e,strokeStyle:a}=this.ctx;i.fillStyle=r.fillColor=e,i.strokeStyle=r.strokeColor=a;break;case Ng:i.fillStyle=i.strokeStyle=n,r.fillColor=r.strokeColor=n;break;default:throw new Fp(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i){let r=n;i!==Tg&&(r=Bp.transform(r,t.baseTransform),this.matrix&&(r=Bp.transform(r,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const s=e.createPattern(a.canvas,"repeat");return s.setTransform(o),s}}function Ig({src:e,srcPos:t=0,dest:n,width:i,height:r,nonBlackColor:a=4294967295,inverseDecode:o=!1}){const s=Mp.isLittleEndian?4278190080:255,[c,l]=o?[a,s]:[s,a],d=i>>3,h=7&i,u=e.length;n=new Uint32Array(n.buffer);let p=0;for(let f=0;f<r;f++){for(const r=t+d;t<r;t++){const i=t<u?e[t]:255;n[p++]=128&i?l:c,n[p++]=64&i?l:c,n[p++]=32&i?l:c,n[p++]=16&i?l:c,n[p++]=8&i?l:c,n[p++]=4&i?l:c,n[p++]=2&i?l:c,n[p++]=1&i?l:c}if(0===h)continue;const i=t<u?e[t++]:255;for(let e=0;e<h;e++)n[p++]=i&1<<7-e?l:c}return{srcPos:t,destPos:p}}const Mg=16,Rg=new DOMMatrix,Bg=new Float32Array(2),Lg=new Float32Array([1/0,1/0,-1/0,-1/0]);class jg{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return void 0!==this.cache[e]?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Wg(e,t,n,i,r,a,o,s,c,l){const[d,h,u,p,f,g]=af(e);if(0===h&&0===u){const m=o*d+f,b=Math.round(m),y=s*p+g,v=Math.round(y),x=(o+c)*d+f,_=Math.abs(Math.round(x)-b)||1,w=(s+l)*p+g,D=Math.abs(Math.round(w)-v)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(p),b,v),e.drawImage(t,n,i,r,a,0,0,_,D),e.setTransform(d,h,u,p,f,g),[_,D]}if(0===d&&0===p){const m=s*u+f,b=Math.round(m),y=o*h+g,v=Math.round(y),x=(s+l)*u+f,_=Math.abs(Math.round(x)-b)||1,w=(o+c)*h+g,D=Math.abs(Math.round(w)-v)||1;return e.setTransform(0,Math.sign(h),Math.sign(u),0,b,v),e.drawImage(t,n,i,r,a,0,0,D,_),e.setTransform(d,h,u,p,f,g),[D,_]}e.drawImage(t,n,i,r,a,o,s,c,l);return[Math.hypot(d,h)*c,Math.hypot(u,p)*l]}class qg{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Lu;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Ju;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,n){n?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Lg.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=wg,t=null){const n=this.minMax.slice();if(e===Dg){t||wp("Stroke bounding box must include transform."),Bp.singularValueDecompose2dScale(t,Bg);const e=Bg[0]*this.lineWidth/2,i=Bg[1]*this.lineWidth/2;n[0]-=e,n[1]-=i,n[2]+=e,n[3]+=i}return n}updateClipFromPath(){const e=Bp.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Lg,0)}getClippedPathBoundingBox(e=wg,t=null){return Bp.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function zg(e,t){if(t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,i=t.width,r=n%Mg,a=(n-r)/Mg,o=0===r?a:a+1,s=e.createImageData(i,Mg);let c,l=0;const d=t.data,h=s.data;let u,p,f,g;if(t.kind===ap.GRAYSCALE_1BPP){const t=d.byteLength,n=new Uint32Array(h.buffer,0,h.byteLength>>2),g=n.length,m=i+7>>3,b=4294967295,y=Mp.isLittleEndian?4278190080:255;for(u=0;u<o;u++){for(f=u<a?Mg:r,c=0,p=0;p<f;p++){const e=t-l;let r=0;const a=e>m?i:8*e-7,o=-8&a;let s=0,h=0;for(;r<o;r+=8)h=d[l++],n[c++]=128&h?b:y,n[c++]=64&h?b:y,n[c++]=32&h?b:y,n[c++]=16&h?b:y,n[c++]=8&h?b:y,n[c++]=4&h?b:y,n[c++]=2&h?b:y,n[c++]=1&h?b:y;for(;r<a;r++)0===s&&(h=d[l++],s=128),n[c++]=h&s?b:y,s>>=1}for(;c<g;)n[c++]=0;e.putImageData(s,0,u*Mg)}}else if(t.kind===ap.RGBA_32BPP){for(p=0,g=i*Mg*4,u=0;u<a;u++)h.set(d.subarray(l,l+g)),l+=g,e.putImageData(s,0,p),p+=Mg;u<o&&(g=i*r*4,h.set(d.subarray(l,l+g)),e.putImageData(s,0,p))}else{if(t.kind!==ap.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);for(f=Mg,g=i*f,u=0;u<o;u++){for(u>=a&&(f=r,g=i*f),c=0,p=g;p--;)h[c++]=d[l++],h[c++]=d[l++],h[c++]=d[l++],h[c++]=255;e.putImageData(s,0,u*Mg)}}}function Hg(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,i=t.width,r=n%Mg,a=(n-r)/Mg,o=0===r?a:a+1,s=e.createImageData(i,Mg);let c=0;const l=t.data,d=s.data;for(let h=0;h<o;h++){const t=h<a?Mg:r;({srcPos:c}=Ig({src:l,srcPos:c,dest:d,width:i,height:t,nonBlackColor:0})),e.putImageData(s,0,h*Mg)}}function Vg(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==e[i]&&(t[i]=e[i]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function Gg(e){e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0);const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}function $g(e,t){if(t)return!0;Bp.singularValueDecompose2dScale(e,Bg);const n=Math.fround(cf.pixelRatio*Gp.PDF_TO_CSS_UNITS);return Bg[0]<=n&&Bg[1]<=n}const Kg=["butt","round","square"],Xg=["miter","round","bevel"],Yg={},Zg={};class Qg{constructor(e,t,n,i,r,{optionalContentConfig:a,markedContentStack:o=null},s,c,l){this.ctx=e,this.current=new qg(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new jg(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=s,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=l??null}getObject(e,t,n=null){return"string"==typeof t?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,n){const e=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...af(this.compositeCtx))}this.ctx.save(),Gg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=af(this.ctx)}executeOperatorList(e,t,n,i,r){const a=e.argsArray,o=e.fnArray;let s=t||0;const c=a.length;if(c===s)return s;const l=c-s>10&&"function"==typeof n,d=l?Date.now()+15:0;let h=0;const u=this.commonObjs,p=this.objs;let f,g;for(;;){if(void 0!==i&&s===i.nextBreakPoint)return i.breakIt(s,n),s;if(!r||r.has(s))if(f=o[s],g=a[s]??null,f!==pp.dependency)null===g?this[f](s):this[f](s,...g);else for(const e of g){this.dependencyTracker?.recordNamedData(e,s);const t=e.startsWith("g_")?u:p;if(!t.has(e))return t.get(e,n),s}if(s++,s===c)return s;if(l&&++h>10){if(Date.now()>d)return n(),s;h=0}}}#ci(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#ci(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#li()}#li(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let r,a,o=Math.max(Math.hypot(t[0],t[1]),1),s=Math.max(Math.hypot(t[2],t[3]),1),c=n,l=i,d="prescale1";for(;o>2&&c>1||s>2&&l>1;){let t=c,n=l;o>2&&c>1&&(t=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),o/=c/t),s>2&&l>1&&(n=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,s/=l/n),r=this.cachedCanvases.getCanvas(d,t,n),a=r.context,a.clearRect(0,0,t,n),a.drawImage(e,0,0,c,l,0,0,t,n),e=r.canvas,c=t,l=n,d="prescale1"===d?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:l}}_createMaskCanvas(e,t){const n=this.ctx,{width:i,height:r}=t,a=this.current.fillColor,o=this.current.patternFill,s=af(n);let c,l,d,h;if((t.bitmap||t.data)&&t.count>1){const n=t.bitmap||t.data.buffer;l=JSON.stringify(o?s:[s.slice(0,4),a]),c=this._cachedBitmapsMap.get(n),c||(c=new Map,this._cachedBitmapsMap.set(n,c));const i=c.get(l);if(i&&!o){const t=Math.round(Math.min(s[0],s[2])+s[4]),n=Math.round(Math.min(s[1],s[3])+s[5]);return this.dependencyTracker?.recordDependencies(e,_g),{canvas:i,offsetX:t,offsetY:n}}d=i}d||(h=this.cachedCanvases.getCanvas("maskCanvas",i,r),Hg(h.context,t));let u=Bp.transform(s,[1/i,0,0,-1/r,0,0]);u=Bp.transform(u,[1,0,0,1,0,-r]);const p=Lg.slice();Bp.axialAlignedBoundingBox([0,0,i,r],u,p);const[f,g,m,b]=p,y=Math.round(m-f)||1,v=Math.round(b-g)||1,x=this.cachedCanvases.getCanvas("fillCanvas",y,v),_=x.context,w=f,D=g;_.translate(-w,-D),_.transform(...u),d||(d=this._scaleImage(h.canvas,of(_)),d=d.img,c&&o&&c.set(l,d)),_.imageSmoothingEnabled=$g(af(_),t.interpolate),Wg(_,d,0,0,d.width,d.height,0,0,i,r),_.globalCompositeOperation="source-in";const T=Bp.transform(of(_),[1,0,0,1,-w,-D]);return _.fillStyle=o?a.getPattern(n,this,T,wg):a,_.fillRect(0,0,i,r),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(l,x.canvas)),this.dependencyTracker?.recordDependencies(e,_g),{canvas:x.canvas,offsetX:Math.round(w),offsetY:Math.round(D)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=Kg[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Xg[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){this.dependencyTracker?.recordSimpleData("dash",e);const i=this.ctx;void 0!==i.setLineDash&&(i.setLineDash(t),i.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[n,i]of t)switch(n){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,n);this.suspendedCtx=this.ctx;const a=this.ctx=r.context;a.setTransform(this.suspendedCtx.getTransform()),Vg(this.suspendedCtx,a),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,i,r,a,o){t.transform(e,n,i,r,a,o),this.__originalTransform(e,n,i,r,a,o)},e.setTransform=function(e,n,i,r,a,o){t.setTransform(e,n,i,r,a,o),this.__originalSetTransform(e,n,i,r,a,o)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,i,r,a,o){t.bezierCurveTo(e,n,i,r,a,o),this.__originalBezierCurveTo(e,n,i,r,a,o)},e.rect=function(e,n,i,r){t.rect(e,n,i,r),this.__originalRect(e,n,i,r)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Vg(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const r=i[0],a=i[1],o=i[2]-r,s=i[3]-a;0!==o&&0!==s&&(this.genericComposeSMask(t.context,n,o,s,t.subtype,t.backdrop,t.transferMap,r,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,r,a,o,s,c,l,d){let h=e.canvas,u=s-l,p=c-d;if(a)if(u<0||p<0||u+n>h.width||p+i>h.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,i),t=e.context;t.drawImage(h,-u,-p),t.globalCompositeOperation="destination-atop",t.fillStyle=a,t.fillRect(0,0,n,i),t.globalCompositeOperation="source-over",h=e.canvas,u=p=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const t=new Path2D;t.rect(u,p,n,i),e.clip(t),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(u,p,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===r&&o?t.filter=this.filterFactory.addAlphaFilter(o):"Luminosity"===r&&(t.filter=this.filterFactory.addLuminosityFilter(o));const f=new Path2D;f.rect(s,c,n,i),t.clip(f),t.globalCompositeOperation="destination-in",t.drawImage(h,u,p,n,i,s,c,n,i),t.restore()}save(e){this.inSMaskMode&&Vg(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){this.dependencyTracker?.restore(e),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Vg(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(e,t,n,i,r,a,o){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,n,i,r,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,i){let[r]=n;if(!i)return r||=n[0]=new Path2D,void this[t](e,r);if(null!==this.dependencyTracker){const n=t===pp.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-n,i[2]+n,i[1]-n,i[3]+n).recordDependencies(e,["transform"])}if(!(r instanceof Path2D)){const e=n[0]=new Path2D;for(let t=0,n=r.length;t<n;)switch(r[t++]){case fp:e.moveTo(r[t++],r[t++]);break;case gp:e.lineTo(r[t++],r[t++]);break;case mp:e.bezierCurveTo(r[t++],r[t++],r[t++],r[t++],r[t++],r[t++]);break;case bp:e.closePath();break;default:_p(r[t-1])}r=e}Bp.axialAlignedBoundingBox(i,af(this.ctx),this.current.minMax),this[t](e,r),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){const i=this.ctx,r=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof r&&r?.getPattern){const e=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=r.getPattern(i,this,of(i),Dg),e){const n=new Path2D;n.addPath(t,i.getTransform().invertSelf().multiplySelf(e)),t=n}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,gg),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Dg,af(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){const i=this.ctx,r=this.current.fillColor;let a=!1;if(this.current.patternFill){const n=r.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=r.getPattern(i,this,of(i),wg),n){const e=new Path2D;e.addPath(t,i.getTransform().invertSelf().multiplySelf(n)),t=e}a=!0}const o=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==o&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),this.dependencyTracker?.recordDependencies(e,mg),a&&(i.restore(),this.dependencyTracker?.restore(e)),n&&this.consumePath(e,t,o)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,yg).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=Yg}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=Zg}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:n}=this;void 0!==t&&n.recordFutureForcedDependency("textClip",n.getOpenMarker()).recordFutureForcedDependency("textClip",e),n.recordCloseMarker(e)}if(void 0!==t){const e=new Path2D,i=n.getTransform().invertSelf();for(const{transform:n,x:r,y:a,fontSize:o,path:s}of t)s&&e.addPath(s,new DOMMatrix(n).preMultiplySelf(i).translate(r,a).scale(o,-o));n.clip(e)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){this.dependencyTracker?.recordSimpleData("font",e).recordNamedDependency(e,t);const i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=i.fontMatrix||Lu,0===r.fontMatrix[0]||r.fontMatrix[3],n<0?(n=-n,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=n,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=i.systemFontInfo?.css||`"${a}", ${i.fallbackName}`;let s="normal";i.black?s="900":i.bold&&(s="bold");const c=i.italic?"italic":"normal";let l=n;n<16?l=16:n>100&&(l=100),this.current.fontSizeScale=n/l,this.ctx.font=`${c} ${s} ${l}px ${o}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){this.dependencyTracker?.recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#di(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i}paintChar(e,t,n,i,r,a){const o=this.ctx,s=this.current,c=s.font,l=s.textRenderingMode,d=s.fontSize/s.fontSizeScale,h=l&ip,u=!!(l&rp),p=s.patternFill&&!c.missingFile,f=s.patternStroke&&!c.missingFile;let g;if((c.disableFontFace||u||p||f)&&!c.missingFile&&(g=c.getPathGenerator(this.commonObjs,t)),g&&(c.disableFontFace||p||f)){let t;if(o.save(),o.translate(n,i),o.scale(d,-d),this.dependencyTracker?.recordCharacterBBox(e,o,c),h===Ju||h===tp)if(r){t=o.getTransform(),o.setTransform(...r);const e=this.#di(g,t,r);o.fill(e)}else o.fill(g);if(h===ep||h===tp)if(a){t||=o.getTransform(),o.setTransform(...a);const{a:e,b:n,c:i,d:r}=t,s=Bp.inverseTransform(a),c=Bp.transform([e,n,i,r,0,0],s);Bp.singularValueDecompose2dScale(c,Bg),o.lineWidth*=Math.max(Bg[0],Bg[1])/d,o.stroke(this.#di(g,t,a))}else o.lineWidth/=d,o.stroke(g);o.restore()}else h!==Ju&&h!==tp||(o.fillText(t,n,i),this.dependencyTracker?.recordCharacterBBox(e,o,c,d,n,i,()=>o.measureText(t))),h!==ep&&h!==tp||(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,o,c,d,n,i,()=>o.measureText(t)).recordDependencies(e,gg),o.strokeText(t,n,i));if(u){(this.pendingTextPaths||=[]).push({transform:af(o),x:n,y:i,fontSize:d,path:g}),this.dependencyTracker?.recordCharacterBBox(e,o,c,d,n,i)}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return Ep(this,"isFontSubpixelAAEnabled",n)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,vg).copyDependenciesFromIncrementalOperation(e,"sameLineText").resetBBox(e),this.current.textRenderingMode&rp&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;if(i.isType3Font)return this.showType3Text(e,t),void this.dependencyTracker?.recordOperation(e).recordIncrementalData("sameLineText",e);const r=n.fontSize;if(0===r)return void this.dependencyTracker?.recordOperation(e);const a=this.ctx,o=n.fontSizeScale,s=n.charSpacing,c=n.wordSpacing,l=n.fontDirection,d=n.textHScale*l,h=t.length,u=i.vertical,p=u?1:-1,f=i.defaultVMetrics,g=r*n.fontMatrix[0],m=n.textRenderingMode===Ju&&!i.disableFontFace&&!n.patternFill;let b,y;if(a.save(),n.textMatrix&&a.transform(...n.textMatrix),a.translate(n.x,n.y+n.textRise),l>0?a.scale(d,-1):a.scale(d,1),n.patternFill){a.save();const e=n.fillColor.getPattern(a,this,of(a),wg);b=af(a),a.restore(),a.fillStyle=e}if(n.patternStroke){a.save();const e=n.strokeColor.getPattern(a,this,of(a),Dg);y=af(a),a.restore(),a.strokeStyle=e}let v=n.lineWidth;const x=n.textMatrixScale;if(0===x||0===v){const e=n.textRenderingMode&ip;e!==ep&&e!==tp||(v=this.getSinglePixelWidth())}else v/=x;if(1!==o&&(a.scale(o,o),v/=o),a.lineWidth=v,i.isInvalidPDFjsFont){const i=[];let r=0;for(const e of t)i.push(e.unicode),r+=e.width;const o=i.join("");if(a.fillText(o,0,0),null!==this.dependencyTracker){const t=a.measureText(o);this.dependencyTracker.recordBBox(e,this.ctx,-t.actualBoundingBoxLeft,t.actualBoundingBoxRight,-t.actualBoundingBoxAscent,t.actualBoundingBoxDescent).recordOperation(e).recordIncrementalData("sameLineText",e)}return n.x+=r*g*d,a.restore(),void this.compose()}let _,w=0;for(_=0;_<h;++_){const n=t[_];if("number"==typeof n){w+=p*n*r/1e3;continue}let d=!1;const h=(n.isSpace?c:0)+s,v=n.fontChar,x=n.accent;let D,T,A,E=n.width;if(u){const e=n.vmetric||f,t=-(n.vmetric?e[1]:.5*E)*g,i=e[2]*g;E=e?-e[0]:E,D=t/o,T=(w+i)/o}else D=w/o,T=0;if(i.remeasure&&E>0){A=a.measureText(v);const e=1e3*A.width/r*o;if(E<e&&this.isFontSubpixelAAEnabled){const t=E/e;d=!0,a.save(),a.scale(t,1),D/=t}else E!==e&&(D+=(E-e)/2e3*r/o)}if(this.contentVisible&&(n.isInFont||i.missingFile))if(m&&!x)a.fillText(v,D,T),this.dependencyTracker?.recordCharacterBBox(e,a,A?{bbox:null}:i,r/o,D,T,()=>A??a.measureText(v));else if(this.paintChar(e,v,D,T,b,y),x){const t=D+r*x.offset.x/o,n=T-r*x.offset.y/o;this.paintChar(e,x.fontChar,t,n,b,y)}w+=u?E*g-h*l:E*g+h*l,d&&a.restore()}u?n.y-=w:n.x+=w*d,a.restore(),this.compose(),this.dependencyTracker?.recordOperation(e).recordIncrementalData("sameLineText",e)}showType3Text(e,t){const n=this.ctx,i=this.current,r=i.font,a=i.fontSize,o=i.fontDirection,s=r.vertical?1:-1,c=i.charSpacing,l=i.wordSpacing,d=i.textHScale*o,h=i.fontMatrix||Lu,u=t.length;let p,f,g,m;if(i.textRenderingMode===np||0===a)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(d,o);const b=this.dependencyTracker;for(this.dependencyTracker=b?new fg(b,e):null,p=0;p<u;++p){if(f=t[p],"number"==typeof f){m=s*f*a/1e3,this.ctx.translate(m,0),i.x+=m*d;continue}const e=(f.isSpace?l:0)+c,o=r.charProcOperatorList[f.operatorListId];o?this.contentVisible&&(this.save(),n.scale(a,a),n.transform(...h),this.executeOperatorList(o),this.restore()):_p(f.operatorListId);const u=[f.width,0];Bp.applyTransform(u,h),g=u[0]*a+e,n.translate(g,0),i.x+=g*d}n.restore(),b&&(this.dependencyTracker.recordNestedDependencies(),this.dependencyTracker=b)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,i,r,a,o){const s=new Path2D;s.rect(i,r,a-i,o-r),this.ctx.clip(s),this.dependencyTracker?.recordBBox(e,this.ctx,i,a,r,o).recordClipBox(e,this.ctx,i,a,r,o),this.endPath(e)}getColorN_Pattern(e,t){let n;if("TilingPattern"===t[0]){const i=this.baseTransform||af(this.ctx),r={createCanvasGraphics:t=>new Qg(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new fg(this.dependencyTracker,e):null)};n=new Pg(t,this.ctx,r,i)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=function(e){switch(e[0]){case"RadialAxial":return new Cg(e);case"Mesh":return new Ug(e);case"Dummy":return new Og}throw new Error(`Unknown IR type: ${e[0]}`)}(this.getObject(e,t)),this.cachedPatterns.set(t,i)),n&&(i.matrix=n),i}shadingFill(e,t){if(!this.contentVisible)return;const n=this.ctx;this.save(e);const i=this._getPattern(e,t);n.fillStyle=i.getPattern(n,this,of(n),Tg);const r=of(n);if(r){const{width:e,height:t}=n.canvas,i=Lg.slice();Bp.axialAlignedBoundingBox([0,0,e,t],r,i);const[a,o,s,c]=i;this.ctx.fillRect(a,o,s-a,c-o)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,xg).recordDependencies(e,mg).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){wp("Should not call beginInlineImage")}beginImageData(){wp("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=af(this.ctx),n)){Bp.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[t,i,r,a]=n,o=new Path2D;o.rect(t,i,r-t,a-i),this.ctx.clip(o),this.dependencyTracker?.recordClipBox(e,this.ctx,t,r,i,a),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated,t.knockout;const i=af(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Lg.slice();Bp.axialAlignedBoundingBox(t.bbox,af(n),r);const a=[0,0,n.canvas.width,n.canvas.height];r=Bp.intersect(r,a)||[0,0,0,0];const o=Math.floor(r[0]),s=Math.floor(r[1]),c=Math.max(Math.ceil(r[2])-o,1),l=Math.max(Math.ceil(r[3])-s,1);this.current.startNewPathAndClipBox([0,0,c,l]);let d="groupAt"+this.groupLevel;t.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,c,l),u=h.context;u.translate(-o,-s),u.transform(...i);let p=new Path2D;const[f,g,m,b]=t.bbox;if(p.rect(f,g,m-f,b-g),t.matrix){const e=new Path2D;e.addPath(p,new DOMMatrix(t.matrix)),p=e}u.clip(p),t.smask&&this.smaskStack.push({canvas:h.canvas,context:u,offsetX:o,offsetY:s,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),t.smask&&!this.dependencyTracker||(n.setTransform(1,0,0,1,0,0),n.translate(o,s),n.save()),Vg(n,u),this.ctx=u,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const t=af(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...t);const i=Lg.slice();Bp.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],t,i),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(i)}}beginAnnotation(e,t,n,i,r,a){if(this.#ci(),Gg(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const r=n[2]-n[0],o=n[3]-n[1];if(a&&this.annotationCanvasMap){(i=i.slice())[4]-=n[0],i[5]-=n[1],(n=n.slice())[0]=n[1]=0,n[2]=r,n[3]=o,Bp.singularValueDecompose2dScale(af(this.ctx),Bg);const{viewportScale:e}=this,a=Math.ceil(r*this.outputScaleX*e),s=Math.ceil(o*this.outputScaleY*e);this.annotationCanvas=this.canvasFactory.create(a,s);const{canvas:c,context:l}=this.annotationCanvas;this.annotationCanvasMap.set(t,c),this.annotationCanvas.savedCtx=this.ctx,this.ctx=l,this.ctx.save(),this.ctx.setTransform(Bg[0],0,0,-Bg[1],0,o*Bg[1]),Gg(this.ctx)}else{Gg(this.ctx),this.endPath(e);const t=new Path2D;t.rect(n[0],n[1],r,o),this.ctx.clip(t)}}this.current=new qg(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...r)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#li(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const n=t.count;(t=this.getObject(e,t.data,t)).count=n;const i=this.ctx,r=this._createMaskCanvas(e,t),a=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,r.offsetX,r.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,r.offsetX,r.offsetX+a.width,r.offsetY,r.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,i=0,r=0,a,o){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const s=this.ctx;s.save();const c=af(s);s.transform(n,i,r,a,0,0);const l=this._createMaskCanvas(e,t);s.setTransform(1,0,0,1,l.offsetX-c[4],l.offsetY-c[5]),this.dependencyTracker?.resetBBox(e);for(let d=0,h=o.length;d<h;d+=2){const t=Bp.transform(c,[n,i,r,a,o[d],o[d+1]]);s.drawImage(l.canvas,t[4],t[5]),this.dependencyTracker?.recordBBox(e,this.ctx,t[4],t[4]+l.canvas.width,t[5],t[5]+l.canvas.height)}s.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx,i=this.current.fillColor,r=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,_g);for(const a of t){const{data:t,width:o,height:s,transform:c}=a,l=this.cachedCanvases.getCanvas("maskCanvas",o,s),d=l.context;d.save();Hg(d,this.getObject(e,t,a)),d.globalCompositeOperation="source-in",d.fillStyle=r?i.getPattern(d,this,of(n),wg):i,d.fillRect(0,0,o,s),d.restore(),n.save(),n.transform(...c),n.scale(1,-1),Wg(n,l.canvas,0,0,o,s,0,-1,1,1),this.dependencyTracker?.recordBBox(e,n,0,o,0,s),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);n&&this.paintInlineImageXObject(e,n)}paintImageXObjectRepeat(e,t,n,i,r){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a)return;const o=a.width,s=a.height,c=[];for(let l=0,d=r.length;l<d;l+=2)c.push({transform:[n,0,0,i,r[l],r[l+1]],x:0,y:0,w:o,h:s});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",n,i),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",r.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const n=t.width,i=t.height,r=this.ctx;this.save(e);const{filter:a}=r;let o;if("none"!==a&&""!==a&&(r.filter="none"),r.scale(1/n,-1/i),t.bitmap)o=this.applyTransferMapsToBitmap(t);else if("function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)o=t;else{const e=this.cachedCanvases.getCanvas("inlineImage",n,i).context;zg(e,t),o=this.applyTransferMapsToCanvas(e)}const s=this._scaleImage(o,of(r));r.imageSmoothingEnabled=$g(af(r),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,r,0,n,-i,0).recordDependencies(e,bg).recordOperation(e),Wg(r,s.img,0,0,s.paintWidth,s.paintHeight,0,-i,n,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){if(!this.contentVisible)return;const i=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const e=t.width,n=t.height,i=this.cachedCanvases.getCanvas("inlineImage",e,n).context;zg(i,t),r=this.applyTransferMapsToCanvas(i)}this.dependencyTracker?.resetBBox(e);for(const a of n)i.save(),i.transform(...a.transform),i.scale(1,-1),Wg(i,r,a.x,a.y,a.w,a.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,mg).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){this.dependencyTracker?.beginMarkedContent(e),"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const r=this.ctx;this.pendingClip?(i||(this.pendingClip===Zg?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=af(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:r}=this.ctx.getTransform();let a,o;if(0===n&&0===i){const n=Math.abs(t),i=Math.abs(r);if(n===i)if(0===e)a=o=1/n;else{const t=n*e;a=o=t<1?1/t:1}else if(0===e)a=1/n,o=1/i;else{const t=n*e,r=i*e;a=t<1?1/t:1,o=r<1?1/r:1}}else{const s=Math.abs(t*r-n*i),c=Math.hypot(t,n),l=Math.hypot(i,r);if(0===e)a=l/s,o=c/s;else{const t=e*s;a=l>t?l/t:1,o=c>t?c/t:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[r,a]=this.getScaleForStroking();if(r===a)return n.lineWidth=(i||1)*r,void n.stroke(e);const o=n.getLineDash();t&&n.save(),n.scale(r,a),Rg.a=1/r,Rg.d=1/a;const s=new Path2D;if(s.addPath(e,Rg),o.length>0){const e=Math.max(r,a);n.setLineDash(o.map(t=>t/e)),n.lineDashOffset/=e}n.lineWidth=i||1,n.stroke(s),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const Mw in pp)void 0!==Qg.prototype[Mw]&&(Qg.prototype[pp[Mw]]=Qg.prototype[Mw]);class Jg{static#hi=null;static#ui="";static get workerPort(){return this.#hi}static set workerPort(e){if(!("undefined"!=typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");this.#hi=e}static get workerSrc(){return this.#ui}static set workerSrc(e){if("string"!=typeof e)throw new Error("Invalid `workerSrc` type.");this.#ui=e}}class em{#pi;#fi;constructor({parsedData:e,rawData:t}){this.#pi=e,this.#fi=t}getRaw(){return this.#fi}get(e){return this.#pi.get(e)??null}[Symbol.iterator](){return this.#pi.entries()}}const tm=Symbol("INTERNAL");class nm{#gi=!1;#mi=!1;#bi=!1;#yi=!0;constructor(e,{name:t,intent:n,usage:i,rbGroups:r}){this.#gi=!!(e&qu),this.#mi=!!(e&zu),this.name=t,this.intent=n,this.usage=i,this.rbGroups=r}get visible(){if(this.#bi)return this.#yi;if(!this.#yi)return!1;const{print:e,view:t}=this.usage;return this.#gi?"OFF"!==t?.viewState:!this.#mi||"OFF"!==e?.printState}_setVisible(e,t,n=!1){e!==tm&&wp("Internal method `_setVisible` called."),this.#bi=n,this.#yi=t}}class im{#vi=null;#xi=new Map;#_i=null;#wi=null;constructor(e,t=qu){if(this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,this.#wi=e.order;for(const n of e.groups)this.#xi.set(n.id,new nm(t,n));if("OFF"===e.baseState)for(const e of this.#xi.values())e._setVisible(tm,!1);for(const t of e.on)this.#xi.get(t)._setVisible(tm,!0);for(const t of e.off)this.#xi.get(t)._setVisible(tm,!1);this.#_i=this.getHash()}}#Di(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let r;if(Array.isArray(t))r=this.#Di(t);else{if(!this.#xi.has(t))return _p(),!0;r=this.#xi.get(t).visible}switch(n){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return"And"===n}isVisible(e){if(0===this.#xi.size)return!0;if(!e)return!0;if("OCG"===e.type)return this.#xi.has(e.id)?this.#xi.get(e.id).visible:(e.id,!0);if("OCMD"===e.type){if(e.expression)return this.#Di(e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!this.#xi.has(t))return _p(),!0;if(this.#xi.get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!this.#xi.has(t))return _p(),!0;if(!this.#xi.get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!this.#xi.has(t))return _p(),!0;if(!this.#xi.get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!this.#xi.has(t))return _p(),!0;if(this.#xi.get(t).visible)return!1}return!0}return e.policy,!0}return e.type,!0}setVisibility(e,t=!0,n=!0){const i=this.#xi.get(e);if(i){if(n&&t&&i.rbGroups.length)for(const t of i.rbGroups)for(const n of t)n!==e&&this.#xi.get(n)?._setVisible(tm,!1,!0);i._setVisible(tm,!!t,!0),this.#vi=null}}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const e=this.#xi.get(i);if(e)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!e.visible,t)}}this.#vi=null}get hasInitialVisibility(){return null===this.#_i||this.getHash()===this.#_i}getOrder(){return this.#xi.size?this.#wi?this.#wi.slice():[...this.#xi.keys()]:null}getGroup(e){return this.#xi.get(e)||null}getHash(){if(null!==this.#vi)return this.#vi;const e=new Cf;for(const[t,n]of this.#xi)e.update(`${t}:${n.visible}`);return this.#vi=e.hexdigest()}[Symbol.iterator](){return this.#xi.entries()}}class rm{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Dp(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,r?.length>0){const e=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((e,t)=>{this._onReceiveData({begin:e,chunk:t})}),e.addProgressListener((e,t)=>{this._onProgress({loaded:e,total:t})}),e.addProgressiveReadListener(e=>{this._onReceiveData({chunk:e})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{Dp(this._rangeReaders.some(function(t){return t._begin===e&&(t._enqueue(n),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){void 0===e.total?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Dp(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new am(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new om(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class am{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=Zp(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class om{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function sm(e,t){const n=new Headers;if(!e||!t||"object"!=typeof t)return n;for(const i in t){const e=t[i];void 0!==e&&n.append(i,e)}return n}function cm(e){return URL.parse(e)?.origin??null}function lm({responseHeaders:e,isHttp:t,rangeChunkSize:n,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(e.get("Content-Length"),10);if(!Number.isInteger(a))return r;if(r.suggestedLength=a,a<=2*n)return r;if(i||!t)return r;if("bytes"!==e.get("Accept-Ranges"))return r;return"identity"!==(e.get("Content-Encoding")||"identity")||(r.allowRangeRequests=!0),r}function dm(e){const t=e.get("Content-Disposition");if(t){let e=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=o(n);return e=unescape(e),e=s(e),e=c(e),a(e)}if(n=function(e){const t=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(e));){let[,e,i,r]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[i,r]}const a=[];for(let i=0;i<t.length&&i in t;++i){let[e,n]=t[i];n=o(n),e&&(n=unescape(n),0===i&&(n=s(n))),a.push(n)}return a.join("")}(e),n)return a(c(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=o(n);return e=c(e),a(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function r(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),r=Ip(n);n=i.decode(r),t=!1}catch{}}return n}function a(e){return t&&/[\x80-\xff]/.test(e)&&(e=r("utf-8",e),t&&(e=r("iso-8859-1",e))),e}function o(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function s(e){const t=e.indexOf("'");return-1===t?e:r(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function c(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,n,i){if("q"===n||"Q"===n)return i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}),r(t,i);try{i=atob(i)}catch{}return r(t,i)})}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Zp(e))return e}return null}function hm(e,t){return new Op(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e,404===e||0===e&&t.startsWith("file:"))}function um(e){return 200===e||206===e}function pm(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function fm(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:new Uint8Array(e).buffer}class gm{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=sm(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Dp(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new mm(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new bm(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class mm{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,pm(n,this._withCredentials,this._abortController)).then(t=>{if(e._responseOrigin=cm(t.url),!um(t.status))throw hm(t.status,i);this._reader=t.body.getReader(),this._headersCapability.resolve();const n=t.headers,{allowRangeRequests:r,suggestedLength:a}=lm({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=dm(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Np("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:fm(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class bm{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${n-1}`);const a=i.url;fetch(a,pm(r,this._withCredentials,this._abortController)).then(t=>{const n=cm(t.url);if(n!==e._responseOrigin)throw new Error(`Expected range response-origin "${n}" to match "${e._responseOrigin}".`);if(!um(t.status))throw hm(t.status,a);this._readCapability.resolve(),this._reader=t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:fm(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class ym{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=sm(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,a]of this.headers)t.setRequestHeader(r,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=206):i.expectedStatus=200,t.responseType="arraybuffer",Dp(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){const n=this.pendingRequests[e];n&&n.onProgress?.(t)}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void n.onError(i.status);const r=i.status||200;if(!(200===r&&206===n.expectedStatus)&&r!==n.expectedStatus)return void n.onError(i.status);const a=function(e){const t=e.response;return"string"!=typeof t?t:Ip(t).buffer}(i);if(206===r){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);t?n.onDone({begin:parseInt(t[1],10),chunk:a}):n.onError(0)}else a?n.onDone({begin:0,chunk:a}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class vm{constructor(e){this._source=e,this._manager=new ym(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Dp(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new xm(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new _m(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class xm{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=cm(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(e=>{const[t,...n]=e.split(": ");return[t,n.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:a}=lm({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=dm(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=hm(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class _m{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=cm(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=hm(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const wm=/^[a-z][a-z0-9\-+.]+:/i;class Dm{constructor(e){this.source=e,this.url=function(e){if(wm.test(e))return new URL(e);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(e))}(e.url),Dp("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Dp(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Tm(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Am(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Tm{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(e=>{this._contentLength=e.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},e=>{"ENOENT"===e.code&&(e=hm(0,this._url.href)),this._storedError=e,this._headersCapability.reject(e)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Np("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Am{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,this.onProgress?.({loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Em=Symbol("INITIAL_DATA");class Cm{#Ti=Object.create(null);#Ai(e){return this.#Ti[e]||={...Promise.withResolvers(),data:Em}}get(e,t=null){if(t){const n=this.#Ai(e);return n.promise.then(()=>t(n.data)),null}const n=this.#Ti[e];if(!n||n.data===Em)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=this.#Ti[e];return!!t&&t.data!==Em}delete(e){const t=this.#Ti[e];return!(!t||t.data===Em)&&(delete this.#Ti[e],!0)}resolve(e,t=null){const n=this.#Ai(e);n.data=t,n.resolve()}clear(){for(const e in this.#Ti){const{data:t}=this.#Ti[e];t?.bitmap?.close()}this.#Ti=Object.create(null)}*[Symbol.iterator](){for(const e in this.#Ti){const{data:t}=this.#Ti[e];t!==Em&&(yield[e,t])}}}class km{#Ei=Promise.withResolvers();#xe=null;#Ci=!1;#ki=!!globalThis.FontInspector?.enabled;#Si=null;#Ui=null;#Oi=0;#Fi=0;#Ni=null;#Pi=null;#Ii=0;#Mi=0;#Ri=Object.create(null);#Bi=[];#Li=null;#ji=[];#Wi=new WeakMap;#qi=null;static#zi=new Map;static#Hi=new Map;static#Vi=new WeakMap;static#Gi=null;static#$i=new Set;constructor({textContentSource:e,container:t,viewport:n}){if(e instanceof ReadableStream)this.#Li=e;else{if("object"!=typeof e)throw new Error('No "textContentSource" parameter specified.');this.#Li=new ReadableStream({start(t){t.enqueue(e),t.close()}})}this.#xe=this.#Pi=t,this.#Mi=n.scale*cf.pixelRatio,this.#Ii=n.rotation,this.#Ui={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:r,pageX:a,pageY:o}=n.rawDims;this.#qi=[1,0,0,-1,-a,o+r],this.#Fi=i,this.#Oi=r,km.#Ki(),sf(t,n),this.#Ei.promise.finally(()=>{km.#$i.delete(this),this.#Ui=null,this.#Ri=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Mp.platform;return Ep(this,"fontFamilyMap",new Map([["sans-serif",(e&&t?"Calibri, ":"")+"sans-serif"],["monospace",(e&&t?"Lucida Console, ":"")+"monospace"]]))}render(){const e=()=>{this.#Ni.read().then(({value:t,done:n})=>{n?this.#Ei.resolve():(this.#Si??=t.lang,Object.assign(this.#Ri,t.styles),this.#Xi(t.items),e())},this.#Ei.reject)};return this.#Ni=this.#Li.getReader(),km.#$i.add(this),e(),this.#Ei.promise}update({viewport:e,onBefore:t=null}){const n=e.scale*cf.pixelRatio,i=e.rotation;if(i!==this.#Ii&&(t?.(),this.#Ii=i,sf(this.#Pi,{rotation:i})),n!==this.#Mi){t?.(),this.#Mi=n;const e={div:null,properties:null,ctx:km.#Yi(this.#Si)};for(const t of this.#ji)e.properties=this.#Wi.get(t),e.div=t,this.#Zi(e)}}cancel(){const e=new Np("TextLayer task cancelled.");this.#Ni?.cancel(e).catch(()=>{}),this.#Ni=null,this.#Ei.reject(e)}get textDivs(){return this.#ji}get textContentItemsStr(){return this.#Bi}#Xi(e){if(this.#Ci)return;this.#Ui.ctx??=km.#Yi(this.#Si);const t=this.#ji,n=this.#Bi;for(const i of e){if(t.length>1e5)return _p(),void(this.#Ci=!0);if(void 0!==i.str)n.push(i.str),this.#Qi(i);else if("beginMarkedContentProps"===i.type||"beginMarkedContent"===i.type){const e=this.#xe;this.#xe=document.createElement("span"),this.#xe.classList.add("markedContent"),i.id&&this.#xe.setAttribute("id",`${i.id}`),e.append(this.#xe)}else"endMarkedContent"===i.type&&(this.#xe=this.#xe.parentNode)}}#Qi(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};this.#ji.push(t);const i=Bp.transform(this.#qi,e.transform);let r=Math.atan2(i[1],i[0]);const a=this.#Ri[e.fontName];a.vertical&&(r+=Math.PI/2);let o=this.#ki&&a.fontSubstitution||a.fontFamily;o=km.fontFamilyMap.get(o)||o;const s=Math.hypot(i[2],i[3]),c=s*km.#Ji(o,a,this.#Si);let l,d;0===r?(l=i[4],d=i[5]-c):(l=i[4]+c*Math.sin(r),d=i[5]-c*Math.cos(r));const h="calc(var(--total-scale-factor) *",u=t.style;this.#xe===this.#Pi?(u.left=`${(100*l/this.#Fi).toFixed(2)}%`,u.top=`${(100*d/this.#Oi).toFixed(2)}%`):(u.left=`${h}${l.toFixed(2)}px)`,u.top=`${h}${d.toFixed(2)}px)`),u.fontSize=`${h}${(km.#Gi*s).toFixed(2)}px)`,u.fontFamily=o,n.fontSize=s,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#ki&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),0!==r&&(n.angle=r*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(p=!0)}if(p&&(n.canvasWidth=a.vertical?e.height:e.width),this.#Wi.set(t,n),this.#Ui.div=t,this.#Ui.properties=n,this.#Zi(this.#Ui),n.hasText&&this.#xe.append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),this.#xe.append(e)}}#Zi(e){const{div:t,properties:n,ctx:i}=e,{style:r}=t;let a="";if(km.#Gi>1&&(a=`scale(${1/km.#Gi})`),0!==n.canvasWidth&&n.hasText){const{fontFamily:e}=r,{canvasWidth:o,fontSize:s}=n;km.#er(i,s*this.#Mi,e);const{width:c}=i.measureText(t.textContent);c>0&&(a=`scaleX(${o*this.#Mi/c}) ${a}`)}0!==n.angle&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(r.transform=a)}static cleanup(){if(!(this.#$i.size>0)){this.#zi.clear();for(const{canvas:e}of this.#Hi.values())e.remove();this.#Hi.clear()}}static#Yi(e=null){let t=this.#Hi.get(e||="");if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#Hi.set(e,t),this.#Vi.set(t,{size:0,family:""})}return t}static#er(e,t,n){const i=this.#Vi.get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)}static#Ki(){if(null!==this.#Gi)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#Gi=e.getBoundingClientRect().height,e.remove()}static#Ji(e,t,n){const i=this.#zi.get(e);if(i)return i;const r=this.#Yi(n);r.canvas.width=r.canvas.height=30,this.#er(r,30,e);const a=r.measureText(""),o=a.fontBoundingBoxAscent,s=Math.abs(a.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let c=.8;return o?c=o/(o+s):(Mp.platform.isFirefox,t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),this.#zi.set(e,c),c}}class Sm{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){if(!n)return;let i=null;const r=n.name;if("#text"===r)i=n.value;else{if(!Sm.shouldBuildText(r))return;n?.attributes?.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&t.push({str:i}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}function Um(e={}){"string"==typeof e||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new Om,{docId:n}=t,i=e.url?function(e){if(e instanceof URL)return e.href;if("string"==typeof e){if(Bu)return e;const t=URL.parse(e,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(e.url):null,r=e.data?function(e){if(Bu&&"undefined"!=typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"==typeof e)return Ip(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"==typeof e&&!isNaN(e?.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(e.data):null,a=e.httpHeaders||null,o=!0===e.withCredentials,s=e.password??null,c=e.range instanceof Fm?e.range:null,l=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:65536;let d=e.worker instanceof Im?e.worker:null;const h=e.verbosity,u="string"!=typeof e.docBaseUrl||Yp(e.docBaseUrl)?null:e.docBaseUrl,p=Nf(e.cMapUrl),f=!1!==e.cMapPacked,g=e.CMapReaderFactory||(Bu?lg:Jf),m=Nf(e.iccUrl),b=Nf(e.standardFontDataUrl),y=e.StandardFontDataFactory||(Bu?dg:ig),v=Nf(e.wasmUrl),x=e.WasmFactory||(Bu?hg:ag),_=!0!==e.stopAtErrors,w=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,D=!1!==e.isEvalSupported,T="boolean"==typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!Bu,A="boolean"==typeof e.isImageDecoderSupported?e.isImageDecoderSupported:!Bu&&(Mp.platform.isFirefox||!globalThis.chrome),E=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,C="boolean"==typeof e.disableFontFace?e.disableFontFace:Bu,k=!0===e.fontExtraProperties,S=!0===e.enableXfa,U=e.ownerDocument||globalThis.document,O=!0===e.disableRange,F=!0===e.disableStream,N=!0===e.disableAutoFetch,P=!0===e.pdfBug,I=e.CanvasFactory||(Bu?cg:Zf),M=e.FilterFactory||(Bu?sg:tg),R=!0===e.enableHWA,B=!1!==e.useWasm,L=c?c.length:e.length??NaN,j="boolean"==typeof e.useSystemFonts?e.useSystemFonts:!Bu&&!C,W="boolean"==typeof e.useWorkerFetch?e.useWorkerFetch:!!(g===Jf&&y===ig&&x===ag&&p&&b&&v&&Jp(p,document.baseURI)&&Jp(b,document.baseURI)&&Jp(v,document.baseURI));vp(h);const q={canvasFactory:new I({ownerDocument:U,enableHWA:R}),filterFactory:new M({docId:n,ownerDocument:U}),cMapReaderFactory:W?null:new g({baseUrl:p,isCompressed:f}),standardFontDataFactory:W?null:new y({baseUrl:b}),wasmFactory:W?null:new x({baseUrl:v})};d||(d=Im.create({verbosity:h,port:Jg.workerPort}),t._worker=d);const z={docId:n,apiVersion:"5.4.149",data:r,password:s,disableAutoFetch:N,rangeChunkSize:l,length:L,docBaseUrl:u,enableXfa:S,evaluatorOptions:{maxImageSize:w,disableFontFace:C,ignoreErrors:_,isEvalSupported:D,isOffscreenCanvasSupported:T,isImageDecoderSupported:A,canvasMaxAreaInBytes:E,fontExtraProperties:k,useSystemFonts:j,useWasm:B,useWorkerFetch:W,cMapUrl:p,iccUrl:m,standardFontDataUrl:b,wasmUrl:v}},H={ownerDocument:U,pdfBug:P,styleElement:null,loadingParams:{disableAutoFetch:N,enableXfa:S}};return d.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const e=d.messageHandler.sendWithPromise("GetDocRequest",z,r?[r.buffer]:null);let s;if(c)s=new rm(c,{disableRange:O,disableStream:F});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const e=Jp(i)?gm:Bu?Dm:vm;s=new e({url:i,length:L,httpHeaders:a,withCredentials:o,rangeChunkSize:l,disableRange:O,disableStream:F})}return e.then(e=>{if(t.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const i=new Xf(n,e,d.port),r=new Mm(i,t,s,H,q,R);t._transport=r,i.send("Ready",null)})}).catch(t._capability.reject),t}class Om{static#Sn=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId="d"+Om.#Sn++;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await(this._transport?.destroy())}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class Fm{#Ei=Promise.withResolvers();#tr=[];#nr=[];#ir=[];#rr=[];constructor(e,t,n=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){this.#rr.push(e)}addProgressListener(e){this.#ir.push(e)}addProgressiveReadListener(e){this.#nr.push(e)}addProgressiveDoneListener(e){this.#tr.push(e)}onDataRange(e,t){for(const n of this.#rr)n(e,t)}onDataProgress(e,t){this.#Ei.promise.then(()=>{for(const n of this.#ir)n(e,t)})}onDataProgressiveRead(e){this.#Ei.promise.then(()=>{for(const t of this.#nr)t(e)})}onDataProgressiveDone(){this.#Ei.promise.then(()=>{for(const e of this.#tr)e()})}transportReady(){this.#Ei.resolve()}requestDataRange(e,t){wp("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Nm{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ep(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Pm{#ar=!1;constructor(e,t,n,i=!1){this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new Qp:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Cm,this._intentStates=new Map,this.destroyed=!1,this.recordedGroups=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}={}){return new Kp({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ep(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:i="display",annotationMode:r=Xu.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:s=null,annotationCanvasMap:c=null,pageColors:l=null,printAnnotationStorage:d=null,isEditing:h=!1,recordOperations:u=!1,filteredOperationIndexes:p=null}){this._stats?.time("Overall");const f=this._transport.getRenderingIntent(i,r,d,h),{renderingIntent:g,cacheKey:m}=f;this.#ar=!1,s||=this._transport.getOptionalContentConfig(g);let b=this._intentStates.get(m);b||(b=Object.create(null),this._intentStates.set(m,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const y=!!(g&zu);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(f));const v=!this.recordedGroups&&(u||this._pdfBug&&globalThis.StepperManager?.enabled),x=e=>{if(b.renderTasks.delete(_),v){const e=_.gfx?.dependencyTracker.take();e?(_.stepper?.setOperatorGroups(e),u&&(this.recordedGroups=e)):u&&(this.recordedGroups=[])}y&&(this.#ar=!0),this.#or(),e?(_.capability.reject(e),this._abortOperatorList({intentState:b,reason:e instanceof Error?e:new Error(e)})):_.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},_=new Bm({callback:x,params:{canvas:t,canvasContext:e,dependencyTracker:v?new pg(t):null,viewport:n,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:l,enableHWA:this._transport.enableHWA,filteredOperationIndexes:p});(b.renderTasks||=new Set).add(_);const w=_.task;return Promise.all([b.displayReadyCapability.promise,s]).then(([e,t])=>{if(this.destroyed)x();else{if(this._stats?.time("Rendering"),!(t.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");_.initializeGraphics({transparency:e,optionalContentConfig:t}),_.operatorListChanged()}}).catch(x),w}getOperatorList({intent:e="display",annotationMode:t=Xu.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){const r=this._transport.getRenderingIntent(e,t,n,i,!0);let a,o=this._intentStates.get(r.cacheKey);return o||(o=Object.create(null),this._intentStates.set(r.cacheKey,o)),o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=function(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))},o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(r)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(e=>Sm.textContent(e));const t=this.streamTextContent(e);return new Promise(function(e,n){const i=t.getReader(),r={items:[],styles:Object.create(null),lang:null};!function t(){i.read().then(function({value:n,done:i}){i?e(r):(r.lang??=n.lang,Object.assign(r.styles,n.styles),r.items.push(...n.items),t())},n)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),this.#ar=!1,Promise.all(e)}cleanup(e=!1){this.#ar=!0;const t=this.#or();return e&&t&&(this._stats&&=new Qp),t}#or(){if(!this.#ar||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#ar=!1,!0}_startRenderPage(e,t){const n=this._intentStates.get(t);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&this.#or()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:r,transfer:a}=n,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:i},a).getReader(),s=this._intentStates.get(t);s.streamReader=o;const c=()=>{o.read().then(({value:e,done:t})=>{t?s.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,s),c())},e=>{if(s.streamReader=null,!this._transport.destroyed){if(s.operatorList){s.operatorList.lastChunk=!0;for(const e of s.renderTasks)e.operatorListChanged();this.#or()}if(s.displayReadyCapability)s.displayReadyCapability.reject(e);else{if(!s.opListReadCapability)throw e;s.opListReadCapability.reject(e)}}})};c()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof Xp){let n=100;return t.extraDelay>0&&t.extraDelay<1e3&&(n+=t.extraDelay),void(e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},n))}}if(e.streamReader.cancel(new Np(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}class Im{#Ei=Promise.withResolvers();#sr=null;#hi=null;#cr=null;static#lr=0;static#dr=!1;static#hr=new WeakMap;static{Bu&&(this.#dr=!0,Jg.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!n?.origin||"null"===n.origin)return!1;const i=new URL(t,n);return n.origin===i.origin},this._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},this.fromPort=e=>{if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.create(e)}}constructor({name:e=null,port:t=null,verbosity:n=xp()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=n,t){if(Im.#hr.has(t))throw new Error("Cannot use more than one PDFWorker per port.");Im.#hr.set(t,this),this.#ur(t)}else this.#pr()}get promise(){return this.#Ei.promise}#fr(){this.#Ei.resolve(),this.#sr.send("configure",{verbosity:this.verbosity})}get port(){return this.#hi}get messageHandler(){return this.#sr}#ur(e){this.#hi=e,this.#sr=new Xf("main","worker",e),this.#sr.on("ready",()=>{}),this.#fr()}#pr(){if(Im.#dr||Im.#gr)return void this.#mr();let{workerSrc:e}=Im;try{Im._isSameOrigin(window.location,e)||(e=Im._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Xf("main","worker",t),i=()=>{r.abort(),n.destroy(),t.terminate(),this.destroyed?this.#Ei.reject(new Error("Worker was destroyed")):this.#mr()},r=new AbortController;t.addEventListener("error",()=>{this.#cr||i()},{signal:r.signal}),n.on("test",e=>{r.abort(),!this.destroyed&&e?(this.#sr=n,this.#hi=t,this.#cr=t,this.#fr()):i()}),n.on("ready",e=>{if(r.abort(),this.destroyed)i();else try{a()}catch{this.#mr()}});const a=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void a()}catch{}this.#mr()}#mr(){Im.#dr||(Im.#dr=!0),Im._setupFakeWorkerGlobal.then(e=>{if(this.destroyed)return void this.#Ei.reject(new Error("Worker was destroyed"));const t=new Mf;this.#hi=t;const n="fake"+Im.#lr++,i=new Xf(n+"_worker",n,t);e.setup(i,t),this.#sr=new Xf(n,n+"_worker",t),this.#fr()}).catch(e=>{this.#Ei.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this.#cr?.terminate(),this.#cr=null,Im.#hr.delete(this.#hi),this.#hi=null,this.#sr?.destroy(),this.#sr=null}static create(e){const t=this.#hr.get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Im(e)}static get workerSrc(){if(Jg.workerSrc)return Jg.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#gr(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return Ep(this,"_setupFakeWorkerGlobal",(async()=>{if(this.#gr)return this.#gr;return(await import(this.workerSrc)).WorkerMessageHandler})())}}class Mm{#br=new Map;#yr=new Map;#vr=new Map;#xr=new Map;#_r=null;constructor(e,t,n,i,r,a){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Cm,this.fontLoader=new Of({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}#wr(e,t=null){const n=this.#br.get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return this.#br.set(e,i),i}get annotationStorage(){return Ep(this,"annotationStorage",new Sf)}getRenderingIntent(e,t=Xu.ENABLE,n=null,i=!1,r=!1){let a=qu,o=kf;switch(e){case"any":a=Wu;break;case"display":break;case"print":a=zu}const s=a&zu&&n instanceof Uf?n:this.annotationStorage;switch(t){case Xu.DISABLE:a+=Gu;break;case Xu.ENABLE:break;case Xu.ENABLE_FORMS:a+=Hu;break;case Xu.ENABLE_STORAGE:a+=Vu,o=s.serializable}i&&(a+=$u),r&&(a+=Ku);const{ids:c,hash:l}=s.modifiedIds;return{renderingIntent:a,cacheKey:[a,o.hash,l].join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#_r?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const n of this.#yr.values())e.push(n._destroy());this.#yr.clear(),this.#vr.clear(),this.#xr.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#br.clear(),this.filterFactory.destroy(),km.cleanup(),this._networkStream?.cancelAllRequests(new Np("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(e,t)=>{Dp(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then(function({value:e,done:n}){n?t.close():(Dp(e instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}}),e.on("ReaderHeadersReady",async e=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:i,contentLength:r}=this._fullReader;return n&&i||(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=e=>{t.onProgress?.({loaded:e.loaded,total:e.total})}),{isStreamingSupported:n,isRangeSupported:i,contentLength:r}}),e.on("GetRangeReader",(e,t)=>{Dp(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then(function({value:e,done:n}){n?t.close():(Dp(e instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{n.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}):t.close()}),e.on("GetDoc",({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,t._capability.resolve(new Nm(e,this))}),e.on("DocException",e=>{t._capability.reject(Kf(e))}),e.on("PasswordRequest",e=>{this.#_r=Promise.withResolvers();try{if(!t.onPassword)throw Kf(e);const n=e=>{e instanceof Error?this.#_r.reject(e):this.#_r.resolve({password:e})};t.onPassword(n,e.code)}catch(n){this.#_r.reject(n)}return this.#_r.promise}),e.on("DataLoaded",e=>{t.onProgress?.({loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),e.on("StartRenderPage",e=>{if(this.destroyed)return;this.#yr.get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),e.on("commonobj",([t,n,i])=>{if(this.destroyed)return null;if(this.commonObjs.has(t))return null;switch(n){case"Font":if("error"in i){const e=i.error;this.commonObjs.resolve(t,e);break}const r=this._params.pdfBug&&globalThis.FontInspector?.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,a=new Ff(i,r);this.fontLoader.bind(a).catch(()=>e.sendWithPromise("FontFallback",{id:t})).finally(()=>{!a.fontExtraProperties&&a.data&&(a.data=null),this.commonObjs.resolve(t,a)});break;case"CopyLocalImage":const{imageRef:o}=i;Dp(o,"The imageRef must be defined.");for(const e of this.#yr.values())for(const[,n]of e.objs)if(n?.ref===o)return n.dataLen?(this.commonObjs.resolve(t,structuredClone(n)),n.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(t,i);break;default:throw new Error(`Got unknown common object type ${n}`)}return null}),e.on("obj",([e,t,n,i])=>{if(this.destroyed)return;const r=this.#yr.get(t);if(!r.objs.has(e))if(0!==r._intentStates.size)switch(n){case"Image":case"Pattern":r.objs.resolve(e,i);break;default:throw new Error(`Got unknown object type ${n}`)}else i?.bitmap?.close()}),e.on("DocProgress",e=>{this.destroyed||t.onProgress?.({loaded:e.loaded,total:e.total})}),e.on("FetchBinaryData",async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");const t=this[e.type];if(!t)throw new Error(`${e.type} not initialized, see the \`useWorkerFetch\` parameter.`);return t.fetch(e)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size;const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=this.#vr.get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&this.#xr.set(n.refStr,e);const i=new Pm(t,n,this,this._params.pdfBug);return this.#yr.set(t,i),i});return this.#vr.set(t,i),i}getPageIndex(e){return Pf(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#wr("GetFieldObjects")}hasJSActions(){return this.#wr("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#wr("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#wr("GetOptionalContentConfig").then(t=>new im(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#br.get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(e=>({info:e[0],metadata:e[1]?new em(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#br.set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#yr.values()){if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`)}this.commonObjs.clear(),e||this.fontLoader.clear(),this.#br.clear(),this.filterFactory.destroy(!0),km.cleanup()}}cachedPageNumber(e){if(!Pf(e))return null;const t=0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`;return this.#xr.get(t)??null}}class Rm{#Dr=null;onContinue=null;onError=null;constructor(e){this.#Dr=e}get promise(){return this.#Dr.capability.promise}cancel(e=0){this.#Dr.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#Dr.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#Dr;return e.form||e.canvas&&t?.size>0}}class Bm{#Tr=null;static#Ar=new WeakSet;constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:s,filterFactory:c,useRequestAnimationFrame:l=!1,pdfBug:d=!1,pageColors:h=null,enableHWA:u=!1,filteredOperationIndexes:p=null}){this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=s,this.filterFactory=c,this._pdfBug=d,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===l&&"undefined"!=typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Rm(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=u,this._dependencyTracker=t.dependencyTracker,this._filteredOperationIndexes=p}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(Bm.#Ar.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Bm.#Ar.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:i,background:r,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Qg(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:n,transparency:e,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#Tr&&(window.cancelAnimationFrame(this.#Tr),this.#Tr=null),Bm.#Ar.delete(this._canvas),e||=new Xp(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){this.graphicsReady?(this.stepper?.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||=this._continueBound}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#Tr=window.requestAnimationFrame(()=>{this.#Tr=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._filteredOperationIndexes),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Bm.#Ar.delete(this._canvas),this.callback())))}}class Lm{#Er=null;#Cr=null;#kr;#Sr=null;#Ur=!1;#Or=!1;#a=null;#Fr;#Nr=null;#m=null;static#Pr=null;static get _keyboardManager(){return Ep(this,"_keyboardManager",new mf([[["Escape","mac+Escape"],Lm.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Lm.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Lm.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Lm.prototype._moveToPrevious],[["Home","mac+Home"],Lm.prototype._moveToBeginning],[["End","mac+End"],Lm.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#Or=!1,this.#a=e):this.#Or=!0,this.#m=e?._uiManager||t,this.#Fr=this.#m._eventBus,this.#kr=e?.color?.toUpperCase()||this.#m?.highlightColors.values().next().value||"#FFFF98",Lm.#Pr||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#Er=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#a&&(e.ariaControls=`${this.#a.id}_colorpicker_dropdown`);const t=this.#m._signal;e.addEventListener("click",this.#Ir.bind(this),{signal:t}),e.addEventListener("keydown",this.#Mr.bind(this),{signal:t});const n=this.#Cr=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#kr,e.append(n),e}renderMainDropdown(){const e=this.#Sr=this.#Rr();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#Rr(){const e=document.createElement("div"),t=this.#m._signal;e.addEventListener("contextmenu",ef,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#a&&(e.id=`${this.#a.id}_colorpicker_dropdown`);for(const[n,i]of this.#m.highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=n,r.setAttribute("data-l10n-id",Lm.#Pr[n]);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=i,r.ariaSelected=i===this.#kr,r.addEventListener("click",this.#Br.bind(this,i),{signal:t}),e.append(r)}return e.addEventListener("keydown",this.#Mr.bind(this),{signal:t}),e}#Br(e,t){t.stopPropagation(),this.#Fr.dispatch("switchannotationeditorparams",{source:this,type:Qu.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#Er)return void this.#Ir(e);const t=e.target.getAttribute("data-color");t&&this.#Br(t,e)}_moveToNext(e){this.#Lr?e.target!==this.#Er?e.target.nextSibling?.focus():this.#Sr.firstChild?.focus():this.#Ir(e)}_moveToPrevious(e){e.target!==this.#Sr?.firstChild&&e.target!==this.#Er?(this.#Lr||this.#Ir(e),e.target.previousSibling?.focus()):this.#Lr&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){this.#Lr?this.#Sr.firstChild?.focus():this.#Ir(e)}_moveToEnd(e){this.#Lr?this.#Sr.lastChild?.focus():this.#Ir(e)}#Mr(e){Lm._keyboardManager.exec(this,e)}#Ir(e){if(this.#Lr)return void this.hideDropdown();if(this.#Ur=0===e.detail,this.#Nr||(this.#Nr=new AbortController,window.addEventListener("pointerdown",this.#h.bind(this),{signal:this.#m.combinedSignal(this.#Nr)})),this.#Er.ariaExpanded="true",this.#Sr)return void this.#Sr.classList.remove("hidden");const t=this.#Sr=this.#Rr();this.#Er.append(t)}#h(e){this.#Sr?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#Sr?.classList.add("hidden"),this.#Er.ariaExpanded="false",this.#Nr?.abort(),this.#Nr=null}get#Lr(){return this.#Sr&&!this.#Sr.classList.contains("hidden")}_hideDropdownFromKeyboard(){this.#Or||(this.#Lr?(this.hideDropdown(),this.#Er.focus({preventScroll:!0,focusVisible:this.#Ur})):this.#a?.unselect())}updateColor(e){if(this.#Cr&&(this.#Cr.style.backgroundColor=e),!this.#Sr)return;const t=this.#m.highlightColors.values();for(const n of this.#Sr.children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#Er?.remove(),this.#Er=null,this.#Cr=null,this.#Sr?.remove(),this.#Sr=null}}class jm{#jr=null;#a=null;#m=null;static#Pr=null;constructor(e){this.#a=e,this.#m=e._uiManager,jm.#Pr||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#jr)return this.#jr;const{editorType:e,colorType:t,colorValue:n}=this.#a,i=this.#jr=document.createElement("input");return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",jm.#Pr[e]),i.addEventListener("input",()=>{this.#m.updateParams(t,i.value)},{signal:this.#m._signal}),i}update(e){this.#jr&&(this.#jr.value=e)}destroy(){this.#jr?.remove(),this.#jr=null}hideDropdown(){}}function Wm(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function qm(e){return Math.max(0,Math.min(255,255*e))}class zm{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return[e=qm(e),e,e]}static G_HTML([e]){const t=Wm(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(qm)}static RGB_HTML(e){return`#${e.map(Wm).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[qm(1-Math.min(1,e+i)),qm(1-Math.min(1,n+i)),qm(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,r=1-t,a=1-n;return["CMYK",i,r,a,Math.min(i,r,a)]}}class Hm{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){wp("Abstract method `_createSVG` called.")}}class Vm extends Hm{_createSVG(e){return document.createElementNS(Vp,e)}}class Gm{static setupStorage(e,t,n,i,r){const a=i.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===r)break;e.addEventListener("input",e=>{i.setValue(t,{value:e.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===r)break;e.addEventListener("change",e=>{i.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===r)break;e.addEventListener("input",e=>{i.setValue(t,{value:e.target.value})})}break;case"select":if(null!==a.value){e.setAttribute("value",a.value);for(const e of n.children)e.attributes.value===a.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",e=>{const n=e.target.options,r=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(t,{value:r})})}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:r}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;"radio"===a.type&&(a.name=`${a.name}-${i}`);for(const[s,c]of Object.entries(a))if(null!=c)switch(s){case"class":c.length&&e.setAttribute(s,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||"href"!==s&&"newWindow"!==s)&&e.setAttribute(s,c)}o&&r.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,r=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:r,linkService:n});const o="richText"!==r,s=e.div;if(s.append(a),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;s.style.transform=t}o&&s.setAttribute("class","xfaLayer xfaFont");const c=[];if(0===i.children.length){if(i.value){const e=document.createTextNode(i.value);a.append(e),o&&Sm.shouldBuildText(i.name)&&c.push(e)}return{textDivs:c}}const l=[[i,-1,a]];for(;l.length>0;){const[e,i,a]=l.at(-1);if(i+1===e.children.length){l.pop();continue}const s=e.children[++l.at(-1)[1]];if(null===s)continue;const{name:d}=s;if("#text"===d){const e=document.createTextNode(s.value);c.push(e),a.append(e);continue}const h=s?.attributes?.xmlns?document.createElementNS(s.attributes.xmlns,d):document.createElement(d);if(a.append(h),s.attributes&&this.setAttributes({html:h,element:s,storage:t,intent:r,linkService:n}),s.children?.length>0)l.push([s,-1,h]);else if(s.value){const e=document.createTextNode(s.value);o&&Sm.shouldBuildText(d)&&c.push(e),h.append(e)}}for(const d of s.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const $m=new WeakSet,Km=60*(new Date).getTimezoneOffset()*1e3;class Xm{static create(e){switch(e.data.annotationType){case op.LINK:return new Zm(e);case op.TEXT:return new Qm(e);case op.WIDGET:switch(e.data.fieldType){case"Tx":return new eb(e);case"Btn":return e.data.radioButton?new ib(e):e.data.checkBox?new nb(e):new rb(e);case"Ch":return new ab(e);case"Sig":return new tb(e)}return new Jm(e);case op.POPUP:return new ob(e);case op.FREETEXT:return new cb(e);case op.LINE:return new lb(e);case op.SQUARE:return new db(e);case op.CIRCLE:return new hb(e);case op.POLYLINE:return new ub(e);case op.CARET:return new fb(e);case op.INK:return new gb(e);case op.POLYGON:return new pb(e);case op.HIGHLIGHT:return new mb(e);case op.UNDERLINE:return new bb(e);case op.SQUIGGLY:return new yb(e);case op.STRIKEOUT:return new vb(e);case op.STAMP:return new xb(e);case op.FILEATTACHMENT:return new _b(e);default:return new Ym(e)}}}class Ym{#Wr=null;#qr=!1;#zr=null;constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!(!e?.str&&!t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Ym._hasPopupData(this.data)}get hasCommentButton(){return this.enableComment&&this._isEditable&&this.hasPopupElement}get commentButtonPosition(){const{quadPoints:e,rect:t}=this.data;let n=-1/0,i=-1/0;if(e?.length>=8){for(let t=0;t<e.length;t+=8)e[t+1]>i?(i=e[t+1],n=e[t+2]):e[t+1]===i&&(n=Math.max(n,e[t+2]));return[n,i]}return t?[t[2],t[3]]:null}get commentButtonColor(){if(!this.data.color)return null;const[e,t,n]=this.data.color,i=255*(1-(this.data.opacity??1));return this.#Hr(Math.min(e+i,255),Math.min(t+i,255),Math.min(n+i,255))}#Hr(e,t,n){e/=255,t/=255,n/=255;const i=Math.max(e,t,n),r=Math.min(e,t,n),a=(i+r)/2,o=((1+Math.sqrt(a))/2*100).toFixed(2);if(i===r)return`hsl(0, 0%, ${o}%)`;const s=i-r;let c;c=i===e?(t-n)/s+(t<n?6:0):i===t?(n-e)/s+2:(e-t)/s+4,c=(60*c).toFixed(2);return`hsl(${c}, ${(s/(1-Math.abs(2*a-1))*100).toFixed(2)}%, ${o}%)`}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-r)/n,e[1]=100*(e[1]-a)/i,e}updateEdited(e){if(!this.container)return;e.rect&&(this.#Wr||={rect:this.data.rect.slice(0)});const{rect:t,popup:n}=e;t&&this.#Vr(t);let i=this.#zr?.popup||this.popup;!i&&n?.text&&(this._createPopup(n),i=this.#zr.popup),i&&(i.updateEdited(e),n?.deleted&&(i.remove(),this.#zr=null,this.popup=null))}resetEdited(){this.#Wr&&(this.#Vr(this.#Wr.rect),this.#zr?.popup.resetEdited(),this.#Wr=null)}#Vr(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:o,pageY:s}}}}=this;n?.splice(0,4,...e),t.left=100*(e[0]-o)/r+"%",t.top=100*(a-e[3]+s)/a+"%",0===i?(t.width=100*(e[2]-e[0])/r+"%",t.height=100*(e[3]-e[1])/a+"%"):this.setRotation(i)}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof Jm||this instanceof Zm||(r.tabIndex=0);const{style:a}=r;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof ob){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,r),r}const{width:o,height:s}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--total-scale-factor)) / calc(${n}px * var(--total-scale-factor))`;a.borderRadius=t}else if(this instanceof ib){const e=`calc(${o}px * var(--total-scale-factor)) / calc(${s}px * var(--total-scale-factor))`;a.borderRadius=e}switch(t.borderStyle.style){case sp:a.borderStyle="solid";break;case cp:a.borderStyle="dashed";break;case lp:case dp:break;case hp:a.borderBottomStyle="solid"}const i=t.borderColor||null;i?(this.#qr=!0,a.borderColor=Bp.makeHexColor(0|i[0],0|i[1],0|i[2])):a.borderWidth=0}const c=Bp.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:l,pageHeight:d,pageX:h,pageY:u}=i.rawDims;a.left=100*(c[0]-h)/l+"%",a.top=100*(c[1]-u)/d+"%";const{rotation:p}=t;return t.hasOwnCanvas||0===p?(a.width=100*o/l+"%",a.height=100*s/d+"%"):this.setRotation(p,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:r,height:a}=this;e%180!=0&&([r,a]=[a,r]),t.style.width=100*r/n+"%",t.style.height=100*a/i+"%",t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const i=n.detail[e],r=i[0],a=i.slice(1);n.target.style[t]=zm[`${r}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[t]:zm[`${r}_rgb`](a)})};return Ep(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2==1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const r=e[i]||n[i];r?.(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,r]of Object.entries(t)){const a=n[i];if(a){a({detail:{[i]:r},target:e}),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,r]=this.data.rect.map(e=>Math.fround(e));if(8===e.length){const[a,o,s,c]=e.subarray(2,6);if(i===a&&r===o&&t===s&&n===c)return}const{style:a}=this.container;let o;if(this.#qr){const{borderColor:e,borderWidth:t}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${e}" stroke-width="${t}">`],this.container.classList.add("hasBorder")}const s=i-t,c=r-n,{svgFactory:l}=this,d=l.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const h=l.createElement("defs");d.append(h);const u=l.createElement("clipPath"),p=`clippath_${this.data.id}`;u.setAttribute("id",p),u.setAttribute("clipPathUnits","objectBoundingBox"),h.append(u);for(let f=2,g=e.length;f<g;f+=8){const n=e[f],i=e[f+1],a=e[f+2],d=e[f+3],h=l.createElement("rect"),p=(a-t)/s,g=(r-i)/c,m=(n-a)/s,b=(i-d)/c;h.setAttribute("x",p),h.setAttribute("y",g),h.setAttribute("width",m),h.setAttribute("height",b),u.append(h),o?.push(`<rect vector-effect="non-scaling-stroke" x="${p}" y="${g}" width="${m}" height="${b}"/>`)}this.#qr&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${p})`}_createPopup(e=null){const{data:t}=this;let n,i;e?(n={str:e.text},i=e.date):(n=t.contentsObj,i=t.modificationDate);const r=this.#zr=new ob({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent.div.append(r.render())}get hasPopupElement(){return!!(this.#zr||this.popup||this.data.popupRef)}render(){wp("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:r,exportValues:a}of i){if(-1===e)continue;if(r===t)continue;const i="string"==typeof a?a:null,o=document.querySelector(`[data-element-id="${r}"]`);!o||$m.has(o)?n.push({id:r,exportValue:i,domElement:o}):_p()}return n}for(const i of document.getElementsByName(e)){const{exportValue:e}=i,r=i.getAttribute("data-element-id");r!==t&&($m.has(i)&&n.push({id:r,exportValue:e,domElement:i}))}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Zm extends Ym{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(n,e.action,e.overlaidText),i=!0):e.attachment?(this.#Gr(n,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#$r(n,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(n,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),i=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}#Kr(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,n=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&this.#Kr(),n&&(e.title=n)}_bindNamedAction(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),n&&(e.title=n),this.#Kr()}#Gr(e,t,n="",i=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:n&&(e.title=n),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,i),!1),this.#Kr()}#$r(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),n&&(e.title=n),this.#Kr()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const r=n.get(i);r&&(e[r]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#Kr()}_bindResetFormAction(e,t){const n=e.onclick;n||(e.href=this.linkService.getAnchorUrl("")),this.#Kr(),this._fieldObjects?e.onclick=()=>{n?.();const{fields:e,refs:i,include:r}=t,a=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===r&&a.push(n)}else for(const t of Object.values(this._fieldObjects))a.push(...t);const o=this.annotationStorage,s=[];for(const t of a){const{id:e}=t;switch(s.push(e),t.type){case"text":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;o.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${e}"]`);n&&($m.has(n)?n.dispatchEvent(new Event("resetform")):_p())}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:s,name:"ResetForm"}}),!1}:n||(e.onclick=()=>!1)}}class Qm extends Ym{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Jm extends Ym{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&("CANVAS"===e.previousSibling?.nodeName&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Mp.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,r){n.includes("mouse")?e.addEventListener(n,e=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})}):e.addEventListener(n,e=>{if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}r&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(e)}})})}_setEventListeners(e,t,n,i){for(const[r,a]of n)("Action"===a||this.data.actions?.[a])&&("Focus"!==a&&"Blur"!==a||(t||={focused:!1}),this._setEventListener(e,t,r,a,i),"Focus"!==a||this.data.actions?.Blur?"Blur"!==a||this.data.actions?.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":Bp.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,r=e.style;let a;const o=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(ju*i))||1);a=Math.min(i,o(t/ju))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);a=Math.min(i,o(e/ju))}r.fontSize=`calc(${a}px * var(--total-scale-factor))`,r.color=Bp.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class eb extends Jm{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,i){const r=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),r.setValue(a.id,{[i]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let r=i.value||"";const a=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;a&&r.length>a&&(r=r.slice(0,a));let o=i.formattedValue||this.data.textContent?.join("\n")||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));const s={userValue:r,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=o??r,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",o??r),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),$m.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:c,datetimeType:l,timeStep:d}=this.data,h=!!l&&this.enableScripting;c&&(n.title=c),this._setRequired(n,this.data.required),a&&(n.maxLength=a),n.addEventListener("input",i=>{e.setValue(t,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),s.formattedValue=null}),n.addEventListener("resetform",e=>{const t=this.data.defaultFieldValue??"";n.value=s.userValue=t,s.formattedValue=null});let u=e=>{const{formattedValue:t}=s;null!=t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",e=>{if(s.focused)return;const{target:t}=e;if(h&&(t.type=l,d&&(t.step=d)),s.userValue){const e=s.userValue;if(h)if("time"===l){const n=new Date(e),i=[n.getHours(),n.getMinutes(),n.getSeconds()];t.value=i.map(e=>e.toString().padStart(2,"0")).join(":")}else t.value=new Date(e-Km).toISOString().split("date"===l?"T":".",1)[0];else t.value=e}s.lastCommittedValue=t.value,s.commitKey=1,this.data.actions?.Focus||(s.focused=!0)}),n.addEventListener("updatefromsandbox",n=>{this.showElementAndHideCanvas(n.target);const i={value(n){s.userValue=n.detail.value??"",h||e.setValue(t,{value:s.userValue.toString()}),n.target.value=s.userValue},formattedValue(n){const{formattedValue:i}=n.detail;s.formattedValue=i,null!=i&&n.target!==document.activeElement&&(n.target.value=i);const r={formattedValue:i};h&&(r.value=i),e.setValue(t,r)},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{const{charLimit:i}=n.detail,{target:r}=n;if(0===i)return void r.removeAttribute("maxLength");r.setAttribute("maxLength",i);let a=s.userValue;!a||a.length<=i||(a=a.slice(0,i),r.value=s.userValue=a,e.setValue(t,{value:a}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,willCommit:!0,commitKey:1,selStart:r.selectionStart,selEnd:r.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)}),n.addEventListener("keydown",e=>{s.commitKey=1;let n=-1;if("Escape"===e.key?n=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(s.commitKey=3):n=2,-1===n)return;const{value:i}=e.target;s.lastCommittedValue!==i&&(s.lastCommittedValue=i,s.userValue=i,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});const i=u;u=null,n.addEventListener("blur",e=>{if(!s.focused||!e.relatedTarget)return;this.data.actions?.Blur||(s.focused=!1);const{target:n}=e;let{value:r}=n;if(h){if(r&&"time"===l){const e=r.split(":").map(e=>parseInt(e,10));r=new Date(2e3,0,1,e[0],e[1],e[2]||0).valueOf(),n.step=""}else r=new Date(r).valueOf();n.type="text"}s.userValue=r,s.lastCommittedValue!==r&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:s.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}),i(e)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",e=>{s.lastCommittedValue=null;const{data:n,target:i}=e,{value:r,selectionStart:a,selectionEnd:o}=i;let c=a,l=o;switch(e.inputType){case"deleteWordBackward":{const e=r.substring(0,a).match(/\w*[^\w]*$/);e&&(c-=e[0].length);break}case"deleteWordForward":{const e=r.substring(a).match(/^[^\w]*\w*/);e&&(l+=e[0].length);break}case"deleteContentBackward":a===o&&(c-=1);break;case"deleteContentForward":a===o&&(l+=1)}e.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,change:n||"",willCommit:!1,selStart:c,selEnd:l}})}),this._setEventListeners(n,s,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.value)}if(u&&n.addEventListener("blur",u),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/a;n.classList.add("comb"),n.style.letterSpacing=`calc(${e}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class tb extends Jm{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class nb extends Jm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"==typeof i&&(i="Off"!==i,e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return $m.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=0,r.addEventListener("change",i=>{const{name:r,checked:a}=i.target;for(const o of this._getElementsByName(r,n)){const n=a&&o.exportValue===t.exportValue;o.domElement&&(o.domElement.checked=n),e.setValue(o.id,{value:n})}e.setValue(n,{value:a})}),r.addEventListener("resetform",e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",t=>{const i={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(i,t)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class ib extends Jm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"==typeof i&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const r=document.createElement("input");if($m.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",t=>{const{name:i,checked:r}=t.target;for(const a of this._getElementsByName(i,n))e.setValue(a.id,{value:!1});e.setValue(n,{value:r})}),r.addEventListener("resetform",e=>{const n=t.defaultFieldValue;e.target.checked=null!=n&&n===t.buttonValue}),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;r.addEventListener("updatefromsandbox",t=>{const r={value:t=>{const r=i===t.detail.value;for(const i of this._getElementsByName(t.target.name)){const t=r&&i.id===n;i.domElement&&(i.domElement.checked=t),e.setValue(i.id,{value:t})}}};this._dispatchEventFromSandbox(r,t)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class rb extends Zm{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),e}}class ab extends Jm{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");$m.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",e=>{const t=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===t});for(const l of this.data.options){const e=document.createElement("option");e.textContent=l.displayValue,e.value=l.exportValue,n.value.includes(l.exportValue)&&(e.setAttribute("selected",!0),r=!1),i.append(e)}let a=null;if(r){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),i.prepend(e),a=()=>{e.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=e=>{const t=e?"value":"textContent",{options:n,multiple:r}=i;return r?Array.prototype.filter.call(n,e=>e.selected).map(e=>e[t]):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let s=o(!1);const c=e=>{const t=e.target.options;return Array.prototype.map.call(t,e=>({displayValue:e.textContent,exportValue:e.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",n=>{const r={value(n){a?.();const r=n.detail.value,c=new Set(Array.isArray(r)?r:[r]);for(const e of i.options)e.selected=c.has(e.value);e.setValue(t,{value:o(!0)}),s=o(!1)},multipleSelection(e){i.multiple=!0},remove(n){const r=i.options,a=n.detail.remove;if(r[a].selected=!1,i.remove(a),r.length>0){const e=Array.prototype.findIndex.call(r,e=>e.selected);-1===e&&(r[0].selected=!0)}e.setValue(t,{value:o(!0),items:c(n)}),s=o(!1)},clear(n){for(;0!==i.length;)i.remove(0);e.setValue(t,{value:null,items:[]}),s=o(!1)},insert(n){const{index:r,displayValue:a,exportValue:l}=n.detail.insert,d=i.children[r],h=document.createElement("option");h.textContent=a,h.value=l,d?d.before(h):i.append(h),e.setValue(t,{value:o(!0),items:c(n)}),s=o(!1)},items(n){const{items:r}=n.detail;for(;0!==i.length;)i.remove(0);for(const e of r){const{displayValue:t,exportValue:n}=e,r=document.createElement("option");r.textContent=t,r.value=n,i.append(r)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:c(n)}),s=o(!1)},indices(n){const i=new Set(n.detail.indices);for(const e of n.target.options)e.selected=i.has(e.index);e.setValue(t,{value:o(!0)}),s=o(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(r,n)}),i.addEventListener("input",n=>{const i=o(!0),r=o(!1);e.setValue(t,{value:i}),n.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,change:r,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],e=>e.target.value)):i.addEventListener("input",function(n){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class ob extends Ym{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:Ym._hasPopupData(t)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new sb({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,eventBus:this.linkService.eventBus}),n=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(e=>`${qp}${e}`).join(",")),this.container}}class sb{#Xr=this.#Mr.bind(this);#Yr=this.#Zr.bind(this);#Qr=this.#Jr.bind(this);#ea=this.#ta.bind(this);#na=null;#xe=null;#ia=null;#ra=null;#aa=null;#Fr=null;#oa=null;#sa=null;#ca=!1;#la=null;#da=null;#C=null;#rt=null;#ha=null;#ua=null;#pa=null;#fa=null;#ga=null;#Wr=null;#ma=!1;constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:r,contentsObj:a,richText:o,parent:s,rect:c,parentRect:l,open:d,eventBus:h=null}){this.#xe=e,this.#ga=i,this.#ia=a,this.#fa=o,this.#oa=s,this.#na=t,this.#pa=c,this.#sa=l,this.#aa=n,this.#Fr=h,this.#ra=nf.toDateObject(r),this.trigger=n.flatMap(e=>e.getElementsToTriggerPopup()),this.#ba(),this.#xe.hidden=!0,d&&this.#ta()}#ba(){if(this.#da)return;this.#da=new AbortController;const{signal:e}=this.#da;for(const t of this.trigger)t.addEventListener("click",this.#ea,{signal:e}),t.addEventListener("mouseenter",this.#Qr,{signal:e}),t.addEventListener("mouseleave",this.#Yr,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#aa)t.container?.addEventListener("keydown",this.#Xr,{signal:e});this.#ya()}#va(){const e=this.#aa.find(e=>e.hasCommentButton);e&&(this.#ha=e._normalizePoint(e.commentButtonPosition),this.#ua=e.commentButtonColor)}#ya(){if(this.#rt)return;if(this.#ha||this.#va(),!this.#ha)return;const e=this.#rt=document.createElement("button");e.className="annotationCommentButton";const t=this.#aa[0].container;e.style.zIndex=t.style.zIndex+1,e.tabIndex=0;const{signal:n}=this.#da;e.addEventListener("hover",this.#ea,{signal:n}),e.addEventListener("keydown",this.#Xr,{signal:n}),e.addEventListener("click",()=>{const[{data:{id:e},annotationEditorType:t}]=this.#aa;this.#Fr?.dispatch("switchannotationeditormode",{source:this,editId:e,mode:t,editComment:!0})},{signal:n});const{style:i}=e;i.left=`calc(${this.#ha[0]}%)`,i.top=`calc(${this.#ha[1]}% - var(--comment-button-dim))`,this.#ua&&(i.backgroundColor=this.#ua),t.after(e)}render(){if(this.#la)return;const e=this.#la=document.createElement("div");if(e.className="popup",this.#na){const t=e.style.outlineColor=Bp.makeHexColor(...this.#na);e.style.backgroundColor=`color-mix(in srgb, ${t} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#ga?.str){const e=document.createElement("span");e.className="title",t.append(e),({dir:e.dir,str:e.textContent}=this.#ga)}if(e.append(t),this.#ra){const e=document.createElement("time");e.className="popupDate",e.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),e.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#ra.valueOf()})),e.dateTime=this.#ra.toISOString(),t.append(e)}const n=this.#xa;if(n)Gm.render({xfaHtml:n,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(this.#ia);e.append(t)}this.#xe.append(e)}get#xa(){const e=this.#fa,t=this.#ia;return!e?.str||t?.str&&t.str!==e.str?null:this.#fa.html||null}get#_a(){return this.#xa?.attributes?.style?.fontSize||0}get#wa(){return this.#xa?.attributes?.style?.color||null}#Da(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#wa,fontSize:this.#_a?`calc(${this.#_a}px * var(--total-scale-factor))`:""}};for(const r of e.split("\n"))t.push({name:"span",value:r,attributes:i});return n}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let r=0,a=i.length;r<a;++r){const e=i[r];n.append(document.createTextNode(e)),r<a-1&&n.append(document.createElement("br"))}return n}#Mr(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&this.#ca)&&this.#ta()}updateEdited({rect:e,popup:t,deleted:n}){n||t?.deleted?this.remove():(this.#ba(),this.#Wr||={contentsObj:this.#ia,richText:this.#fa},e&&(this.#C=null),t&&(this.#fa=this.#Da(t.text),this.#ra=nf.toDateObject(t.date),this.#ia=null),this.#la?.remove(),this.#la=null)}resetEdited(){this.#Wr&&(({contentsObj:this.#ia,richText:this.#fa}=this.#Wr),this.#Wr=null,this.#la?.remove(),this.#la=null,this.#C=null)}remove(){this.#da?.abort(),this.#da=null,this.#la?.remove(),this.#la=null,this.#ma=!1,this.#ca=!1;for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#Ta(){if(null!==this.#C)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:r}}}=this.#oa;let a=!!this.#sa,o=a?this.#sa:this.#pa;for(const u of this.#aa)if(!o||null!==Bp.intersect(u.data.rect,o)){o=u.data.rect,a=!0;break}const s=Bp.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),c=a?o[2]-o[0]+5:0,l=s[0]+c,d=s[1];this.#C=[100*(l-i)/t,100*(d-r)/n];const{style:h}=this.#xe;h.left=`${this.#C[0]}%`,h.top=`${this.#C[1]}%`}#ta(){this.#ca=!this.#ca,this.#ca?(this.#Jr(),this.#xe.addEventListener("click",this.#ea),this.#xe.addEventListener("keydown",this.#Xr)):(this.#Zr(),this.#xe.removeEventListener("click",this.#ea),this.#xe.removeEventListener("keydown",this.#Xr))}#Jr(){this.#la||this.render(),this.isVisible?this.#ca&&this.#xe.classList.add("focused"):(this.#Ta(),this.#xe.hidden=!1,this.#xe.style.zIndex=parseInt(this.#xe.style.zIndex)+1e3)}#Zr(){this.#xe.classList.remove("focused"),!this.#ca&&this.isVisible&&(this.#xe.hidden=!0,this.#xe.style.zIndex=parseInt(this.#xe.style.zIndex)-1e3)}forceHide(){this.#ma=this.isVisible,this.#ma&&(this.#xe.hidden=!0)}maybeShow(){this.#ba(),this.#ma&&(this.#la||this.#Jr(),this.#ma=!1,this.#xe.hidden=!1)}get isVisible(){return!1===this.#xe.hidden}}class cb extends Ym{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Zu.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class lb extends Ym{#Aa=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),r=this.#Aa=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Aa}addHighlightArea(){this.container.classList.add("highlightArea")}}class db extends Ym{#Ea=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,a=this.#Ea=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",r/2),a.setAttribute("y",r/2),a.setAttribute("width",t-r),a.setAttribute("height",n-r),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Ea}addHighlightArea(){this.container.classList.add("highlightArea")}}class hb extends Ym{#Ca=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,a=this.#Ca=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-r/2),a.setAttribute("ry",n/2-r/2),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#Ca}addHighlightArea(){this.container.classList.add("highlightArea")}}class ub extends Ym{#ka=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:i},width:r,height:a}=this;if(!t)return this.container;const o=this.svgFactory.create(r,a,!0);let s=[];for(let l=0,d=t.length;l<d;l+=2){const n=t[l]-e[0],i=e[3]-t[l+1];s.push(`${n},${i}`)}s=s.join(" ");const c=this.#ka=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",s),c.setAttribute("stroke-width",n.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#ka}addHighlightArea(){this.container.classList.add("highlightArea")}}class pb extends ub{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class fb extends Ym{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class gb extends Ym{#Sa=null;#Ua=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?Zu.HIGHLIGHT:Zu.INK}#Oa(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:i,popupRef:r}}=this,{transform:a,width:o,height:s}=this.#Oa(t,e),c=this.svgFactory.create(o,s,!0),l=this.#Sa=this.svgFactory.createElement("svg:g");c.append(l),l.setAttribute("stroke-width",i.width||1),l.setAttribute("stroke-linecap","round"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit",10),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),l.setAttribute("transform",a);for(let d=0,h=n.length;d<h;d++){const e=this.svgFactory.createElement(this.svgElementName);this.#Ua.push(e),e.setAttribute("points",n[d].join(",")),l.append(e)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:i}=e,r=this.#Sa;if(t>=0&&r.setAttribute("stroke-width",t||1),n)for(let a=0,o=this.#Ua.length;a<o;a++)this.#Ua[a].setAttribute("points",n[a].join(","));if(i){const{transform:e,width:t,height:n}=this.#Oa(this.data.rotation,i);r.parentElement.setAttribute("viewBox",`0 0 ${t} ${n}`),r.setAttribute("transform",e)}}getElementsToTriggerPopup(){return this.#Ua}addHighlightArea(){this.container.classList.add("highlightArea")}get commentButtonPosition(){const{inkLists:e,rect:t}=this.data;if(e?.length>=1){let t=-1/0,n=-1/0;for(const i of e)for(let e=0,r=i.length;e<r;e+=2)i[e+1]>n?(n=i[e+1],t=i[e]):i[e+1]===n&&(t=Math.max(t,i[e]));if(t!==1/0)return[t,n]}return t?[t[2],t[3]]:null}}class mb extends Ym{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Zu.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const t=document.createElement("mark");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class bb extends Ym{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const t=document.createElement("u");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class yb extends Ym{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const t=document.createElement("u");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class vb extends Ym{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const t=document.createElement("s");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class xb extends Ym{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Zu.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class _b extends Ym{#Fa=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),n.addEventListener("dblclick",this.#Na.bind(this)),this.#Fa=n;const{isMac:i}=Mp.platform;return e.addEventListener("keydown",e=>{"Enter"===e.key&&(i?e.metaKey:e.ctrlKey)&&this.#Na()}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return this.#Fa}addHighlightArea(){this.container.classList.add("highlightArea")}#Na(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class wb{#Pa=null;#Ia=null;#Ma=new Map;#Ra=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:r,viewport:a,structTreeLayer:o}){this.div=e,this.#Pa=t,this.#Ia=n,this.#Ra=o||null,this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return this.#Ma.size>0}async#Ba(e,t,n){const i=e.firstChild||e,r=i.id=`${qp}${t}`,a=await(this.#Ra?.getAriaAttributes(r));if(a)for(const[o,s]of a)i.setAttribute(o,s);n?n.at(-1).container.after(e):(this.div.append(e),this.#Pa?.moveElementInDOM(this.div,e,i,!1))}async render(e){const{annotations:t}=e,n=this.div;sf(n,this.viewport);const i=new Map,r={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new Vm,annotationStorage:e.annotationStorage||new Sf,enableComment:!0===e.enableComment,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const e=a.annotationType===op.POPUP;if(e){const e=i.get(a.id);if(!e)continue;r.elements=e}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;r.data=a;const t=Xm.create(r);if(!t.isRenderable)continue;if(!e&&a.popupRef){const e=i.get(a.popupRef);e?e.push(t):i.set(a.popupRef,[t])}const n=t.render();a.hidden&&(n.style.visibility="hidden"),await this.#Ba(n,a.id,r.elements),t._isEditable&&(this.#Ma.set(t.data.id,t),this._annotationEditorUIManager?.renderAnnotationElement(t))}this.#La()}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new Vm,parent:this};for(const i of e){i.borderStyle||=wb._defaultBorderStyle,n.data=i;const e=Xm.create(n);if(!e.isRenderable)continue;const t=e.render();await this.#Ba(t,i.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,sf(t,{rotation:e.rotation}),this.#La(),t.hidden=!1}#La(){if(!this.#Ia)return;const e=this.div;for(const[t,n]of this.#Ia){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:r}=i;r?"CANVAS"===r.nodeName?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):i.append(n);const a=this.#Ma.get(t);a&&(a._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,i.id,n),a._hasNoCanvas=!1):a.canvas=n)}this.#Ia.clear()}getEditableAnnotations(){return Array.from(this.#Ma.values())}getEditableAnnotation(e){return this.#Ma.get(e)}static get _defaultBorderStyle(){return Ep(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:sp,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Db=/\r\n?|\n/g;class Tb extends wf{#na;#ja="";#Wa=`${this.id}-editor`;#qa=null;#_a;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Tb.prototype,t=e=>e.isEmpty(),n=yf.TRANSLATE_SMALL,i=yf.TRANSLATE_BIG;return Ep(this,"_keyboardManager",new mf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=Zu.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#na=e.color||Tb._defaultColor||wf._defaultLineColor,this.#_a=e.fontSize||Tb._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){wf.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Qu.FREETEXT_SIZE:Tb._defaultFontSize=t;break;case Qu.FREETEXT_COLOR:Tb._defaultColor=t}}updateParams(e,t){switch(e){case Qu.FREETEXT_SIZE:this.#za(t);break;case Qu.FREETEXT_COLOR:this.#Ha(t)}}static get defaultPropertiesToUpdate(){return[[Qu.FREETEXT_SIZE,Tb._defaultFontSize],[Qu.FREETEXT_COLOR,Tb._defaultColor||wf._defaultLineColor]]}get propertiesToUpdate(){return[[Qu.FREETEXT_SIZE,this.#_a],[Qu.FREETEXT_COLOR,this.#na]]}get toolbarButtons(){return this._colorPicker||=new jm(this),[["colorPicker",this._colorPicker]]}get colorType(){return Qu.FREETEXT_COLOR}get colorValue(){return this.#na}#za(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--total-scale-factor))`,this.translate(0,-(e-this.#_a)*this.parentScale),this.#_a=e,this.#Va()},n=this.#_a;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qu.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#Ha(e){const t=e=>{this.#na=this.editorDiv.style.color=e,this._colorPicker?.update(e)},n=this.#na;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qu.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Tb._internalPadding*e,-(Tb._internalPadding+this.#_a)*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#qa=new AbortController;const e=this._uiManager.combinedSignal(this.#qa);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#Wa),this._isDraggable=!0,this.#qa?.abort(),this.#qa=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#Ga(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&"BR"===n.nodeName||(e.push(Tb.#$a(n)),t=n);return e.join("\n")}#Va(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,i=t.style.display,r=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=i,t.classList.toggle("hidden",r)}this.rotation%180==this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#ja,t=this.#ja=this.#Ga().trimEnd();if(e===t)return;const n=e=>{this.#ja=e,e?(this.#Ka(),this._uiManager.rebuild(this),this.#Va()):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),this.#Va()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Tb._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#Wa),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#_a}px * var(--total-scale-factor))`,n.color=this.#na,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:r}=this._initialData;let[a,o]=this.getInitialTranslation();[a,o]=this.pageTranslationToScreen(a,o);const[s,c]=this.pageDimensions,[l,d]=this.pageTranslation;let h,u;switch(this.rotation){case 0:h=e+(r[0]-l)/s,u=t+this.height-(r[1]-d)/c;break;case 90:h=e+(r[0]-l)/s,u=t-(r[1]-d)/c,[a,o]=[o,-a];break;case 180:h=e-this.width+(r[0]-l)/s,u=t-(r[1]-d)/c,[a,o]=[-a,-o];break;case 270:h=e+(r[0]-l-this.height*c)/s,u=t+(r[1]-d-this.width*s)/c,[a,o]=[-o,a]}this.setAt(h*n,u*i,a,o)}else this._moveAfterPaste(e,t);this.#Ka(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#$a(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Db,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const i=Tb.#Xa(t.getData("text")||"").replaceAll(Db,"\n");if(!i)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const a=r.getRangeAt(0);if(!i.includes("\n"))return a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void r.collapseToStart();const{startContainer:o,startOffset:s}=a,c=[],l=[];if(o.nodeType===Node.TEXT_NODE){const e=o.parentElement;if(l.push(o.nodeValue.slice(s).replaceAll(Db,"")),e!==this.editorDiv){let t=c;for(const n of this.editorDiv.childNodes)n!==e?t.push(Tb.#$a(n)):t=l}c.push(o.nodeValue.slice(0,s).replaceAll(Db,""))}else if(o===this.editorDiv){let e=c,t=0;for(const n of this.editorDiv.childNodes)t++===s&&(e=l),e.push(Tb.#$a(n))}this.#ja=`${c.join("\n")}${i}${l.join("\n")}`,this.#Ka();const d=new Range;let h=Math.sumPrecise(c.map(e=>e.length));for(const{firstChild:u}of this.editorDiv.childNodes)if(u.nodeType===Node.TEXT_NODE){const e=u.nodeValue.length;if(h<=e){d.setStart(u,h),d.setEnd(u,h);break}h-=e}r.removeAllRanges(),r.addRange(d)}#Ka(){if(this.editorDiv.replaceChildren(),this.#ja)for(const e of this.#ja.split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#Ya(){return this.#ja.replaceAll(" "," ")}static#Xa(e){return e.replaceAll(" "," ")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Tb._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,n){let i=null;if(e instanceof cb){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:r,rotation:a,id:o,popupRef:s,contentsObj:c},textContent:l,textPosition:d,parent:{page:{pageNumber:h}}}=e;if(!l||0===l.length)return null;i=e={annotationType:Zu.FREETEXT,color:Array.from(n),fontSize:t,value:l.join("\n"),position:d,pageIndex:h-1,rect:r.slice(0),rotation:a,annotationElementId:o,id:o,deleted:!1,popupRef:s,comment:c?.str||null}}const r=await super.deserialize(e,t,n);return r.#_a=e.fontSize,r.#na=Bp.makeHexColor(...e.color),r.#ja=Tb.#Xa(e.value),r._initialData=i,e.comment&&r.setCommentData(e.comment),r}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=this.getPDFRect(),n=wf._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#na),i={annotationType:Zu.FREETEXT,color:n,fontSize:this.#_a,value:this.#Ya(),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(i),e?(i.isCopy=!0,i):this.annotationElementId&&!this.#Za(i)?null:(i.id=this.annotationElementId,i)}#Za(e){const{value:t,fontSize:n,color:i,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((e,t)=>e!==i[t])||e.pageIndex!==r}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:n}=t;n.fontSize=`calc(${this.#_a}px * var(--total-scale-factor))`,n.color=this.#na,t.replaceChildren();for(const r of this.#ja.split("\n")){const e=document.createElement("div");e.append(r?document.createTextNode(r):document.createElement("br")),t.append(e)}const i={rect:this.getPDFRect()};return i.popup=this.hasEditedComment?this.comment:{text:this.#ja},e.updateEdited(i),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Ab{static PRECISION=1e-4;toSVGPath(){wp("Abstract method `toSVGPath` must be implemented.")}get box(){wp("Abstract getter `box` must be implemented.")}serialize(e,t){wp("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,r,a){a||=new Float32Array(e.length);for(let o=0,s=e.length;o<s;o+=2)a[o]=t+e[o]*i,a[o+1]=n+e[o+1]*r;return a}static _rescaleAndSwap(e,t,n,i,r,a){a||=new Float32Array(e.length);for(let o=0,s=e.length;o<s;o+=2)a[o]=t+e[o+1]*i,a[o+1]=n+e[o]*r;return a}static _translate(e,t,n,i){i||=new Float32Array(e.length);for(let r=0,a=e.length;r<a;r+=2)i[r]=t+e[r],i[r+1]=n+e[r+1];return i}static svgRound(e){return Math.round(1e4*e)}static _normalizePoint(e,t,n,i,r){switch(r){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,r,a){return[(e+5*n)/6,(t+5*i)/6,(5*n+r)/6,(5*i+a)/6,(n+r)/2,(i+a)/2]}}class Eb{#Qa;#Ja=[];#eo;#to;#no=[];#io=new Float32Array(18);#ro;#ao;#oo;#so;#co;#lo;#do=[];static#ho=8;static#uo=2;static#po=Eb.#ho+Eb.#uo;constructor({x:e,y:t},n,i,r,a,o=0){this.#Qa=n,this.#lo=r*i,this.#to=a,this.#io.set([NaN,NaN,NaN,NaN,e,t],6),this.#eo=o,this.#so=Eb.#ho*i,this.#oo=Eb.#po*i,this.#co=i,this.#do.push(e,t)}isEmpty(){return isNaN(this.#io[8])}#fo(){const e=this.#io.subarray(4,6),t=this.#io.subarray(16,18),[n,i,r,a]=this.#Qa;return[(this.#ro+(e[0]-t[0])/2-n)/r,(this.#ao+(e[1]-t[1])/2-i)/a,(this.#ro+(t[0]-e[0])/2-n)/r,(this.#ao+(t[1]-e[1])/2-i)/a]}add({x:e,y:t}){this.#ro=e,this.#ao=t;const[n,i,r,a]=this.#Qa;let[o,s,c,l]=this.#io.subarray(8,12);const d=e-c,h=t-l,u=Math.hypot(d,h);if(u<this.#oo)return!1;const p=u-this.#so,f=p/u,g=f*d,m=f*h;let b=o,y=s;o=c,s=l,c+=g,l+=m,this.#do?.push(e,t);const v=g/p,x=-m/p*this.#lo,_=v*this.#lo;if(this.#io.set(this.#io.subarray(2,8),0),this.#io.set([c+x,l+_],4),this.#io.set(this.#io.subarray(14,18),12),this.#io.set([c-x,l-_],16),isNaN(this.#io[6]))return 0===this.#no.length&&(this.#io.set([o+x,s+_],2),this.#no.push(NaN,NaN,NaN,NaN,(o+x-n)/r,(s+_-i)/a),this.#io.set([o-x,s-_],14),this.#Ja.push(NaN,NaN,NaN,NaN,(o-x-n)/r,(s-_-i)/a)),this.#io.set([b,y,o,s,c,l],6),!this.isEmpty();this.#io.set([b,y,o,s,c,l],6);return Math.abs(Math.atan2(y-s,b-o)-Math.atan2(m,g))<Math.PI/2?([o,s,c,l]=this.#io.subarray(2,6),this.#no.push(NaN,NaN,NaN,NaN,((o+c)/2-n)/r,((s+l)/2-i)/a),[o,s,b,y]=this.#io.subarray(14,18),this.#Ja.push(NaN,NaN,NaN,NaN,((b+o)/2-n)/r,((y+s)/2-i)/a),!0):([b,y,o,s,c,l]=this.#io.subarray(0,6),this.#no.push(((b+5*o)/6-n)/r,((y+5*s)/6-i)/a,((5*o+c)/6-n)/r,((5*s+l)/6-i)/a,((o+c)/2-n)/r,((s+l)/2-i)/a),[c,l,o,s,b,y]=this.#io.subarray(12,18),this.#Ja.push(((b+5*o)/6-n)/r,((y+5*s)/6-i)/a,((5*o+c)/6-n)/r,((5*s+l)/6-i)/a,((o+c)/2-n)/r,((s+l)/2-i)/a),!0)}toSVGPath(){if(this.isEmpty())return"";const e=this.#no,t=this.#Ja;if(isNaN(this.#io[6])&&!this.isEmpty())return this.#go();const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#mo(n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return this.#bo(n),n.join(" ")}#go(){const[e,t,n,i]=this.#Qa,[r,a,o,s]=this.#fo();return`M${(this.#io[2]-e)/n} ${(this.#io[3]-t)/i} L${(this.#io[4]-e)/n} ${(this.#io[5]-t)/i} L${r} ${a} L${o} ${s} L${(this.#io[16]-e)/n} ${(this.#io[17]-t)/i} L${(this.#io[14]-e)/n} ${(this.#io[15]-t)/i} Z`}#bo(e){const t=this.#Ja;e.push(`L${t[4]} ${t[5]} Z`)}#mo(e){const[t,n,i,r]=this.#Qa,a=this.#io.subarray(4,6),o=this.#io.subarray(16,18),[s,c,l,d]=this.#fo();e.push(`L${(a[0]-t)/i} ${(a[1]-n)/r} L${s} ${c} L${l} ${d} L${(o[0]-t)/i} ${(o[1]-n)/r}`)}newFreeDrawOutline(e,t,n,i,r,a){return new Cb(e,t,n,i,r,a)}getOutlines(){const e=this.#no,t=this.#Ja,n=this.#io,[i,r,a,o]=this.#Qa,s=new Float32Array((this.#do?.length??0)+2);for(let d=0,h=s.length-2;d<h;d+=2)s[d]=(this.#do[d]-i)/a,s[d+1]=(this.#do[d+1]-r)/o;if(s[s.length-2]=(this.#ro-i)/a,s[s.length-1]=(this.#ao-r)/o,isNaN(n[6])&&!this.isEmpty())return this.#yo(s);const c=new Float32Array(this.#no.length+24+this.#Ja.length);let l=e.length;for(let d=0;d<l;d+=2)isNaN(e[d])?c[d]=c[d+1]=NaN:(c[d]=e[d],c[d+1]=e[d+1]);l=this.#vo(c,l);for(let d=t.length-6;d>=6;d-=6)for(let e=0;e<6;e+=2)isNaN(t[d+e])?(c[l]=c[l+1]=NaN,l+=2):(c[l]=t[d+e],c[l+1]=t[d+e+1],l+=2);return this.#xo(c,l),this.newFreeDrawOutline(c,s,this.#Qa,this.#co,this.#eo,this.#to)}#yo(e){const t=this.#io,[n,i,r,a]=this.#Qa,[o,s,c,l]=this.#fo(),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-n)/r,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-n)/r,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,s,NaN,NaN,NaN,NaN,c,l,NaN,NaN,NaN,NaN,(t[16]-n)/r,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-n)/r,(t[15]-i)/a],0),this.newFreeDrawOutline(d,e,this.#Qa,this.#co,this.#eo,this.#to)}#xo(e,t){const n=this.#Ja;return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+6}#vo(e,t){const n=this.#io.subarray(4,6),i=this.#io.subarray(16,18),[r,a,o,s]=this.#Qa,[c,l,d,h]=this.#fo();return e.set([NaN,NaN,NaN,NaN,(n[0]-r)/o,(n[1]-a)/s,NaN,NaN,NaN,NaN,c,l,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(i[0]-r)/o,(i[1]-a)/s],t),t+24}}class Cb extends Ab{#Qa;#_o=new Float32Array(4);#eo;#to;#do;#co;#wo;constructor(e,t,n,i,r,a){super(),this.#wo=e,this.#do=t,this.#Qa=n,this.#co=i,this.#eo=r,this.#to=a,this.lastPoint=[NaN,NaN],this.#Do(a);const[o,s,c,l]=this.#_o;for(let d=0,h=e.length;d<h;d+=2)e[d]=(e[d]-o)/c,e[d+1]=(e[d+1]-s)/l;for(let d=0,h=t.length;d<h;d+=2)t[d]=(t[d]-o)/c,t[d+1]=(t[d+1]-s)/l}toSVGPath(){const e=[`M${this.#wo[4]} ${this.#wo[5]}`];for(let t=6,n=this.#wo.length;t<n;t+=6)isNaN(this.#wo[t])?e.push(`L${this.#wo[t+4]} ${this.#wo[t+5]}`):e.push(`C${this.#wo[t]} ${this.#wo[t+1]} ${this.#wo[t+2]} ${this.#wo[t+3]} ${this.#wo[t+4]} ${this.#wo[t+5]}`);return e.push("Z"),e.join(" ")}serialize([e,t,n,i],r){const a=n-e,o=i-t;let s,c;switch(r){case 0:s=Ab._rescale(this.#wo,e,i,a,-o),c=Ab._rescale(this.#do,e,i,a,-o);break;case 90:s=Ab._rescaleAndSwap(this.#wo,e,t,a,o),c=Ab._rescaleAndSwap(this.#do,e,t,a,o);break;case 180:s=Ab._rescale(this.#wo,n,t,-a,o),c=Ab._rescale(this.#do,n,t,-a,o);break;case 270:s=Ab._rescaleAndSwap(this.#wo,n,i,-a,-o),c=Ab._rescaleAndSwap(this.#do,n,i,-a,-o)}return{outline:Array.from(s),points:[Array.from(c)]}}#Do(e){const t=this.#wo;let n=t[4],i=t[5];const r=[n,i,n,i];let a=n,o=i;const s=e?Math.max:Math.min;for(let l=6,d=t.length;l<d;l+=6){const e=t[l+4],c=t[l+5];if(isNaN(t[l]))Bp.pointBoundingBox(e,c,r),o<c?(a=e,o=c):o===c&&(a=s(a,e));else{const e=[1/0,1/0,-1/0,-1/0];Bp.bezierBoundingBox(n,i,...t.slice(l,l+6),e),Bp.rectBoundingBox(...e,r),o<e[3]?(a=e[2],o=e[3]):o===e[3]&&(a=s(a,e[2]))}n=e,i=c}const c=this.#_o;c[0]=r[0]-this.#eo,c[1]=r[1]-this.#eo,c[2]=r[2]-r[0]+2*this.#eo,c[3]=r[3]-r[1]+2*this.#eo,this.lastPoint=[a,o]}get box(){return this.#_o}newOutliner(e,t,n,i,r,a=0){return new Eb(e,t,n,i,r,a)}getNewOutline(e,t){const[n,i,r,a]=this.#_o,[o,s,c,l]=this.#Qa,d=r*c,h=a*l,u=n*c+o,p=i*l+s,f=this.newOutliner({x:this.#do[0]*d+u,y:this.#do[1]*h+p},this.#Qa,this.#co,e,this.#to,t??this.#eo);for(let g=2;g<this.#do.length;g+=2)f.add({x:this.#do[g]*d+u,y:this.#do[g+1]*h+p});return f.getOutlines()}}class kb{#Qa;#To;#Ao=[];#Eo=[];constructor(e,t=0,n=0,i=!0){const r=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:u,y:p,width:f,height:g}of e){const e=Math.floor((u-t)/a)*a,n=Math.ceil((u+f+t)/a)*a,i=Math.floor((p-t)/a)*a,o=Math.ceil((p+g+t)/a)*a,s=[e,i,o,!0],c=[n,i,o,!1];this.#Ao.push(s,c),Bp.rectBoundingBox(e,i,n,o,r)}const o=r[2]-r[0]+2*n,s=r[3]-r[1]+2*n,c=r[0]-n,l=r[1]-n,d=this.#Ao.at(i?-1:-2),h=[d[0],d[2]];for(const u of this.#Ao){const[e,t,n]=u;u[0]=(e-c)/o,u[1]=(t-l)/s,u[2]=(n-l)/s}this.#Qa=new Float32Array([c,l,o,s]),this.#To=h}getOutlines(){this.#Ao.sort((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]);const e=[];for(const t of this.#Ao)t[3]?(e.push(...this.#Co(t)),this.#ko(t)):(this.#So(t),e.push(...this.#Co(t)));return this.#Uo(e)}#Uo(e){const t=[],n=new Set;for(const a of e){const[e,n,i]=a;t.push([e,n,a],[e,i,a])}t.sort((e,t)=>e[1]-t[1]||e[0]-t[0]);for(let a=0,o=t.length;a<o;a+=2){const e=t[a][2],i=t[a+1][2];e.push(i),i.push(e),n.add(e),n.add(i)}const i=[];let r;for(;n.size>0;){const e=n.values().next().value;let[t,a,o,s,c]=e;n.delete(e);let l=t,d=a;for(r=[t,o],i.push(r);;){let e;if(n.has(s))e=s;else{if(!n.has(c))break;e=c}n.delete(e),[t,a,o,s,c]=e,l!==t&&(r.push(l,d,t,d===a?a:o),l=t),d=d===a?o:a}r.push(l,d)}return new Sb(i,this.#Qa,this.#To)}#Oo(e){const t=this.#Eo;let n=0,i=t.length-1;for(;n<=i;){const r=n+i>>1,a=t[r][0];if(a===e)return r;a<e?n=r+1:i=r-1}return i+1}#ko([,e,t]){const n=this.#Oo(e);this.#Eo.splice(n,0,[e,t])}#So([,e,t]){const n=this.#Oo(e);for(let i=n;i<this.#Eo.length;i++){const[n,r]=this.#Eo[i];if(n!==e)break;if(n===e&&r===t)return void this.#Eo.splice(i,1)}for(let i=n-1;i>=0;i--){const[n,r]=this.#Eo[i];if(n!==e)break;if(n===e&&r===t)return void this.#Eo.splice(i,1)}}#Co(e){const[t,n,i]=e,r=[[t,n,i]],a=this.#Oo(i);for(let o=0;o<a;o++){const[e,n]=this.#Eo[o];for(let i=0,a=r.length;i<a;i++){const[,o,s]=r[i];if(!(n<=o||s<=e))if(o>=e)if(s>n)r[i][1]=n;else{if(1===a)return[];r.splice(i,1),i--,a--}else r[i][2]=e,s>n&&r.push([t,n,s])}}return r}}class Sb extends Ab{#Qa;#Fo;constructor(e,t,n){super(),this.#Fo=e,this.#Qa=t,this.lastPoint=n}toSVGPath(){const e=[];for(const t of this.#Fo){let[n,i]=t;e.push(`M${n} ${i}`);for(let r=2;r<t.length;r+=2){const a=t[r],o=t[r+1];a===n?(e.push(`V${o}`),i=o):o===i&&(e.push(`H${a}`),n=a)}e.push("Z")}return e.join(" ")}serialize([e,t,n,i],r){const a=[],o=n-e,s=i-t;for(const c of this.#Fo){const t=new Array(c.length);for(let n=0;n<c.length;n+=2)t[n]=e+c[n]*o,t[n+1]=i-c[n+1]*s;a.push(t)}return a}get box(){return this.#Qa}get classNamesForOutlining(){return["highlightOutline"]}}class Ub extends Eb{newFreeDrawOutline(e,t,n,i,r,a){return new Ob(e,t,n,i,r,a)}}class Ob extends Cb{newOutliner(e,t,n,i,r,a=0){return new Ub(e,t,n,i,r,a)}}class Fb extends wf{#No=null;#Po=0;#Io;#Mo=null;#r=null;#Ro=null;#Bo=null;#Lo=0;#jo=null;#Wo=null;#x=null;#qo=!1;#To=null;#zo;#Ho=null;#st="";#lo;#Vo="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Zu.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Fb.prototype;return Ep(this,"_keyboardManager",new mf([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Fb._defaultColor,this.#lo=e.thickness||Fb._defaultThickness,this.#zo=e.opacity||Fb._defaultOpacity,this.#Io=e.boxes||null,this.#Vo=e.methodOfCreation||"",this.#st=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#qo=!0,this.#Go(e),this.#$o()):this.#Io&&(this.#No=e.anchorNode,this.#Po=e.anchorOffset,this.#Bo=e.focusNode,this.#Lo=e.focusOffset,this.#Ko(),this.#$o(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#qo?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#lo,methodOfCreation:this.#Vo}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#Ko(){const e=new kb(this.#Io,.001);this.#Wo=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#Wo.box;const t=new kb(this.#Io,.0025,.001,"ltr"===this._uiManager.direction);this.#Ro=t.getOutlines();const{lastPoint:n}=this.#Ro;this.#To=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]}#Go({highlightOutlines:e,highlightId:t,clipPathId:n}){this.#Wo=e;if(this.#Ro=e.getNewOutline(this.#lo/2+1.5,.0025),t>=0)this.#x=t,this.#Mo=n,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#Ho=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#Ro.box,path:{d:this.#Ro.toSVGPath()}},!0);else if(this.parent){const t=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#x,{bbox:Fb.#Xo(this.#Wo.box,(t-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#Ho,{bbox:Fb.#Xo(this.#Ro.box,t),path:{d:this.#Ro.toSVGPath()}})}const[i,r,a,o]=e.box;switch(this.rotation){case 0:this.x=i,this.y=r,this.width=a,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=r,this.y=1-i,this.width=a*t/e,this.height=o*e/t;break}case 180:this.x=1-i,this.y=1-r,this.width=a,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-r,this.y=i,this.width=a*t/e,this.height=o*e/t;break}}const{lastPoint:s}=this.#Ro;this.#To=[(s[0]-i)/a,(s[1]-r)/o]}static initialize(e,t){wf.initialize(e,t),Fb._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Qu.HIGHLIGHT_COLOR:Fb._defaultColor=t;break;case Qu.HIGHLIGHT_THICKNESS:Fb._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return this.#To}updateParams(e,t){switch(e){case Qu.HIGHLIGHT_COLOR:this.#Ha(t);break;case Qu.HIGHLIGHT_THICKNESS:this.#Yo(t)}}static get defaultPropertiesToUpdate(){return[[Qu.HIGHLIGHT_COLOR,Fb._defaultColor],[Qu.HIGHLIGHT_THICKNESS,Fb._defaultThickness]]}get propertiesToUpdate(){return[[Qu.HIGHLIGHT_COLOR,this.color||Fb._defaultColor],[Qu.HIGHLIGHT_THICKNESS,this.#lo||Fb._defaultThickness],[Qu.HIGHLIGHT_FREE,this.#qo]]}#Ha(e){const t=(e,t)=>{this.color=e,this.#zo=t,this.parent?.drawLayer.updateProperties(this.#x,{root:{fill:e,"fill-opacity":t}}),this.#r?.updateColor(e)},n=this.color,i=this.#zo;this.addCommands({cmd:t.bind(this,e,Fb._defaultOpacity),undo:t.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qu.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#Yo(e){const t=this.#lo,n=e=>{this.#lo=e,this.#Zo(e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qu.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){if(this._uiManager.highlightColors){return[["colorPicker",this.#r=new Lm({editor:this})]]}return super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#Qo())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#Qo())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#Jo(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#$o(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#Jo():e&&(this.#$o(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#Zo(e){if(!this.#qo)return;this.#Go({highlightOutlines:this.#Wo.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}#Jo(){null!==this.#x&&this.parent&&(this.parent.drawLayer.remove(this.#x),this.#x=null,this.parent.drawLayer.remove(this.#Ho),this.#Ho=null)}#$o(e=this.parent){null===this.#x&&(({id:this.#x,clipPathId:this.#Mo}=e.drawLayer.draw({bbox:this.#Wo.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#zo},rootClass:{highlight:!0,free:this.#qo},path:{d:this.#Wo.toSVGPath()}},!1,!0)),this.#Ho=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#qo},bbox:this.#Ro.box,path:{d:this.#Ro.toSVGPath()}},this.#qo),this.#jo&&(this.#jo.style.clipPath=this.#Mo))}static#Xo([e,t,n,i],r){switch(r){case 90:return[1-t-i,e,i,n];case 180:return[1-e-n,1-t-i,n,i];case 270:return[t,1-e-n,i,n]}return[e,t,n,i]}rotate(e){const{drawLayer:t}=this.parent;let n;this.#qo?(e=(e-this.rotation+360)%360,n=Fb.#Xo(this.#Wo.box,e)):n=Fb.#Xo([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#x,{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(this.#Ho,{bbox:Fb.#Xo(this.#Ro.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#st&&(e.setAttribute("aria-label",this.#st),e.setAttribute("role","mark")),this.#qo?e.classList.add("free"):this.div.addEventListener("keydown",this.#es.bind(this),{signal:this._uiManager._signal});const t=this.#jo=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#Mo;const[n,i]=this.parentDimensions;return this.setDims(this.width*n,this.height*i),uf(this,this.#jo,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#Ho,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#Ho,{rootClass:{hovered:!1}})}#es(e){Fb._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#ts(!0);break;case 1:case 3:this.#ts(!1)}}#ts(e){if(!this.#No)return;const t=window.getSelection();e?t.setPosition(this.#No,this.#Po):t.setPosition(this.#Bo,this.#Lo)}select(){super.select(),this.#Ho&&this.parent?.drawLayer.updateProperties(this.#Ho,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#Ho&&(this.parent?.drawLayer.updateProperties(this.#Ho,{rootClass:{selected:!1}}),this.#qo||this.#ts(!1))}get _mustFixPosition(){return!this.#qo}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#x,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#Ho,{rootClass:{hidden:!e}}))}#Qo(){return this.#qo?this.rotation:0}#ns(){if(this.#qo)return null;const[e,t]=this.pageDimensions,[n,i]=this.pageTranslation,r=this.#Io,a=new Float32Array(8*r.length);let o=0;for(const{x:s,y:c,width:l,height:d}of r){const r=s*e+n,h=(1-c)*t+i;a[o]=a[o+4]=r,a[o+1]=a[o+3]=h,a[o+2]=a[o+6]=r+l*e,a[o+5]=a[o+7]=h-d*t,o+=8}return a}#is(e){return this.#Wo.serialize(e,this.#Qo())}static startHighlighting(e,t,{target:n,x:i,y:r}){const{x:a,y:o,width:s,height:c}=n.getBoundingClientRect(),l=new AbortController,d=e.combinedSignal(l),h=t=>{l.abort(),this.#rs(e,t)};window.addEventListener("blur",h,{signal:d}),window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("pointerdown",tf,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",ef,{signal:d}),n.addEventListener("pointermove",this.#as.bind(this,e),{signal:d}),this._freeHighlight=new Ub({x:i,y:r},[a,o,s,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static#as(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#rs(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,n){let i=null;if(e instanceof mb){const{data:{quadPoints:t,rect:n,rotation:r,id:a,color:o,opacity:s,popupRef:c,contentsObj:l},parent:{page:{pageNumber:d}}}=e;i=e={annotationType:Zu.HIGHLIGHT,color:Array.from(o),opacity:s,quadPoints:t,boxes:null,pageIndex:d-1,rect:n.slice(0),rotation:r,annotationElementId:a,id:a,deleted:!1,popupRef:c,comment:l?.str||null}}else if(e instanceof gb){const{data:{inkLists:t,rect:n,rotation:r,id:a,color:o,borderStyle:{rawWidth:s},popupRef:c,contentsObj:l},parent:{page:{pageNumber:d}}}=e;i=e={annotationType:Zu.HIGHLIGHT,color:Array.from(o),thickness:s,inkLists:t,boxes:null,pageIndex:d-1,rect:n.slice(0),rotation:r,annotationElementId:a,id:a,deleted:!1,popupRef:c,comment:l?.str||null}}const{color:r,quadPoints:a,inkLists:o,opacity:s}=e,c=await super.deserialize(e,t,n);c.color=Bp.makeHexColor(...r),c.#zo=s||1,o&&(c.#lo=e.thickness),c._initialData=i,e.comment&&c.setCommentData(e.comment);const[l,d]=c.pageDimensions,[h,u]=c.pageTranslation;if(a){const e=c.#Io=[];for(let t=0;t<a.length;t+=8)e.push({x:(a[t]-h)/l,y:1-(a[t+1]-u)/d,width:(a[t+2]-a[t])/l,height:(a[t+1]-a[t+5])/d});c.#Ko(),c.#$o(),c.rotate(c.rotation)}else if(o){c.#qo=!0;const e=o[0],n={x:e[0]-h,y:d-(e[1]-u)},i=new Ub(n,[0,0,l,d],1,c.#lo/2,!0,.001);for(let t=0,o=e.length;t<o;t+=2)n.x=e[t]-h,n.y=d-(e[t+1]-u),i.add(n);const{id:r,clipPathId:a}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:i.toSVGPath()}},!0,!0);c.#Go({highlightOutlines:i.getOutlines(),highlightId:r,clipPathId:a}),c.#$o(),c.rotate(c.parentRotation)}return c}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getPDFRect(),n=wf._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i={annotationType:Zu.HIGHLIGHT,color:n,opacity:this.#zo,thickness:this.#lo,quadPoints:this.#ns(),outlines:this.#is(t),pageIndex:this.pageIndex,rect:t,rotation:this.#Qo(),structTreeParentId:this._structTreeParentId};return this.addComment(i),this.annotationElementId&&!this.#Za(i)?null:(i.id=this.annotationElementId,i)}#Za(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((e,n)=>e!==t[n])}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const t={rect:this.getPDFRect()};return this.hasEditedComment&&(t.popup=this.comment),e.updateEdited(t),null}static canCreateNewEmptyEditor(){return!1}}class Nb{#os=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){this.#os[e]=t}toSVGProperties(){const e=this.#os;return this.#os=Object.create(null),{root:e}}reset(){this.#os=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){wp("Not implemented")}}class Pb extends wf{#ss=null;#cs;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#ls=null;static#ds=null;static#hs=null;static#us=NaN;static#ps=null;static#fs=null;static#gs=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#cs=e.mustBeCommitted||!1,this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(this.#ms(e),this.#$o())}#ms({drawOutlines:e,drawId:t,drawingOptions:n}){this.#ss=e,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#bs(e,this.parent),this.#ys(e.box)}#bs(e,t){const{id:n}=t.drawLayer.draw(Pb._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[i,r]of Object.entries(t))n.has(i)?Object.assign(e[i],r):e[i]=r;return e}static getDefaultDrawingOptions(e){wp("Not implemented")}static get typesMap(){wp("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(Pb.#ls.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,i]of this.typesMap)e.push([n,t[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,i]of this.constructor.typesMap)e.push([n,t[i]]);return e}_updateProperty(e,t,n){const i=this._drawingOptions,r=i[t],a=n=>{i.updateProperty(t,n);const r=this.#ss.updateProperty(t,n);r&&this.#ys(r),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this._colorPicker?.update(n)};this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Pb._mergeSVGProperties(this.#ss.getPathResizingSVGProperties(this.#vs()),{bbox:this.#xs()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Pb._mergeSVGProperties(this.#ss.getPathResizedSVGProperties(this.#vs()),{bbox:this.#xs()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#xs()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Pb._mergeSVGProperties(this.#ss.getPathTranslatedSVGProperties(this.#vs(),this.parentDimensions),{bbox:this.#xs()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#cs&&(this.#cs=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#Jo(),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.#$o(),this.#ys(this.#ss.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#Jo()):e&&(this._uiManager.addShouldRescale(this),this.#$o(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#Jo(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#$o(e=this.parent){null!==this._drawId&&this.parent===e||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=this.#bs(this.#ss,e)):this.parent.drawLayer.updateParent(this._drawId,e.drawLayer))}#_s([e,t,n,i]){const{parentDimensions:[r,a],rotation:o}=this;switch(o){case 90:return[t,1-e,n*(a/r),i*(r/a)];case 180:return[1-e,1-t,n,i];case 270:return[1-t,e,n*(a/r),i*(r/a)];default:return[e,t,n,i]}}#vs(){const{x:e,y:t,width:n,height:i,parentDimensions:[r,a],rotation:o}=this;switch(o){case 90:return[1-t,e,n*(r/a),i*(a/r)];case 180:return[1-e,1-t,n,i];case 270:return[t,1-e,n*(r/a),i*(a/r)];default:return[e,t,n,i]}}#ys(e){if([this.x,this.y,this.width,this.height]=this.#_s(e),this.div){this.fixAndSetPosition();const[e,t]=this.parentDimensions;this.setDims(this.width*e,this.height*t)}this._onResized()}#xs(){const{x:e,y:t,width:n,height:i,rotation:r,parentRotation:a,parentDimensions:[o,s]}=this;switch((4*r+a)/90){case 1:return[1-t-i,e,i,n];case 2:return[1-e-n,1-t-i,n,i];case 3:return[t,1-e-n,i,n];case 4:return[e,t-n*(o/s),i*(s/o),n*(o/s)];case 5:return[1-t,e,n*(o/s),i*(s/o)];case 6:return[1-e-i*(s/o),1-t,i*(s/o),n*(o/s)];case 7:return[t-n*(o/s),1-e-i*(s/o),n*(o/s),i*(s/o)];case 8:return[e-n,t-i,n,i];case 9:return[1-t,e-n,i,n];case 10:return[1-e,1-t,n,i];case 11:return[t-i,1-e,i,n];case 12:return[e-i*(s/o),t,i*(s/o),n*(o/s)];case 13:return[1-t-n*(o/s),e-i*(s/o),n*(o/s),i*(s/o)];case 14:return[1-e,1-t-n*(o/s),i*(s/o),n*(o/s)];case 15:return[t,1-e,n*(o/s),i*(s/o)];default:return[e,t,n,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Pb._mergeSVGProperties({bbox:this.#xs()},this.#ss.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#ys(this.#ss.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const i=document.createElement("div");n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[r,a]=this.parentDimensions;return this.setDims(this.width*r,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,i,r){wp("Not implemented")}static startDrawing(e,t,n,i){const{target:r,offsetX:a,offsetY:o,pointerId:s,pointerType:c}=i;if(Pb.#ps&&Pb.#ps!==c)return;const{viewport:{rotation:l}}=e,{width:d,height:h}=r.getBoundingClientRect(),u=Pb.#ds=new AbortController,p=e.combinedSignal(u);Pb.#us||=s,Pb.#ps??=c,window.addEventListener("pointerup",e=>{Pb.#us===e.pointerId?this._endDraw(e):Pb.#fs?.delete(e.pointerId)},{signal:p}),window.addEventListener("pointercancel",e=>{Pb.#us===e.pointerId?this._currentParent.endDrawingSession():Pb.#fs?.delete(e.pointerId)},{signal:p}),window.addEventListener("pointerdown",e=>{Pb.#ps===e.pointerType&&((Pb.#fs||=new Set).add(e.pointerId),Pb.#ls.isCancellable()&&(Pb.#ls.removeLastElement(),Pb.#ls.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",ef,{signal:p}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:p}),r.addEventListener("touchmove",e=>{e.timeStamp===Pb.#gs&&tf(e)},{signal:p}),e.toggleDrawing(),t._editorUndoBar?.hide(),Pb.#ls?e.drawLayer.updateProperties(this._currentDrawId,Pb.#ls.startNew(a,o,d,h,l)):(t.updateUIForDefaultProperties(this),Pb.#ls=this.createDrawerInstance(a,o,d,h,l),Pb.#hs=this.getDefaultDrawingOptions(),this._currentParent=e,({id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Pb.#hs.toSVGProperties(),Pb.#ls.defaultSVGProperties),!0,!1)))}static _drawMove(e){if(Pb.#gs=-1,!Pb.#ls)return;const{offsetX:t,offsetY:n,pointerId:i}=e;Pb.#us===i&&(Pb.#fs?.size>=1?this._endDraw(e):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,Pb.#ls.add(t,n)),Pb.#gs=e.timeStamp,tf(e)))}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Pb.#ls=null,Pb.#hs=null,Pb.#ps=null,Pb.#gs=NaN),Pb.#ds&&(Pb.#ds.abort(),Pb.#ds=null,Pb.#us=NaN,Pb.#fs=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,Pb.#ls.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const e=Pb.#ls,n=this._currentDrawId,i=e.getLastElement();return void t.addCommands({cmd:()=>{t.drawLayer.updateProperties(n,e.setLastElement(i))},undo:()=>{t.drawLayer.updateProperties(n,e.removeLastElement())},mustExec:!1,type:Qu.DRAW_STEP})}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(Qu.DRAW_STEP),!Pb.#ls.isEmpty()){const{pageDimensions:[n,i],scale:r}=t,a=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Pb.#ls.getOutlines(n*r,i*r,r,this._INNER_MARGIN),drawingOptions:Pb.#hs,mustBeCommitted:!e});return this._cleanup(!0),a}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,i,r,a){wp("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:i,pageHeight:r,pageX:a,pageY:o}}=t.viewport,s=this.deserializeDraw(a,o,i,r,this._INNER_MARGIN,e),c=await super.deserialize(e,t,n);return c.createDrawingOptions(e),c.#ms({drawOutlines:s}),c.#$o(),c.onScaleChanging(),c.rotate(),c}serializeDraw(e){const[t,n]=this.pageTranslation,[i,r]=this.pageDimensions;return this.#ss.serialize([t,n,i,r],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class Ib{#io=new Float64Array(6);#Aa;#ws;#Ii;#lo;#do;#Ds="";#Ts=0;#Fo=new Mb;#As;#Es;constructor(e,t,n,i,r,a){this.#As=n,this.#Es=i,this.#Ii=r,this.#lo=a,[e,t]=this.#Cs(e,t);const o=this.#Aa=[NaN,NaN,NaN,NaN,e,t];this.#do=[e,t],this.#ws=[{line:o,points:this.#do}],this.#io.set(o,0)}updateProperty(e,t){"stroke-width"===e&&(this.#lo=t)}#Cs(e,t){return Ab._normalizePoint(e,t,this.#As,this.#Es,this.#Ii)}isEmpty(){return!this.#ws||0===this.#ws.length}isCancellable(){return this.#do.length<=10}add(e,t){[e,t]=this.#Cs(e,t);const[n,i,r,a]=this.#io.subarray(2,6),o=e-r,s=t-a;return Math.hypot(this.#As*o,this.#Es*s)<=2?null:(this.#do.push(e,t),isNaN(n)?(this.#io.set([r,a,e,t],2),this.#Aa.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#io[0])&&this.#Aa.splice(6,6),this.#io.set([n,i,r,a,e,t],0),this.#Aa.push(...Ab.createBezierPoints(n,i,r,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(2===this.#do.length?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,r){this.#As=n,this.#Es=i,this.#Ii=r,[e,t]=this.#Cs(e,t);const a=this.#Aa=[NaN,NaN,NaN,NaN,e,t];this.#do=[e,t];const o=this.#ws.at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),this.#ws.push({line:a,points:this.#do}),this.#io.set(a,0),this.#Ts=0,this.toSVGPath(),null}getLastElement(){return this.#ws.at(-1)}setLastElement(e){return this.#ws?(this.#ws.push(e),this.#Aa=e.line,this.#do=e.points,this.#Ts=0,{path:{d:this.toSVGPath()}}):this.#Fo.setLastElement(e)}removeLastElement(){if(!this.#ws)return this.#Fo.removeLastElement();this.#ws.pop(),this.#Ds="";for(let e=0,t=this.#ws.length;e<t;e++){const{line:t,points:n}=this.#ws[e];this.#Aa=t,this.#do=n,this.#Ts=0,this.toSVGPath()}return{path:{d:this.#Ds}}}toSVGPath(){const e=Ab.svgRound(this.#Aa[4]),t=Ab.svgRound(this.#Aa[5]);if(2===this.#do.length)return this.#Ds=`${this.#Ds} M ${e} ${t} Z`,this.#Ds;if(this.#do.length<=6){const n=this.#Ds.lastIndexOf("M");this.#Ds=`${this.#Ds.slice(0,n)} M ${e} ${t}`,this.#Ts=6}if(4===this.#do.length){const e=Ab.svgRound(this.#Aa[10]),t=Ab.svgRound(this.#Aa[11]);return this.#Ds=`${this.#Ds} L ${e} ${t}`,this.#Ts=12,this.#Ds}const n=[];0===this.#Ts&&(n.push(`M ${e} ${t}`),this.#Ts=6);for(let i=this.#Ts,r=this.#Aa.length;i<r;i+=6){const[e,t,r,a,o,s]=this.#Aa.slice(i,i+6).map(Ab.svgRound);n.push(`C${e} ${t} ${r} ${a} ${o} ${s}`)}return this.#Ds+=n.join(" "),this.#Ts=this.#Aa.length,this.#Ds}getOutlines(e,t,n,i){const r=this.#ws.at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),this.#Fo.build(this.#ws,e,t,n,this.#Ii,this.#lo,i),this.#io=null,this.#Aa=null,this.#ws=null,this.#Ds=null,this.#Fo}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Mb extends Ab{#_o;#ks=0;#eo;#ws;#As;#Es;#Ss;#Ii;#lo;build(e,t,n,i,r,a,o){this.#As=t,this.#Es=n,this.#Ss=i,this.#Ii=r,this.#lo=a,this.#eo=o??0,this.#ws=e,this.#Us()}get thickness(){return this.#lo}setLastElement(e){return this.#ws.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#ws.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#ws)if(e.push(`M${Ab.svgRound(t[4])} ${Ab.svgRound(t[5])}`),6!==t.length)if(12===t.length&&isNaN(t[6]))e.push(`L${Ab.svgRound(t[10])} ${Ab.svgRound(t[11])}`);else for(let n=6,i=t.length;n<i;n+=6){const[i,r,a,o,s,c]=t.subarray(n,n+6).map(Ab.svgRound);e.push(`C${i} ${r} ${a} ${o} ${s} ${c}`)}else e.push("Z");return e.join("")}serialize([e,t,n,i],r){const a=[],o=[],[s,c,l,d]=this.#Os();let h,u,p,f,g,m,b,y,v;switch(this.#Ii){case 0:v=Ab._rescale,h=e,u=t+i,p=n,f=-i,g=e+s*n,m=t+(1-c-d)*i,b=e+(s+l)*n,y=t+(1-c)*i;break;case 90:v=Ab._rescaleAndSwap,h=e,u=t,p=n,f=i,g=e+c*n,m=t+s*i,b=e+(c+d)*n,y=t+(s+l)*i;break;case 180:v=Ab._rescale,h=e+n,u=t,p=-n,f=i,g=e+(1-s-l)*n,m=t+c*i,b=e+(1-s)*n,y=t+(c+d)*i;break;case 270:v=Ab._rescaleAndSwap,h=e+n,u=t+i,p=-n,f=-i,g=e+(1-c-d)*n,m=t+(1-s-l)*i,b=e+(1-c)*n,y=t+(1-s)*i}for(const{line:x,points:_}of this.#ws)a.push(v(x,h,u,p,f,r?new Array(x.length):null)),o.push(v(_,h,u,p,f,r?new Array(_.length):null));return{lines:a,points:o,rect:[g,m,b,y]}}static deserialize(e,t,n,i,r,{paths:{lines:a,points:o},rotation:s,thickness:c}){const l=[];let d,h,u,p,f;switch(s){case 0:f=Ab._rescale,d=-e/n,h=t/i+1,u=1/n,p=-1/i;break;case 90:f=Ab._rescaleAndSwap,d=-t/i,h=-e/n,u=1/i,p=1/n;break;case 180:f=Ab._rescale,d=e/n+1,h=-t/i,u=-1/n,p=1/i;break;case 270:f=Ab._rescaleAndSwap,d=t/i+1,h=e/n+1,u=-1/i,p=-1/n}if(!a){a=[];for(const e of o){const t=e.length;if(2===t){a.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1]]));continue}if(4===t){a.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1],NaN,NaN,NaN,NaN,e[2],e[3]]));continue}const n=new Float32Array(3*(t-2));a.push(n);let[i,r,o,s]=e.subarray(0,4);n.set([NaN,NaN,NaN,NaN,i,r],0);for(let a=4;a<t;a+=2){const t=e[a],c=e[a+1];n.set(Ab.createBezierPoints(i,r,o,s,t,c),3*(a-2)),[i,r,o,s]=[o,s,t,c]}}}for(let m=0,b=a.length;m<b;m++)l.push({line:f(a[m].map(e=>e??NaN),d,h,u,p),points:f(o[m].map(e=>e??NaN),d,h,u,p)});const g=new this.prototype.constructor;return g.build(l,n,i,1,s,c,r),g}#Fs(e=this.#lo){const t=this.#eo+e/2*this.#Ss;return this.#Ii%180==0?[t/this.#As,t/this.#Es]:[t/this.#Es,t/this.#As]}#Os(){const[e,t,n,i]=this.#_o,[r,a]=this.#Fs(0);return[e+r,t+a,n-2*r,i-2*a]}#Us(){const e=this.#_o=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#ws){if(i.length<=12){for(let t=4,n=i.length;t<n;t+=6)Bp.pointBoundingBox(i[t],i[t+1],e);continue}let t=i[4],n=i[5];for(let r=6,a=i.length;r<a;r+=6){const[a,o,s,c,l,d]=i.subarray(r,r+6);Bp.bezierBoundingBox(t,n,a,o,s,c,l,d,e),t=l,n=d}}const[t,n]=this.#Fs();e[0]=zp(e[0]-t,0,1),e[1]=zp(e[1]-n,0,1),e[2]=zp(e[2]+t,0,1),e[3]=zp(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#_o}updateProperty(e,t){return"stroke-width"===e?this.#Yo(t):null}#Yo(e){const[t,n]=this.#Fs();this.#lo=e;const[i,r]=this.#Fs(),[a,o]=[i-t,r-n],s=this.#_o;return s[0]-=a,s[1]-=o,s[2]+=2*a,s[3]+=2*o,s}updateParentDimensions([e,t],n){const[i,r]=this.#Fs();this.#As=e,this.#Es=t,this.#Ss=n;const[a,o]=this.#Fs(),s=a-i,c=o-r,l=this.#_o;return l[0]-=s,l[1]-=c,l[2]+=2*s,l[3]+=2*c,l}updateRotation(e){return this.#ks=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#_o.map(Ab.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#_o;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ab.svgRound(e)} ${Ab.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#_o;let n=0,i=0,r=0,a=0,o=0,s=0;switch(this.#ks){case 90:i=t/e,r=-e/t,o=e;break;case 180:n=-1,a=-1,o=e,s=t;break;case 270:i=-t/e,r=e/t,s=t;break;default:return""}return`matrix(${n} ${i} ${r} ${a} ${Ab.svgRound(o)} ${Ab.svgRound(s)})`}getPathResizingSVGProperties([e,t,n,i]){const[r,a]=this.#Fs(),[o,s,c,l]=this.#_o;if(Math.abs(c-r)<=Ab.PRECISION||Math.abs(l-a)<=Ab.PRECISION){const r=e+n/2-(o+c/2),a=t+i/2-(s+l/2);return{path:{"transform-origin":`${Ab.svgRound(e)} ${Ab.svgRound(t)}`,transform:`${this.rotationTransform} translate(${r} ${a})`}}}const d=(n-2*r)/(c-2*r),h=(i-2*a)/(l-2*a),u=c/n,p=l/i;return{path:{"transform-origin":`${Ab.svgRound(o)} ${Ab.svgRound(s)}`,transform:`${this.rotationTransform} scale(${u} ${p}) translate(${Ab.svgRound(r)} ${Ab.svgRound(a)}) scale(${d} ${h}) translate(${Ab.svgRound(-r)} ${Ab.svgRound(-a)})`}}}getPathResizedSVGProperties([e,t,n,i]){const[r,a]=this.#Fs(),o=this.#_o,[s,c,l,d]=o;if(o[0]=e,o[1]=t,o[2]=n,o[3]=i,Math.abs(l-r)<=Ab.PRECISION||Math.abs(d-a)<=Ab.PRECISION){const r=e+n/2-(s+l/2),a=t+i/2-(c+d/2);for(const{line:e,points:t}of this.#ws)Ab._translate(e,r,a,e),Ab._translate(t,r,a,t);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ab.svgRound(e)} ${Ab.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const h=(n-2*r)/(l-2*r),u=(i-2*a)/(d-2*a),p=-h*(s+r)+e+r,f=-u*(c+a)+t+a;if(1!==h||1!==u||0!==p||0!==f)for(const{line:g,points:m}of this.#ws)Ab._rescale(g,p,f,h,u,g),Ab._rescale(m,p,f,h,u,m);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Ab.svgRound(e)} ${Ab.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],n){const[i,r]=n,a=this.#_o,o=e-a[0],s=t-a[1];if(this.#As===i&&this.#Es===r)for(const{line:c,points:l}of this.#ws)Ab._translate(c,o,s,c),Ab._translate(l,o,s,l);else{const e=this.#As/i,t=this.#Es/r;this.#As=i,this.#Es=r;for(const{line:n,points:i}of this.#ws)Ab._rescale(n,o,s,e,t,n),Ab._rescale(i,o,s,e,t,i);a[2]*=e,a[3]*=t}return a[0]=e,a[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Ab.svgRound(e)} ${Ab.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#_o;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Ab.svgRound(e[0])} ${Ab.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class Rb extends Nb{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:wf._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){"stroke-width"===e&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Rb(this._viewParameters);return e.updateAll(this),e}}class Bb extends Pb{static _type="ink";static _editorType=Zu.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){wf.initialize(e,t),this._defaultDrawingOptions=new Rb(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ep(this,"typesMap",new Map([[Qu.INK_THICKNESS,"stroke-width"],[Qu.INK_COLOR,"stroke"],[Qu.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,i,r){return new Ib(e,t,n,i,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,i,r,a){return Mb.deserialize(e,t,n,i,r,a)}static async deserialize(e,t,n){let i=null;if(e instanceof gb){const{data:{inkLists:t,rect:n,rotation:r,id:a,color:o,opacity:s,borderStyle:{rawWidth:c},popupRef:l,contentsObj:d},parent:{page:{pageNumber:h}}}=e;i=e={annotationType:Zu.INK,color:Array.from(o),thickness:c,opacity:s,paths:{points:t},boxes:null,pageIndex:h-1,rect:n.slice(0),rotation:r,annotationElementId:a,id:a,deleted:!1,popupRef:l,comment:d?.str||null}}const r=await super.deserialize(e,t,n);return r._initialData=i,e.comment&&r.setCommentData(e.comment),r}get toolbarButtons(){return this._colorPicker||=new jm(this),[["colorPicker",this._colorPicker]]}get colorType(){return Qu.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:n}){this._drawingOptions=Bb.getDefaultDrawingOptions({stroke:Bp.makeHexColor(...e),"stroke-width":t,"stroke-opacity":n})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n,rect:i}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":a,"stroke-width":o}}=this,s={annotationType:Zu.INK,color:wf._colorManager.convert(r),opacity:a,thickness:o,paths:{lines:t,points:n},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(s),e?(s.isCopy=!0,s):this.annotationElementId&&!this.#Za(s)?null:(s.id=this.annotationElementId,s)}#Za(e){const{color:t,thickness:n,opacity:i,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((e,n)=>e!==t[n])||e.thickness!==n||e.opacity!==i||e.pageIndex!==r}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:n}=this.serializeDraw(!1),i={rect:n,thickness:this._drawingOptions["stroke-width"],points:t};return this.hasEditedComment&&(i.popup=this.comment),e.updateEdited(i),null}}class Lb extends Mb{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}class jb{static#Ns={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#Ps(e,t,n,i){return i-=t,0===(n-=e)?i>0?0:4:1===n?i+6:2-i}static#Is=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#Ms(e,t,n,i,r,a,o){const s=this.#Ps(n,i,r,a);for(let c=0;c<8;c++){const r=(-c+s-o+16)%8;if(0!==e[(n+this.#Is[2*r])*t+(i+this.#Is[2*r+1])])return r}return-1}static#Rs(e,t,n,i,r,a,o){const s=this.#Ps(n,i,r,a);for(let c=0;c<8;c++){const r=(c+s+o+16)%8;if(0!==e[(n+this.#Is[2*r])*t+(i+this.#Is[2*r+1])])return r}return-1}static#Bs(e,t,n,i){const r=e.length,a=new Int32Array(r);for(let l=0;l<r;l++)a[l]=e[l]<=i?1:0;for(let l=1;l<n-1;l++)a[l*t]=a[l*t+t-1]=0;for(let l=0;l<t;l++)a[l]=a[t*n-1-l]=0;let o,s=1;const c=[];for(let l=1;l<n-1;l++){o=1;for(let e=1;e<t-1;e++){const n=l*t+e,i=a[n];if(0===i)continue;let r=l,d=e;if(1===i&&0===a[n-1])s+=1,d-=1;else{if(!(i>=1&&0===a[n+1])){1!==i&&(o=Math.abs(i));continue}s+=1,d+=1,i>1&&(o=i)}const h=[e,l],u=d===e+1,p={isHole:u,points:h,id:s,parent:0};let f;c.push(p);for(const e of c)if(e.id===o){f=e;break}f?f.isHole?p.parent=u?f.parent:o:p.parent=u?o:f.parent:p.parent=u?o:0;const g=this.#Ms(a,t,l,e,r,d,0);if(-1===g){a[n]=-s,1!==a[n]&&(o=Math.abs(a[n]));continue}let m=this.#Is[2*g],b=this.#Is[2*g+1];const y=l+m,v=e+b;r=y,d=v;let x=l,_=e;for(;;){const i=this.#Rs(a,t,x,_,r,d,1);m=this.#Is[2*i],b=this.#Is[2*i+1];const c=x+m,u=_+b;h.push(u,c);const p=x*t+_;if(0===a[p+1]?a[p]=-s:1===a[p]&&(a[p]=s),c===l&&u===e&&x===y&&_===v){1!==a[n]&&(o=Math.abs(a[n]));break}r=x,d=_,x=c,_=u}}}return c}static#Ls(e,t,n,i){if(n-t<=4){for(let r=t;r<n-2;r+=2)i.push(e[r],e[r+1]);return}const r=e[t],a=e[t+1],o=e[n-4]-r,s=e[n-3]-a,c=Math.hypot(o,s),l=o/c,d=s/c,h=l*a-d*r,u=s/o,p=1/c,f=Math.atan(u),g=Math.cos(f),m=Math.sin(f),b=p*(Math.abs(g)+Math.abs(m)),y=p*(1-b+b**2),v=Math.max(Math.atan(Math.abs(m+g)*y),Math.atan(Math.abs(m-g)*y));let x=0,_=t;for(let w=t+2;w<n-2;w+=2){const t=Math.abs(h-l*e[w+1]+d*e[w]);t>x&&(_=w,x=t)}x>(c*v)**2?(this.#Ls(e,t,_+2,i),this.#Ls(e,_,n,i)):i.push(r,a)}static#js(e){const t=[],n=e.length;return this.#Ls(e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}static#Ws(e,t,n,i,r,a){const o=new Float32Array(a**2),s=-2*i**2,c=a>>1;for(let f=0;f<a;f++){const e=(f-c)**2;for(let t=0;t<a;t++)o[f*a+t]=Math.exp((e+(t-c)**2)/s)}const l=new Float32Array(256),d=-2*r**2;for(let f=0;f<256;f++)l[f]=Math.exp(f**2/d);const h=e.length,u=new Uint8Array(h),p=new Uint32Array(256);for(let f=0;f<n;f++)for(let i=0;i<t;i++){const r=f*t+i,s=e[r];let d=0,h=0;for(let u=0;u<a;u++){const r=f+u-c;if(!(r<0||r>=n))for(let n=0;n<a;n++){const p=i+n-c;if(p<0||p>=t)continue;const f=e[r*t+p],g=o[u*a+n]*l[Math.abs(f-s)];d+=f*g,h+=g}}p[u[r]=Math.round(d/h)]++}return[u,p]}static#qs(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}static#zs(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,r=1/0;for(let o=0,s=n.length;o<s;o++){const t=n[o]=e[o<<2];i=Math.max(i,t),r=Math.min(r,t)}const a=255/(i-r);for(let o=0,s=n.length;o<s;o++)n[o]=(n[o]-r)*a;return n}static#Hs(e){let t,n=-1/0,i=-1/0;const r=e.findIndex(e=>0!==e);let a=r,o=r;for(t=r;t<256;t++){const r=e[t];r>n&&(t-a>i&&(i=t-a,o=t-1),n=r,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#Vs(e){const t=e,{width:n,height:i}=e,{maxDim:r}=this.#Ns;let a=n,o=i;if(n>r||i>r){let s=n,c=i,l=Math.log2(Math.max(n,i)/r);const d=Math.floor(l);l=l===d?d-1:d;for(let n=0;n<l;n++){a=Math.ceil(s/2),o=Math.ceil(c/2);const n=new OffscreenCanvas(a,o);n.getContext("2d").drawImage(e,0,0,s,c,0,0,a,o),s=a,c=o,e!==t&&e.close(),e=n.transferToImageBitmap()}const h=Math.min(r/a,r/o);a=Math.round(a*h),o=Math.round(o*h)}const s=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});s.fillStyle="white",s.fillRect(0,0,a,o),s.filter="grayscale(1)",s.drawImage(e,0,0,e.width,e.height,0,0,a,o);const c=s.getImageData(0,0,a,o).data;return[this.#zs(c),a,o]}static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:i},r,a,o,s){let c=new OffscreenCanvas(1,1),l=c.getContext("2d",{alpha:!1});const d=l.font=`${n} ${i} 200px ${t}`,{actualBoundingBoxLeft:h,actualBoundingBoxRight:u,actualBoundingBoxAscent:p,actualBoundingBoxDescent:f,fontBoundingBoxAscent:g,fontBoundingBoxDescent:m,width:b}=l.measureText(e),y=1.5,v=Math.ceil(Math.max(Math.abs(h)+Math.abs(u)||0,b)*y),x=Math.ceil(Math.max(Math.abs(p)+Math.abs(f)||200,Math.abs(g)+Math.abs(m)||200)*y);c=new OffscreenCanvas(v,x),l=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),l.font=d,l.filter="grayscale(1)",l.fillStyle="white",l.fillRect(0,0,v,x),l.fillStyle="black",l.fillText(e,.5*v/2,1.5*x/2);const _=this.#zs(l.getImageData(0,0,v,x).data),w=this.#qs(_),D=this.#Hs(w),T=this.#Bs(_,v,x,D);return this.processDrawnLines({lines:{curves:T,width:v,height:x},pageWidth:r,pageHeight:a,rotation:o,innerMargin:s,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,r){const[a,o,s]=this.#Vs(e),[c,l]=this.#Ws(a,o,s,Math.hypot(o,s)*this.#Ns.sigmaSFactor,this.#Ns.sigmaR,this.#Ns.kernelSize),d=this.#Hs(l),h=this.#Bs(c,o,s,d);return this.processDrawnLines({lines:{curves:h,width:o,height:s},pageWidth:t,pageHeight:n,rotation:i,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:r,mustSmooth:a,areContours:o}){i%180!=0&&([t,n]=[n,t]);const{curves:s,width:c,height:l}=e,d=e.thickness??0,h=[],u=Math.min(t/c,n/l),p=u/t,f=u/n,g=[];for(const{points:b}of s){const e=a?this.#js(b):b;if(!e)continue;g.push(e);const t=e.length,n=new Float32Array(t),i=new Float32Array(3*(2===t?2:t-2));if(h.push({line:i,points:n}),2===t){n[0]=e[0]*p,n[1]=e[1]*f,i.set([NaN,NaN,NaN,NaN,n[0],n[1]],0);continue}let[r,o,s,c]=e;r*=p,o*=f,s*=p,c*=f,n.set([r,o,s,c],0),i.set([NaN,NaN,NaN,NaN,r,o],0);for(let a=4;a<t;a+=2){const t=n[a]=e[a]*p,l=n[a+1]=e[a+1]*f;i.set(Ab.createBezierPoints(r,o,s,c,t,l),3*(a-2)),[r,o,s,c]=[s,c,t,l]}}if(0===h.length)return null;const m=o?new Lb:new Mb;return m.build(h,t,n,1,i,o?0:d,r),{outline:m,newCurves:g,areContours:o,thickness:d,width:c,height:l}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:i,height:r}){let a,o=1/0,s=-1/0,c=0;for(const b of e){c+=b.length;for(let e=2,t=b.length;e<t;e++){const t=b[e]-b[e-2];o=Math.min(o,t),s=Math.max(s,t)}}a=o>=-128&&s<=127?Int8Array:o>=-32768&&s<=32767?Int16Array:Int32Array;const l=e.length,d=8+3*l,h=new Uint32Array(d);let u=0;h[u++]=d*Uint32Array.BYTES_PER_ELEMENT+(c-2*l)*a.BYTES_PER_ELEMENT,h[u++]=0,h[u++]=i,h[u++]=r,h[u++]=t?0:1,h[u++]=Math.max(0,Math.floor(n??0)),h[u++]=l,h[u++]=a.BYTES_PER_ELEMENT;for(const b of e)h[u++]=b.length-2,h[u++]=b[0],h[u++]=b[1];const p=new CompressionStream("deflate-raw"),f=p.writable.getWriter();await f.ready,f.write(h);const g=a.prototype.constructor;for(const b of e){const e=new g(b.length-2);for(let t=2,n=b.length;t<n;t++)e[t-2]=b[t]-b[t-2];f.write(e)}f.close();const m=await new Response(p.readable).arrayBuffer();return Hp(new Uint8Array(m))}static async decompressSignature(e){try{const n=(t=e,Uint8Array.fromBase64?Uint8Array.fromBase64(t):Ip(atob(t))),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),a=r.getWriter();await a.ready,a.write(n).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let o=null,s=0;for await(const e of i)o||=new Uint8Array(new Uint32Array(e.buffer,0,4)[0]),o.set(e,s),s+=e.length;const c=new Uint32Array(o.buffer,0,o.length>>2),l=c[1];if(0!==l)throw new Error(`Invalid version: ${l}`);const d=c[2],h=c[3],u=0===c[4],p=c[5],f=c[6],g=c[7],m=[],b=(8+3*f)*Uint32Array.BYTES_PER_ELEMENT;let y;switch(g){case Int8Array.BYTES_PER_ELEMENT:y=new Int8Array(o.buffer,b);break;case Int16Array.BYTES_PER_ELEMENT:y=new Int16Array(o.buffer,b);break;case Int32Array.BYTES_PER_ELEMENT:y=new Int32Array(o.buffer,b)}s=0;for(let e=0;e<f;e++){const t=c[3*e+8],n=new Float32Array(t+2);m.push(n);for(let i=0;i<2;i++)n[i]=c[3*e+8+i+1];for(let e=0;e<t;e++)n[e+2]=n[e]+y[s++]}return{areContours:u,thickness:p,outlines:m,width:d,height:h}}catch(Pw){return null}var t}}class Wb extends Nb{constructor(){super(),super.updateProperties({fill:wf._defaultLineColor,"stroke-width":0})}clone(){const e=new Wb;return e.updateAll(this),e}}class qb extends Rb{constructor(e){super(e),super.updateProperties({stroke:wf._defaultLineColor,"stroke-width":1})}clone(){const e=new qb(this._viewParameters);return e.updateAll(this),e}}class zb extends Pb{#Gs=!1;#$s=null;#Ks=null;#Xs=null;static _type="signature";static _editorType=Zu.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#Ks=e.signatureData||null,this.#$s=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){wf.initialize(e,t),this._defaultDrawingOptions=new Wb,this._defaultDrawnSignatureOptions=new qb(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ep(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#$s}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),null===this._drawId)if(this.#Ks){const{lines:e,mustSmooth:t,areContours:n,description:i,uuid:r,heightInPage:a}=this.#Ks,{rawDims:{pageWidth:o,pageHeight:s},rotation:c}=this.parent.viewport,l=jb.processDrawnLines({lines:e,pageWidth:o,pageHeight:s,rotation:c,innerMargin:zb._INNER_MARGIN,mustSmooth:t,areContours:n});this.addSignature(l,a,i,r)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#$s||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#Xs=e,this.addEditToolbar()}getUuid(){return this.#Xs}get description(){return this.#$s}set description(e){this.#$s=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:i,height:r}=this.#Ks,a=Math.max(i,r);return{areContours:t,outline:jb.processDrawnLines({lines:{curves:e.map(e=>({points:e})),thickness:n,width:i,height:r},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t}).outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,i){const{x:r,y:a}=this,{outline:o}=this.#Ks=e;let s;this.#Gs=o instanceof Lb,this.description=n,this.#Gs?s=zb.getDefaultDrawingOptions():(s=zb._defaultDrawnSignatureOptions.clone(),s.updateProperties({"stroke-width":o.thickness})),this._addOutlines({drawOutlines:o,drawingOptions:s});const[c,l]=this.parentDimensions,[,d]=this.pageDimensions;let h=t/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(c*this.width,l*this.height),this.x=r,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:i}=this.parent.viewport;return jb.process(e,t,n,i,zb._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:r}=this.parent.viewport;return jb.extractContoursFromText(e,t,n,i,r,zb._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:i}=this.parent.viewport;return jb.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:zb._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=zb.getDefaultDrawingOptions():(this._drawingOptions=zb._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:n,rect:i}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,a={annotationType:Zu.SIGNATURE,isSignature:!0,areContours:this.#Gs,color:[0,0,0],thickness:this.#Gs?0:r,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(a),e?(a.paths={lines:t,points:n},a.uuid=this.#Xs,a.isCopy=!0):a.lines=t,this.#$s&&(a.accessibilityData={type:"Figure",alt:this.#$s}),a}static deserializeDraw(e,t,n,i,r,a){return a.areContours?Lb.deserialize(e,t,n,i,r,a):Mb.deserialize(e,t,n,i,r,a)}static async deserialize(e,t,n){const i=await super.deserialize(e,t,n);return i.#Gs=e.areContours,i.description=e.accessibilityData?.alt||"",i.#Xs=e.uuid,i}}class Hb extends wf{#Ys=null;#Zs=null;#Qs=null;#Js=null;#ec=null;#tc="";#nc=null;#ic=!1;#rc=null;#ac=!1;#oc=!1;static _type="stamp";static _editorType=Zu.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#Js=e.bitmapUrl,this.#ec=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){wf.initialize(e,t)}static isHandlingMimeForPasting(e){return lf.includes(e)}static paste(e,t){t.pasteEditor({mode:Zu.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#sc(e,t=!1){e?(this.#Ys=e.bitmap,t||(this.#Zs=e.id,this.#ac=e.isSvg),e.file&&(this.#tc=e.file.name),this.#cc()):this.remove()}#lc(){if(this.#Qs=null,this._uiManager.enableWaiting(!1),this.#nc)if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#Ys)this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});else{if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#Ys){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!(await n.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");const{data:i,width:r,height:a}=e||this.copyCanvas(null,null,!0).imageData,o=await n.guess({name:"altText",request:{data:i,width:r,height:a,channels:i.length/(r*a)}});if(!o)throw new Error("No response from the AI service.");if(o.error)throw new Error("Error from the AI service.");if(o.cancel)return null;if(!o.output)throw new Error("No valid response from the AI service.");const s=o.output;return await this.setGuessedAltText(s),t&&!this.hasAltTextData()&&(this.altTextData={alt:s,decorative:!1}),s}#dc(){if(this.#Zs)return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(this.#Zs).then(e=>this.#sc(e,!0)).finally(()=>this.#lc());if(this.#Js){const e=this.#Js;return this.#Js=null,this._uiManager.enableWaiting(!0),void(this.#Qs=this._uiManager.imageManager.getFromUrl(e).then(e=>this.#sc(e)).finally(()=>this.#lc()))}if(this.#ec){const e=this.#ec;return this.#ec=null,this._uiManager.enableWaiting(!0),void(this.#Qs=this._uiManager.imageManager.getFromFile(e).then(e=>this.#sc(e)).finally(()=>this.#lc()))}const e=document.createElement("input");e.type="file",e.accept=lf.join(",");const t=this._uiManager._signal;this.#Qs=new Promise(n=>{e.addEventListener("change",async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#sc(t)}else this.remove();n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>this.#lc()),e.click()}remove(){this.#Zs&&(this.#Ys=null,this._uiManager.imageManager.deleteId(this.#Zs),this.#nc?.remove(),this.#nc=null,this.#rc&&(clearTimeout(this.#rc),this.#rc=null)),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(this.#Zs&&null===this.#nc&&this.#dc(),this.isAttachedToDOM||this.parent.add(this))):this.#Zs&&this.#dc()}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#Qs||this.#Ys||this.#Js||this.#ec||this.#Zs||this.#ic)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#ic||(this.#Ys?this.#cc():this.#dc()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#Zs=n,i&&(this.#Ys=i),this.#ic=!1,this.#cc())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;null!==this.#rc&&clearTimeout(this.#rc);this.#rc=setTimeout(()=>{this.#rc=null,this.#hc()},200)}#cc(){const{div:e}=this;let{width:t,height:n}=this.#Ys;const[i,r]=this.pageDimensions,a=.75;if(this.width)t=this.width*i,n=this.height*r;else if(t>a*i||n>a*r){const e=Math.min(a*i/t,a*r/n);t*=e,n*=e}const[o,s]=this.parentDimensions;this.setDims(t*o/i,n*s/r),this._uiManager.enableWaiting(!1);const c=this.#nc=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=t/i,this.height=n/r,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(e.hidden=!1),this.#hc(),this.#oc||(this.parent.addUndoableEditor(this),this.#oc=!0),this._reportTelemetry({action:"inserted_image"}),this.#tc&&this.div.setAttribute("aria-description",this.#tc),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,n=!1){e||(e=224);const{width:i,height:r}=this.#Ys,a=new cf;let o=this.#Ys,s=i,c=r,l=null;if(t){if(i>t||r>t){const e=Math.min(t/i,t/r);s=Math.floor(i*e),c=Math.floor(r*e)}l=document.createElement("canvas");const e=l.width=Math.ceil(s*a.sx),n=l.height=Math.ceil(c*a.sy);this.#ac||(o=this.#uc(e,n));const d=l.getContext("2d");d.filter=this._uiManager.hcmFilter;let h="white",u="#cfcfd8";"none"!==this._uiManager.hcmFilter?u="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(h="#8f8f9d",u="#42414d");const p=15,f=p*a.sx,g=p*a.sy,m=new OffscreenCanvas(2*f,2*g),b=m.getContext("2d");b.fillStyle=h,b.fillRect(0,0,2*f,2*g),b.fillStyle=u,b.fillRect(0,0,f,g),b.fillRect(f,g,f,g),d.fillStyle=d.createPattern(m,"repeat"),d.fillRect(0,0,e,n),d.drawImage(o,0,0,o.width,o.height,0,0,e,n)}let d=null;if(n){let t,n;if(a.symmetric&&o.width<e&&o.height<e)t=o.width,n=o.height;else if(o=this.#Ys,i>e||r>e){const a=Math.min(e/i,e/r);t=Math.floor(i*a),n=Math.floor(r*a),this.#ac||(o=this.#uc(t,n))}const s=new OffscreenCanvas(t,n).getContext("2d",{willReadFrequently:!0});s.drawImage(o,0,0,o.width,o.height,0,0,t,n),d={width:t,height:n,data:s.getImageData(0,0,t,n).data}}return{canvas:l,width:s,height:c,imageData:d}}#uc(e,t){const{width:n,height:i}=this.#Ys;let r=n,a=i,o=this.#Ys;for(;r>2*e||a>2*t;){const n=r,i=a;r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const s=new OffscreenCanvas(r,a);s.getContext("2d").drawImage(o,0,0,n,i,0,0,r,a),o=s.transferToImageBitmap()}return o}#hc(){const[e,t]=this.parentDimensions,{width:n,height:i}=this,r=new cf,a=Math.ceil(n*e*r.sx),o=Math.ceil(i*t*r.sy),s=this.#nc;if(!s||s.width===a&&s.height===o)return;s.width=a,s.height=o;const c=this.#ac?this.#Ys:this.#uc(a,o),l=s.getContext("2d");l.filter=this._uiManager.hcmFilter,l.drawImage(c,0,0,c.width,c.height,0,0,a,o)}#pc(e){if(e){if(this.#ac){const e=this._uiManager.imageManager.getSvgUrl(this.#Zs);if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=this.#Ys);return e.getContext("2d").drawImage(this.#Ys,0,0),e.toDataURL()}if(this.#ac){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*Gp.PDF_TO_CSS_UNITS),i=Math.round(this.height*t*Gp.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(n,i);return r.getContext("2d").drawImage(this.#Ys,0,0,this.#Ys.width,this.#Ys.height,0,0,n,i),r.transferToImageBitmap()}return structuredClone(this.#Ys)}static async deserialize(e,t,n){let i=null,r=!1;if(e instanceof xb){const{data:{rect:a,rotation:o,id:s,structParent:c,popupRef:l,contentsObj:d},container:h,parent:{page:{pageNumber:u}},canvas:p}=e;let f,g;p?(delete e.canvas,({id:f,bitmap:g}=n.imageManager.getFromCanvas(h.id,p)),p.remove()):(r=!0,e._hasNoCanvas=!0);const m=(await t._structTree.getAriaAttributes(`${qp}${s}`))?.get("aria-label")||"";i=e={annotationType:Zu.STAMP,bitmapId:f,bitmap:g,pageIndex:u-1,rect:a.slice(0),rotation:o,annotationElementId:s,id:s,deleted:!1,accessibilityData:{decorative:!1,altText:m},isSvg:!1,structParent:c,popupRef:l,comment:d?.str||null}}const a=await super.deserialize(e,t,n),{rect:o,bitmap:s,bitmapUrl:c,bitmapId:l,isSvg:d,accessibilityData:h}=e;r?(n.addMissingCanvas(e.id,a),a.#ic=!0):l&&n.imageManager.isValidId(l)?(a.#Zs=l,s&&(a.#Ys=s)):a.#Js=c,a.#ac=d;const[u,p]=a.pageDimensions;return a.width=(o[2]-o[0])/u,a.height=(o[3]-o[1])/p,h&&(a.altTextData=h),a._initialData=i,e.comment&&a.setCommentData(e.comment),a.#oc=!!i,a}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:Zu.STAMP,bitmapId:this.#Zs,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,isSvg:this.#ac,structTreeParentId:this._structTreeParentId};if(this.addComment(n),e)return n.bitmapUrl=this.#pc(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:i,altText:r}=this.serializeAltText(!1);if(!i&&r&&(n.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const e=this.#Za(n);if(e.isSame)return null;e.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1}if(n.id=this.annotationElementId,null===t)return n;t.stamps||=new Map;const a=this.#ac?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(this.#Zs)){if(this.#ac){const e=t.stamps.get(this.#Zs);a>e.area&&(e.area=a,e.serialized.bitmap.close(),e.serialized.bitmap=this.#pc(!1))}}else t.stamps.set(this.#Zs,{area:a,serialized:n}),n.bitmap=this.#pc(!1);return n}#Za(e){const{pageIndex:t,accessibilityData:{altText:n}}=this._initialData,i=e.pageIndex===t,r=(e.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&r,isSameAltText:r}}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const t={rect:this.getPDFRect()};return this.hasEditedComment&&(t.popup=this.comment),e.updateEdited(t),null}}class Vb{#Pa;#fc=!1;#gc=null;#mc=null;#bc=null;#yc=new Map;#vc=!1;#xc=!1;#_c=!1;#wc=null;#Dc=null;#Tc=null;#Ac=null;#Ec=null;#Cc=-1;#m;static _initialized=!1;static#H=new Map([Tb,Bb,Hb,Fb,zb].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:r,annotationLayer:a,drawLayer:o,textLayer:s,viewport:c,l10n:l}){const d=[...Vb.#H.values()];if(!Vb._initialized){Vb._initialized=!0;for(const t of d)t.initialize(l,e)}e.registerEditorTypes(d),this.#m=e,this.pageIndex=t,this.div=n,this.#Pa=r,this.#gc=a,this.viewport=c,this.#Tc=s,this.drawLayer=o,this._structTree=i,this.#m.addLayer(this)}get isEmpty(){return 0===this.#yc.size}get isInvisible(){return this.isEmpty&&this.#m.getMode()===Zu.NONE}updateToolbar(e){this.#m.updateToolbar(e)}updateMode(e=this.#m.getMode()){switch(this.#kc(),e){case Zu.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Zu.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Zu.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of Vb.#H.values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#Tc?.div}setEditingState(e){this.#m.setEditingState(e)}addCommands(e){this.#m.addCommands(e)}cleanUndoStack(e){this.#m.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#gc?.div.classList.toggle("disabled",!e)}async enable(){this.#_c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#Ec?.abort(),this.#Ec=null;const e=new Set;for(const n of this.#yc.values())n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#m.removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!this.#gc)return void(this.#_c=!1);const t=this.#gc.getEditableAnnotations();for(const n of t){if(n.hide(),this.#m.isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=await this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}this.#_c=!1}disable(){if(this.#xc=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#Tc&&!this.#Ec){this.#Ec=new AbortController;const e=this.#m.combinedSignal(this.#Ec);this.#Tc.div.addEventListener("pointerdown",e=>{const{clientX:t,clientY:n,timeStamp:i}=e;if(i-this.#Cc>500)return void(this.#Cc=i);this.#Cc=-1;const{classList:r}=this.div;r.toggle("getElements",!0);const a=document.elementsFromPoint(t,n);if(r.toggle("getElements",!1),!this.div.contains(a[0]))return;let o;const s=new RegExp(`^${Yu}[0-9]+$`);for(const l of a)if(s.test(l.id)){o=l.id;break}if(!o)return;const c=this.#yc.get(o);null===c?.annotationElementId&&(e.stopPropagation(),e.preventDefault(),c.dblclick())},{signal:e,capture:!0})}const e=new Map,t=new Map;for(const i of this.#yc.values())i.disableEditing(),i.annotationElementId&&(null===i.serialize()?(t.set(i.annotationElementId,i),this.getEditableAnnotation(i.annotationElementId)?.show(),i.remove()):e.set(i.annotationElementId,i));if(this.#gc){const n=this.#gc.getEditableAnnotations();for(const i of n){const{id:n}=i.data;if(this.#m.isDeletedAnnotationElement(n)){i.updateEdited({deleted:!0});continue}let r=t.get(n);r?(r.resetAnnotationElement(i),r.show(!1),i.show()):(r=e.get(n),r&&(this.#m.addChangedExistingAnnotation(r),r.renderAnnotationElement(i)&&r.show(!1)),i.show())}}this.#kc(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const i of Vb.#H.values())n.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#xc=!1}getEditableAnnotation(e){return this.#gc?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#m.getActive()!==e&&this.#m.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#Tc?.div&&!this.#Ac){this.#Ac=new AbortController;const e=this.#m.combinedSignal(this.#Ac);this.#Tc.div.addEventListener("pointerdown",this.#Sc.bind(this),{signal:e}),this.#Tc.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#Tc?.div&&this.#Ac&&(this.#Ac.abort(),this.#Ac=null,this.#Tc.div.classList.remove("highlighting"))}#Sc(e){this.#m.unselectAll();const{target:t}=e;if(t===this.#Tc.div||("img"===t.getAttribute("role")||t.classList.contains("endOfContent"))&&this.#Tc.div.contains(t)){const{isMac:t}=Mp.platform;if(0!==e.button||e.ctrlKey&&t)return;this.#m.showAllEditors("highlight",!0,!0),this.#Tc.div.classList.add("free"),this.toggleDrawing(),Fb.startHighlighting(this,"ltr"===this.#m.direction,{target:this.#Tc.div,x:e.x,y:e.y}),this.#Tc.div.addEventListener("pointerup",()=>{this.#Tc.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#m._signal}),e.preventDefault()}}enableClick(){if(this.#mc)return;this.#mc=new AbortController;const e=this.#m.combinedSignal(this.#mc);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#mc?.abort(),this.#mc=null}attach(e){this.#yc.set(e.id,e);const{annotationElementId:t}=e;t&&this.#m.isDeletedAnnotationElement(t)&&this.#m.removeDeletedAnnotationElement(e)}detach(e){this.#yc.delete(e.id),this.#Pa?.removePointerInTextLayer(e.contentDiv),!this.#xc&&e.annotationElementId&&this.#m.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#m.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#m.addDeletedAnnotationElement(e.annotationElementId),wf.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),this.#m.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#_c),this.#m.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#bc&&(e._focusEventsAllowed=!1,this.#bc=setTimeout(()=>{this.#bc=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#m._signal}),t.focus())},0)),e._structTreeParentId=this.#Pa?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return this.#m.getId()}get#Uc(){return Vb.#H.get(this.#m.getMode())}combinedSignal(e){return this.#m.combinedSignal(e)}#Oc(e){const t=this.#Uc;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#Uc?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#m.updateMode(e.mode);const{offsetX:n,offsetY:i}=this.#Fc(),r=this.getNextId(),a=this.#Oc({parent:this,id:r,x:n,y:i,uiManager:this.#m,isCentered:!0,...t});a&&this.add(a)}async deserialize(e){return await(Vb.#H.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#m))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),r=this.#Oc({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#m,isCentered:t,...n});return r&&this.add(r),r}#Fc(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,e),a=Math.max(0,t),o=(r+Math.min(window.innerWidth,e+n))/2-e,s=(a+Math.min(window.innerHeight,t+i))/2-t,[c,l]=this.viewport.rotation%180==0?[o,s]:[s,o];return{offsetX:c,offsetY:l}}addNewEditor(e={}){this.createAndAddNewEditor(this.#Fc(),!0,e)}setSelected(e){this.#m.setSelected(e)}toggleSelected(e){this.#m.toggleSelected(e)}unselect(e){this.#m.unselect(e)}pointerup(e){const{isMac:t}=Mp.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;if(!this.#vc)return;if(this.#vc=!1,this.#Uc?.isDrawer&&this.#Uc.supportMultipleDrawings)return;if(!this.#fc)return void(this.#fc=!0);const n=this.#m.getMode();n!==Zu.STAMP&&n!==Zu.SIGNATURE?this.createAndAddNewEditor(e,!1):this.#m.unselectAll()}pointerdown(e){if(this.#m.getMode()===Zu.HIGHLIGHT&&this.enableTextSelection(),this.#vc)return void(this.#vc=!1);const{isMac:t}=Mp.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;if(this.#vc=!0,this.#Uc?.isDrawer)return void this.startDrawingSession(e);const n=this.#m.getActive();this.#fc=!n||n.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#wc)return void this.#Uc.startDrawing(this,this.#m,!1,e);this.#m.setCurrentDrawingSession(this),this.#wc=new AbortController;const t=this.#m.combinedSignal(this.#wc);this.div.addEventListener("blur",({relatedTarget:e})=>{e&&!this.div.contains(e)&&(this.#Dc=null,this.commitOrRemove())},{signal:t}),this.#Uc.startDrawing(this,this.#m,!1,e)}pause(e){if(e){const{activeElement:e}=document;return void(this.div.contains(e)&&(this.#Dc=e))}this.#Dc&&setTimeout(()=>{this.#Dc?.focus(),this.#Dc=null},0)}endDrawingSession(e=!1){return this.#wc?(this.#m.setCurrentDrawingSession(null),this.#wc.abort(),this.#wc=null,this.#Dc=null,this.#Uc.endDrawing(e)):null}findNewParent(e,t,n){const i=this.#m.findParent(t,n);return null!==i&&i!==this&&(i.changeParent(e),!0)}commitOrRemove(){return!!this.#wc&&(this.endDrawingSession(),!0)}onScaleChanging(){this.#wc&&this.#Uc.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#m.getActive()?.parent===this&&(this.#m.commitOrRemove(),this.#m.setActiveEditor(null)),this.#bc&&(clearTimeout(this.#bc),this.#bc=null);for(const e of this.#yc.values())this.#Pa?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#yc.clear(),this.#m.removeLayer(this)}#kc(){for(const e of this.#yc.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,sf(this.div,e);for(const t of this.#m.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#m.commitOrRemove(),this.#kc();const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,sf(this.div,{rotation:n}),t!==n)for(const i of this.#yc.values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#m.viewParameters.realScale}}class Gb{#oa=null;#Nc=new Map;#Pc=new Map;static#x=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(this.#oa){if(this.#oa!==e){if(this.#Nc.size>0)for(const t of this.#Nc.values())t.remove(),e.append(t);this.#oa=e}}else this.#oa=e}static get _svgFactory(){return Ep(this,"_svgFactory",new Vm)}static#Ic(e,[t,n,i,r]){const{style:a}=e;a.top=100*n+"%",a.left=100*t+"%",a.width=100*i+"%",a.height=100*r+"%"}#Mc(){const e=Gb._svgFactory.create(1,1,!0);return this.#oa.append(e),e.setAttribute("aria-hidden",!0),e}#Rc(e,t){const n=Gb._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=Gb._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),i}#Bc(e,t){for(const[n,i]of Object.entries(t))null===i?e.removeAttribute(n):e.setAttribute(n,i)}draw(e,t=!1,n=!1){const i=Gb.#x++,r=this.#Mc(),a=Gb._svgFactory.createElement("defs");r.append(a);const o=Gb._svgFactory.createElement("path");a.append(o);const s=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",s),o.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#Pc.set(i,o);const c=n?this.#Rc(a,s):null,l=Gb._svgFactory.createElement("use");return r.append(l),l.setAttribute("href",`#${s}`),this.updateProperties(r,e),this.#Nc.set(i,r),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,t){const n=Gb.#x++,i=this.#Mc(),r=Gb._svgFactory.createElement("defs");i.append(r);const a=Gb._svgFactory.createElement("path");r.append(a);const o=`path_p${this.pageIndex}_${n}`;let s;if(a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke"),t){const e=Gb._svgFactory.createElement("mask");r.append(e),s=`mask_p${this.pageIndex}_${n}`,e.setAttribute("id",s),e.setAttribute("maskUnits","objectBoundingBox");const t=Gb._svgFactory.createElement("rect");e.append(t),t.setAttribute("width","1"),t.setAttribute("height","1"),t.setAttribute("fill","white");const i=Gb._svgFactory.createElement("use");e.append(i),i.setAttribute("href",`#${o}`),i.setAttribute("stroke","none"),i.setAttribute("fill","black"),i.setAttribute("fill-rule","nonzero"),i.classList.add("mask")}const c=Gb._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),s&&c.setAttribute("mask",`url(#${s})`);const l=c.cloneNode();return i.append(l),c.classList.add("mainOutline"),l.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#Nc.set(n,i),n}finalizeDraw(e,t){this.#Pc.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:i,rootClass:r,path:a}=t,o="number"==typeof e?this.#Nc.get(e):e;if(o){if(n&&this.#Bc(o,n),i&&Gb.#Ic(o,i),r){const{classList:e}=o;for(const[t,n]of Object.entries(r))e.toggle(t,n)}if(a){const e=o.firstChild.firstChild;this.#Bc(e,a)}}}updateParent(e,t){if(t===this)return;const n=this.#Nc.get(e);n&&(t.#oa.append(n),this.#Nc.delete(e),t.#Nc.set(e,n))}remove(e){this.#Pc.delete(e),null!==this.#oa&&(this.#Nc.get(e).remove(),this.#Nc.delete(e))}destroy(){this.#oa=null;for(const e of this.#Nc.values())e.remove();this.#Nc.clear(),this.#Pc.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:kb},globalThis.pdfjsLib={AbortException:Np,AnnotationEditorLayer:Vb,AnnotationEditorParamsType:Qu,AnnotationEditorType:Zu,AnnotationEditorUIManager:yf,AnnotationLayer:wb,AnnotationMode:Xu,AnnotationType:op,build:"9e2e9e209",ColorPicker:Lm,createValidAbsoluteUrl:Tp,DOMSVGFactory:Vm,DrawLayer:Gb,FeatureTest:Mp,fetchData:$p,getDocument:Um,getFilenameFromUrl:function(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)},getPdfFilenameFromUrl:function(e,t="document.pdf"){if("string"!=typeof e)return t;if(Yp(e))return t;const n=(e=>{try{return new URL(e)}catch{try{return new URL(decodeURIComponent(e))}catch{try{return new URL(e,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(e),"https://foo.bar")}catch{return null}}}}})(e);if(!n)return t;const i=e=>{try{let t=decodeURIComponent(e);return t.includes("/")?(t=t.split("/").at(-1),t.test(/^\.pdf$/i)?t:e):t}catch{return e}},r=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(r.test(a))return i(a);if(n.searchParams.size>0){const e=Array.from(n.searchParams.values()).reverse();for(const n of e)if(r.test(n))return i(n);const t=Array.from(n.searchParams.keys()).reverse();for(const n of t)if(r.test(n))return i(n)}if(n.hash){const e=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(e)return i(e[0])}return t},getRGB:rf,getUuid:Wp,getXfaPageViewport:function(e,{scale:t=1,rotation:n=0}){const{width:i,height:r}=e.attributes.style,a=[0,0,parseInt(i),parseInt(r)];return new Kp({viewBox:a,userUnit:1,scale:t,rotation:n})},GlobalWorkerOptions:Jg,ImageKind:ap,InvalidPDFException:Up,isDataScheme:Yp,isPdfFile:Zp,isValidExplicitDest:If,MathClamp:zp,noContextMenu:ef,normalizeUnicode:function(e){return Lp||(Lp=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,jp=new Map([["ﬅ","ſt"]])),e.replaceAll(Lp,(e,t,n)=>t?t.normalize("NFKC"):jp.get(n))},OPS:pp,OutputScale:cf,PasswordResponses:{NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PDFDataRangeTransport:Fm,PDFDateString:nf,PDFWorker:Im,PermissionFlag:{PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},PixelsPerInch:Gp,RenderingCancelledException:Xp,ResponseException:Op,setLayerDimensions:sf,shadow:Ep,SignatureExtractor:jb,stopEvent:tf,SupportedImageMimeTypes:lf,TextLayer:km,TouchManager:_f,updateUrlHash:Ap,Util:Bp,VerbosityLevel:up,version:"5.4.149",XfaLayer:Gm},Jg.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";const $b=async e=>{const t=await e.arrayBuffer(),n=await Um(t).promise;let i="";for(let r=1;r<=n.numPages;r++){const e=await n.getPage(r);i+=(await e.getTextContent()).items.map(e=>e.str).join(" ")+"\n"}return i},Kb=async e=>{const t=await e.arrayBuffer();return(await Ru({arrayBuffer:t})).value},Xb=e=>{const t=e.split("\n").map(e=>e.trim()).filter(e=>e),n=e.toLowerCase(),i=Yb(t),r=Zb(n,["department:","team:","division:","group:","department","team","division"]),a=Zb(n,["location:","based in:","office:","city:","remote","hybrid","on-site","onsite"]),o=Zb(n,["experience:","years of experience:","experience required:","minimum experience:","required experience:"])||Qb(e),s=Jb(e),c=ey(e,["job description","description","overview","about the role","role overview","position summary","summary"]),l=ey(e,["responsibilities","duties","key responsibilities","main responsibilities","role responsibilities","what you will do","what you'll do","your responsibilities"]),d=ey(e,["requirements","qualifications","skills required","required skills","must have","essential skills","minimum requirements","required qualifications"]);return{title:i,department:r,location:a,experience:o,salary:s,description:c||e.substring(0,500)+"...",responsibilities:l,requirements:d}},Yb=e=>{for(const t of e.slice(0,5))if(t.length>5&&t.length<100&&!t.toLowerCase().includes("job description")&&!t.toLowerCase().includes("company")&&!t.toLowerCase().includes("location"))return t;return e[0]||""},Zb=(e,t)=>{for(const n of t){const t=new RegExp(`${n}\\s*:?\\s*([^\\n.]+)`,"i"),i=e.match(t);if(i&&i[1])return i[1].trim()}},Qb=e=>{const t=[/(\d+)\+?\s*(?:to|\-)\s*(\d+)\s*years?/i,/(\d+)\+\s*years?/i,/(\d+)\s*years?\s*(?:of\s*)?experience/i];for(const n of t){const t=e.match(n);if(t)return t[0]}},Jb=e=>{const t=[/[$₹£€]\s*\d+(?:,\d{3})*(?:\s*-\s*[$₹£€]?\s*\d+(?:,\d{3})*)?(?:\s*(?:per\s*)?(?:year|annum|annually|month|monthly)?)?/i,/\d+(?:,\d{3})*\s*(?:to|-)\s*\d+(?:,\d{3})*\s*(?:lpa|lakhs?|k|thousand)/i,/salary:\s*([^\n.]+)/i,/compensation:\s*([^\n.]+)/i];for(const n of t){const t=e.match(n);if(t)return t[0].trim()}},ey=(e,t)=>{const n=e.split("\n");for(const i of t)for(let e=0;e<n.length;e++){if(n[e].toLowerCase().trim().includes(i)){const t=[];let i=e+1;for(;i<n.length;){const e=n[i].trim();if(ty(e.toLowerCase()))break;if(e&&t.push(e),i++,t.length>20)break}if(t.length>0)return t.join("\n")}}},ty=e=>["responsibilities","requirements","qualifications","skills","experience","education","benefits","salary","compensation","location","about","company","description","overview","what we offer","perks","culture"].some(t=>e.includes(t)&&e.length<50);var ny=function(){this.__data__=[],this.size=0};var iy=function(e,t){return e===t||e!=e&&t!=t},ry=iy;var ay=function(e,t){for(var n=e.length;n--;)if(ry(e[n][0],t))return n;return-1},oy=ay,sy=Array.prototype.splice;var cy=ay;var ly=ay;var dy=ay;var hy=ny,uy=function(e){var t=this.__data__,n=oy(t,e);return!(n<0)&&(n==t.length-1?t.pop():sy.call(t,n,1),--this.size,!0)},py=function(e){var t=this.__data__,n=cy(t,e);return n<0?void 0:t[n][1]},fy=function(e){return ly(this.__data__,e)>-1},gy=function(e,t){var n=this.__data__,i=dy(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};function my(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}my.prototype.clear=hy,my.prototype.delete=uy,my.prototype.get=py,my.prototype.has=fy,my.prototype.set=gy;var by=my,yy=by;var vy=function(){this.__data__=new yy,this.size=0};var xy=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var _y=function(e){return this.__data__.get(e)};var wy=function(e){return this.__data__.has(e)},Dy="object"==typeof l&&l&&l.Object===Object&&l,Ty=Dy,Ay="object"==typeof self&&self&&self.Object===Object&&self,Ey=Ty||Ay||Function("return this")(),Cy=Ey.Symbol,ky=Cy,Sy=Object.prototype,Uy=Sy.hasOwnProperty,Oy=Sy.toString,Fy=ky?ky.toStringTag:void 0;var Ny=function(e){var t=Uy.call(e,Fy),n=e[Fy];try{e[Fy]=void 0;var i=!0}catch(Pw){}var r=Oy.call(e);return i&&(t?e[Fy]=n:delete e[Fy]),r},Py=Object.prototype.toString;var Iy=Ny,My=function(e){return Py.call(e)},Ry=Cy?Cy.toStringTag:void 0;var By=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ry&&Ry in Object(e)?Iy(e):My(e)};var Ly=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},jy=By,Wy=Ly;var qy,zy=function(e){if(!Wy(e))return!1;var t=jy(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Hy=Ey["__core-js_shared__"],Vy=(qy=/[^.]+$/.exec(Hy&&Hy.keys&&Hy.keys.IE_PROTO||""))?"Symbol(src)_1."+qy:"";var Gy=function(e){return!!Vy&&Vy in e},$y=Function.prototype.toString;var Ky=function(e){if(null!=e){try{return $y.call(e)}catch(Pw){}try{return e+""}catch(Pw){}}return""},Xy=zy,Yy=Gy,Zy=Ly,Qy=Ky,Jy=/^\[object .+?Constructor\]$/,ev=Function.prototype,tv=Object.prototype,nv=ev.toString,iv=tv.hasOwnProperty,rv=RegExp("^"+nv.call(iv).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var av=function(e,t){return null==e?void 0:e[t]},ov=function(e){return!(!Zy(e)||Yy(e))&&(Xy(e)?rv:Jy).test(Qy(e))},sv=av;var cv=function(e,t){var n=sv(e,t);return ov(n)?n:void 0},lv=cv(Ey,"Map"),dv=cv(Object,"create"),hv=dv;var uv=function(){this.__data__=hv?hv(null):{},this.size=0};var pv=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},fv=dv,gv=Object.prototype.hasOwnProperty;var mv=function(e){var t=this.__data__;if(fv){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return gv.call(t,e)?t[e]:void 0},bv=dv,yv=Object.prototype.hasOwnProperty;var vv=dv;var xv=uv,_v=pv,wv=mv,Dv=function(e){var t=this.__data__;return bv?void 0!==t[e]:yv.call(t,e)},Tv=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vv&&void 0===t?"__lodash_hash_undefined__":t,this};function Av(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Av.prototype.clear=xv,Av.prototype.delete=_v,Av.prototype.get=wv,Av.prototype.has=Dv,Av.prototype.set=Tv;var Ev=Av,Cv=by,kv=lv;var Sv=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Uv=function(e,t){var n=e.__data__;return Sv(t)?n["string"==typeof t?"string":"hash"]:n.map},Ov=Uv;var Fv=function(e){var t=Ov(this,e).delete(e);return this.size-=t?1:0,t},Nv=Uv;var Pv=Uv;var Iv=Uv;var Mv=function(e,t){var n=Iv(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Rv=function(){this.size=0,this.__data__={hash:new Ev,map:new(kv||Cv),string:new Ev}},Bv=Fv,Lv=function(e){return Nv(this,e).get(e)},jv=function(e){return Pv(this,e).has(e)},Wv=Mv;function qv(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}qv.prototype.clear=Rv,qv.prototype.delete=Bv,qv.prototype.get=Lv,qv.prototype.has=jv,qv.prototype.set=Wv;var zv=qv,Hv=by,Vv=lv,Gv=zv;var $v=function(e,t){var n=this.__data__;if(n instanceof Hv){var i=n.__data__;if(!Vv||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gv(i)}return n.set(e,t),this.size=n.size,this},Kv=by,Xv=vy,Yv=xy,Zv=_y,Qv=wy,Jv=$v;function ex(e){var t=this.__data__=new Kv(e);this.size=t.size}ex.prototype.clear=Xv,ex.prototype.delete=Yv,ex.prototype.get=Zv,ex.prototype.has=Qv,ex.prototype.set=Jv;var tx=ex;var nx=zv,ix=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},rx=function(e){return this.__data__.has(e)};function ax(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new nx;++t<n;)this.add(e[t])}ax.prototype.add=ax.prototype.push=ix,ax.prototype.has=rx;var ox=ax,sx=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},cx=function(e,t){return e.has(t)};var lx=function(e,t,n,i,r,a){var o=1&n,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var l=a.get(e),d=a.get(t);if(l&&d)return l==t&&d==e;var h=-1,u=!0,p=2&n?new ox:void 0;for(a.set(e,t),a.set(t,e);++h<s;){var f=e[h],g=t[h];if(i)var m=o?i(g,f,h,t,e,a):i(f,g,h,e,t,a);if(void 0!==m){if(m)continue;u=!1;break}if(p){if(!sx(t,function(e,t){if(!cx(p,t)&&(f===e||r(f,e,n,i,a)))return p.push(t)})){u=!1;break}}else if(f!==g&&!r(f,g,n,i,a)){u=!1;break}}return a.delete(e),a.delete(t),u};var dx=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n};var hx=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},ux=Ey.Uint8Array,px=iy,fx=lx,gx=dx,mx=hx,bx=Cy?Cy.prototype:void 0,yx=bx?bx.valueOf:void 0;var vx=function(e,t,n,i,r,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new ux(e),new ux(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return px(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=gx;case"[object Set]":var c=1&i;if(s||(s=mx),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;i|=2,o.set(e,t);var d=fx(s(e),s(t),i,r,a,o);return o.delete(e),d;case"[object Symbol]":if(yx)return yx.call(e)==yx.call(t)}return!1};var xx=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e},_x=Array.isArray,wx=xx,Dx=_x;var Tx=function(e,t,n){var i=t(e);return Dx(e)?i:wx(i,n(e))};var Ax=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[r++]=o)}return a};var Ex=Ax,Cx=function(){return[]},kx=Object.prototype.propertyIsEnumerable,Sx=Object.getOwnPropertySymbols,Ux=Sx?function(e){return null==e?[]:(e=Object(e),Ex(Sx(e),function(t){return kx.call(e,t)}))}:Cx,Ox=Ux;var Fx=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i};var Nx=function(e){return null!=e&&"object"==typeof e},Px=By,Ix=Nx;var Mx=function(e){return Ix(e)&&"[object Arguments]"==Px(e)},Rx=Nx,Bx=Object.prototype,Lx=Bx.hasOwnProperty,jx=Bx.propertyIsEnumerable,Wx=Mx(function(){return arguments}())?Mx:function(e){return Rx(e)&&Lx.call(e,"callee")&&!jx.call(e,"callee")},qx={exports:{}};var zx=function(){return!1};!function(e,t){var n=Ey,i=zx,r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,o=a&&a.exports===r?n.Buffer:void 0,s=(o?o.isBuffer:void 0)||i;e.exports=s}(qx,qx.exports);var Hx=qx.exports,Vx=/^(?:0|[1-9]\d*)$/;var Gx=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Vx.test(e))&&e>-1&&e%1==0&&e<t};var $x=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Kx=By,Xx=$x,Yx=Nx,Zx={};Zx["[object Float32Array]"]=Zx["[object Float64Array]"]=Zx["[object Int8Array]"]=Zx["[object Int16Array]"]=Zx["[object Int32Array]"]=Zx["[object Uint8Array]"]=Zx["[object Uint8ClampedArray]"]=Zx["[object Uint16Array]"]=Zx["[object Uint32Array]"]=!0,Zx["[object Arguments]"]=Zx["[object Array]"]=Zx["[object ArrayBuffer]"]=Zx["[object Boolean]"]=Zx["[object DataView]"]=Zx["[object Date]"]=Zx["[object Error]"]=Zx["[object Function]"]=Zx["[object Map]"]=Zx["[object Number]"]=Zx["[object Object]"]=Zx["[object RegExp]"]=Zx["[object Set]"]=Zx["[object String]"]=Zx["[object WeakMap]"]=!1;var Qx=function(e){return Yx(e)&&Xx(e.length)&&!!Zx[Kx(e)]};var Jx=function(e){return function(t){return e(t)}},e_={exports:{}};!function(e,t){var n=Dy,i=t&&!t.nodeType&&t,r=i&&e&&!e.nodeType&&e,a=r&&r.exports===i&&n.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(Pw){}}();e.exports=o}(e_,e_.exports);var t_=e_.exports,n_=Qx,i_=Jx,r_=t_&&t_.isTypedArray,a_=r_?i_(r_):n_,o_=Fx,s_=Wx,c_=_x,l_=Hx,d_=Gx,h_=a_,u_=Object.prototype.hasOwnProperty;var p_=function(e,t){var n=c_(e),i=!n&&s_(e),r=!n&&!i&&l_(e),a=!n&&!i&&!r&&h_(e),o=n||i||r||a,s=o?o_(e.length,String):[],c=s.length;for(var l in e)!t&&!u_.call(e,l)||o&&("length"==l||r&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||d_(l,c))||s.push(l);return s},f_=Object.prototype;var g_=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||f_)};var m_=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),b_=g_,y_=m_,v_=Object.prototype.hasOwnProperty;var x_=function(e){if(!b_(e))return y_(e);var t=[];for(var n in Object(e))v_.call(e,n)&&"constructor"!=n&&t.push(n);return t},__=zy,w_=$x;var D_=p_,T_=x_,A_=function(e){return null!=e&&w_(e.length)&&!__(e)};var E_=function(e){return A_(e)?D_(e):T_(e)},C_=Tx,k_=Ox,S_=E_;var U_=function(e){return C_(e,S_,k_)},O_=U_,F_=Object.prototype.hasOwnProperty;var N_=function(e,t,n,i,r,a){var o=1&n,s=O_(e),c=s.length;if(c!=O_(t).length&&!o)return!1;for(var l=c;l--;){var d=s[l];if(!(o?d in t:F_.call(t,d)))return!1}var h=a.get(e),u=a.get(t);if(h&&u)return h==t&&u==e;var p=!0;a.set(e,t),a.set(t,e);for(var f=o;++l<c;){var g=e[d=s[l]],m=t[d];if(i)var b=o?i(m,g,d,t,e,a):i(g,m,d,e,t,a);if(!(void 0===b?g===m||r(g,m,n,i,a):b)){p=!1;break}f||(f="constructor"==d)}if(p&&!f){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(p=!1)}return a.delete(e),a.delete(t),p},P_=cv(Ey,"DataView"),I_=lv,M_=cv(Ey,"Promise"),R_=cv(Ey,"Set"),B_=cv(Ey,"WeakMap"),L_=By,j_=Ky,W_="[object Map]",q_="[object Promise]",z_="[object Set]",H_="[object WeakMap]",V_="[object DataView]",G_=j_(P_),$_=j_(I_),K_=j_(M_),X_=j_(R_),Y_=j_(B_),Z_=L_;(P_&&Z_(new P_(new ArrayBuffer(1)))!=V_||I_&&Z_(new I_)!=W_||M_&&Z_(M_.resolve())!=q_||R_&&Z_(new R_)!=z_||B_&&Z_(new B_)!=H_)&&(Z_=function(e){var t=L_(e),n="[object Object]"==t?e.constructor:void 0,i=n?j_(n):"";if(i)switch(i){case G_:return V_;case $_:return W_;case K_:return q_;case X_:return z_;case Y_:return H_}return t});var Q_=tx,J_=lx,ew=vx,tw=N_,nw=Z_,iw=_x,rw=Hx,aw=a_,ow="[object Arguments]",sw="[object Array]",cw="[object Object]",lw=Object.prototype.hasOwnProperty;var dw=function(e,t,n,i,r,a){var o=iw(e),s=iw(t),c=o?sw:nw(e),l=s?sw:nw(t),d=(c=c==ow?cw:c)==cw,h=(l=l==ow?cw:l)==cw,u=c==l;if(u&&rw(e)){if(!rw(t))return!1;o=!0,d=!1}if(u&&!d)return a||(a=new Q_),o||aw(e)?J_(e,t,n,i,r,a):ew(e,t,c,n,i,r,a);if(!(1&n)){var p=d&&lw.call(e,"__wrapped__"),f=h&&lw.call(t,"__wrapped__");if(p||f){var g=p?e.value():e,m=f?t.value():t;return a||(a=new Q_),r(g,m,n,i,a)}}return!!u&&(a||(a=new Q_),tw(e,t,n,i,r,a))},hw=dw,uw=Nx;var pw=function e(t,n,i,r,a){return t===n||(null==t||null==n||!uw(t)&&!uw(n)?t!=t&&n!=n:hw(t,n,i,r,e,a))},fw=pw;var gw,mw=function(e,t){return fw(e,t)},bw={exports:{}};"undefined"!=typeof self&&self,gw=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),r=n(18),a=n(19),o=n(45),s=n(46),c=n(47),l=n(48),d=n(49),h=n(12),u=n(32),p=n(33),f=n(31),g=n(1),m={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:i.default,Format:r.default,Leaf:a.default,Embed:l.default,Scroll:o.default,Block:c.default,Inline:s.default,Text:d.default,Attributor:{Attribute:h.default,Class:u.default,Style:p.default,Store:f.default}};t.default=m},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return r(t,e),t}(Error);t.ParchmentError=a;var o,s={},c={},l={},d={};function h(e,t){var n;if(void 0===t&&(t=o.ANY),"string"==typeof e)n=d[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=d.text;else if("number"==typeof e)e&o.LEVEL&o.BLOCK?n=d.block:e&o.LEVEL&o.INLINE&&(n=d.inline);else if(e instanceof HTMLElement){var i=(e.getAttribute("class")||"").split(/\s+/);for(var r in i)if(n=c[i[r]])break;n=n||l[e.tagName]}return null==n?null:t&o.LEVEL&n.scope&&t&o.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(o=t.Scope||(t.Scope={})),t.create=function(e,t){var n=h(e);if(null==n)throw new a("Unable to create "+e+" blot");var i=n,r=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(t);return new i(r,t)},t.find=function e(n,i){return void 0===i&&(i=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:i?e(n.parentNode,i):null},t.query=h,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map(function(t){return e(t)});var i=t[0];if("string"!=typeof i.blotName&&"string"!=typeof i.attrName)throw new a("Invalid definition");if("abstract"===i.blotName)throw new a("Cannot register abstract class");return d[i.blotName||i.attrName]=i,"string"==typeof i.keyName?s[i.keyName]=i:(null!=i.className&&(c[i.className]=i),null!=i.tagName&&(Array.isArray(i.tagName)?i.tagName=i.tagName.map(function(e){return e.toUpperCase()}):i.tagName=i.tagName.toUpperCase(),(Array.isArray(i.tagName)?i.tagName:[i.tagName]).forEach(function(e){null!=l[e]&&null!=i.className||(l[e]=i)}))),i}},function(e,t,n){var i=n(51),r=n(11),a=n(3),o=n(20),s=String.fromCharCode(0),c=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};c.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},c.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},c.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},c.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=a(!0,{},e),"object"==typeof n){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!=typeof(n=this.ops[t-1])))return this.ops.unshift(e),this;if(r(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},c.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},c.prototype.filter=function(e){return this.ops.filter(e)},c.prototype.forEach=function(e){this.ops.forEach(e)},c.prototype.map=function(e){return this.ops.map(e)},c.prototype.partition=function(e){var t=[],n=[];return this.forEach(function(i){(e(i)?t:n).push(i)}),[t,n]},c.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},c.prototype.changeLength=function(){return this.reduce(function(e,t){return t.insert?e+o.length(t):t.delete?e-t.delete:e},0)},c.prototype.length=function(){return this.reduce(function(e,t){return e+o.length(t)},0)},c.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],i=o.iterator(this.ops),r=0;r<t&&i.hasNext();){var a;r<e?a=i.next(e-r):(a=i.next(t-r),n.push(a)),r+=o.length(a)}return new c(n)},c.prototype.compose=function(e){var t=o.iterator(this.ops),n=o.iterator(e.ops),i=[],a=n.peek();if(null!=a&&"number"==typeof a.retain&&null==a.attributes){for(var s=a.retain;"insert"===t.peekType()&&t.peekLength()<=s;)s-=t.peekLength(),i.push(t.next());a.retain-s>0&&n.next(a.retain-s)}for(var l=new c(i);t.hasNext()||n.hasNext();)if("insert"===n.peekType())l.push(n.next());else if("delete"===t.peekType())l.push(t.next());else{var d=Math.min(t.peekLength(),n.peekLength()),h=t.next(d),u=n.next(d);if("number"==typeof u.retain){var p={};"number"==typeof h.retain?p.retain=d:p.insert=h.insert;var f=o.attributes.compose(h.attributes,u.attributes,"number"==typeof h.retain);if(f&&(p.attributes=f),l.push(p),!n.hasNext()&&r(l.ops[l.ops.length-1],p)){var g=new c(t.rest());return l.concat(g).chop()}}else"number"==typeof u.delete&&"number"==typeof h.retain&&l.push(u)}return l.chop()},c.prototype.concat=function(e){var t=new c(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},c.prototype.diff=function(e,t){if(this.ops===e.ops)return new c;var n=[this,e].map(function(t){return t.map(function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")}),a=new c,l=i(n[0],n[1],t),d=o.iterator(this.ops),h=o.iterator(e.ops);return l.forEach(function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case i.INSERT:n=Math.min(h.peekLength(),t),a.push(h.next(n));break;case i.DELETE:n=Math.min(t,d.peekLength()),d.next(n),a.delete(n);break;case i.EQUAL:n=Math.min(d.peekLength(),h.peekLength(),t);var s=d.next(n),c=h.next(n);r(s.insert,c.insert)?a.retain(n,o.attributes.diff(s.attributes,c.attributes)):a.push(c).delete(n)}t-=n}}),a.chop()},c.prototype.eachLine=function(e,t){t=t||"\n";for(var n=o.iterator(this.ops),i=new c,r=0;n.hasNext();){if("insert"!==n.peekType())return;var a=n.peek(),s=o.length(a)-n.peekLength(),l="string"==typeof a.insert?a.insert.indexOf(t,s)-s:-1;if(l<0)i.push(n.next());else if(l>0)i.push(n.next(l));else{if(!1===e(i,n.next(1).attributes||{},r))return;r+=1,i=new c}}i.length()>0&&e(i,{},r)},c.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=o.iterator(this.ops),i=o.iterator(e.ops),r=new c;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===i.peekType())if("insert"===i.peekType())r.push(i.next());else{var a=Math.min(n.peekLength(),i.peekLength()),s=n.next(a),l=i.next(a);if(s.delete)continue;l.delete?r.push(l):r.retain(a,o.attributes.transform(s.attributes,l.attributes,t))}else r.retain(o.length(n.next()));return r.chop()},c.prototype.transformPosition=function(e,t){t=!!t;for(var n=o.iterator(this.ops),i=0;n.hasNext()&&i<=e;){var r=n.peekLength(),a=n.peekType();n.next(),"delete"!==a?("insert"===a&&(i<e||!t)&&(e+=r),i+=r):e-=Math.min(r,e-i)}return e},e.exports=c},function(e,t){var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},s=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,r=n.call(e,"constructor"),a=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!a)return!1;for(t in e);return void 0===t||n.call(e,t)},c=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},l=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(a)return a(e,t).value}return e[t]};e.exports=function e(){var t,n,i,r,a,d,h=arguments[0],u=1,p=arguments.length,f=!1;for("boolean"==typeof h&&(f=h,h=arguments[1]||{},u=2),(null==h||"object"!=typeof h&&"function"!=typeof h)&&(h={});u<p;++u)if(null!=(t=arguments[u]))for(n in t)i=l(h,n),h!==(r=l(t,n))&&(f&&r&&(s(r)||(a=o(r)))?(a?(a=!1,d=i&&o(i)?i:[]):d=i&&s(i)?i:{},c(h,{name:n,newValue:e(f,d,r)})):void 0!==r&&c(h,{name:n,newValue:r}));return h}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=h(n(3)),o=h(n(2)),s=h(n(0)),c=h(n(16)),l=h(n(6)),d=h(n(7));function h(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return u(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),i(t,[{key:"attach",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new o.default).insert(this.value(),(0,a.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,i){this.format(n,i)}},{key:"insertAt",value:function(e,n,i){if("string"==typeof n&&n.endsWith("\n")){var a=s.default.create(m.blotName);this.parent.insertBefore(a,0===e?this:this.next),a.insertAt(0,n.slice(0,-1))}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i)}}]),t}(s.default.Embed);g.scope=s.default.Scope.BLOCK_BLOT;var m=function(e){function t(e){u(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return f(t,e),i(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce(function(e,t){return 0===t.length()?e:e.insert(t.value(),b(t))},new o.default).insert("\n",b(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,i,a){n<=0||(s.default.query(i,s.default.Scope.BLOCK)?e+n===this.length()&&this.format(i,a):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),i,a),this.cache={})}},{key:"insertAt",value:function(e,n,i){if(null!=i)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);if(0!==n.length){var a=n.split("\n"),o=a.shift();o.length>0&&(e<this.length()-1||null==this.children.tail?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var s=this;a.reduce(function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length},e+o.length)}}},{key:"insertBefore",value:function(e,n){var i=this.children.head;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),i instanceof c.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var i=this.clone();return 0===e?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var a=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},a}}]),t}(s.default.Block);function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,a.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:b(e.parent,t))}m.blotName="block",m.tagName="P",m.defaultChild="break",m.allowedChildren=[l.default,s.default.Embed,d.default],t.bubbleFormats=b,t.BlockEmbed=g,t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(50);var o=m(n(2)),s=m(n(14)),c=m(n(8)),l=m(n(9)),d=m(n(0)),h=n(15),u=m(h),p=m(n(3)),f=m(n(10)),g=m(n(34));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(0,f.default)("quill"),v=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=x(t,i),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new c.default,this.scroll=d.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new u.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(c.default.events.EDITOR_CHANGE,function(e){e===c.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())}),this.emitter.on(c.default.events.SCROLL_UPDATE,function(e,t){var i=n.selection.lastRange,r=i&&0===i.length?i.index:void 0;_.call(n,function(){return n.editor.update(null,t,r)},e)});var a=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(a),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),f.default.level(e)}},{key:"find",value:function(e){return e.__quill||d.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var r=e.attrName||e.blotName;"string"==typeof r?this.register("formats/"+r,e,t):Object.keys(e).forEach(function(i){n.register(i,e[i],t)})}else null==this.imports[e]||i||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?d.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),a(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var i=this,a=w(e,t,n),o=r(a,4);return e=o[0],t=o[1],n=o[3],_.call(this,function(){return i.editor.deleteText(e,t)},n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;return _.call(this,function(){var i=n.getSelection(!0),r=new o.default;if(null==i)return r;if(d.default.query(e,d.default.Scope.BLOCK))r=n.editor.formatLine(i.index,i.length,b({},e,t));else{if(0===i.length)return n.selection.format(e,t),r;r=n.editor.formatText(i.index,i.length,b({},e,t))}return n.setSelection(i,c.default.sources.SILENT),r},i)}},{key:"formatLine",value:function(e,t,n,i,a){var o,s=this,c=w(e,t,n,i,a),l=r(c,4);return e=l[0],t=l[1],o=l[2],a=l[3],_.call(this,function(){return s.editor.formatLine(e,t,o)},a,e,0)}},{key:"formatText",value:function(e,t,n,i,a){var o,s=this,c=w(e,t,n,i,a),l=r(c,4);return e=l[0],t=l[1],o=l[2],a=l[3],_.call(this,function(){return s.editor.formatText(e,t,o)},a,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=w(e,t),i=r(n,2);return e=i[0],t=i[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=w(e,t),i=r(n,2);return e=i[0],t=i[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,i){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return _.call(this,function(){return r.editor.insertEmbed(t,n,i)},a,t)}},{key:"insertText",value:function(e,t,n,i,a){var o,s=this,c=w(e,0,n,i,a),l=r(c,4);return e=l[0],o=l[2],a=l[3],_.call(this,function(){return s.editor.insertText(e,t,o)},a,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var i=this,a=w(e,t,n),o=r(a,4);return e=o[0],t=o[1],n=o[3],_.call(this,function(){return i.editor.removeFormat(e,t)},n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API;return _.call(this,function(){e=new o.default(e);var n=t.getLength(),i=t.editor.deleteText(0,n),r=t.editor.applyDelta(e),a=r.ops[r.ops.length-1];return null!=a&&"string"==typeof a.insert&&"\n"===a.insert[a.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),r.delete(1)),i.compose(r)},n)}},{key:"setSelection",value:function(t,n,i){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var a=w(t,n,i),o=r(a,4);t=o[0],n=o[1],i=o[3],this.selection.setRange(new h.Range(t,n),i),i!==c.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API,n=(new o.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.sources.API;return _.call(this,function(){return e=new o.default(e),t.editor.applyDelta(e,n)},n,!0)}}]),e}();function x(e,t){if((t=(0,p.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==v.DEFAULTS.theme){if(t.theme=v.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=g.default;var n=(0,p.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var i=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce(function(e,t){var n=v.import("modules/"+t);return null==n?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,p.default)(!0,{},v.DEFAULTS,{modules:i},n,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e},{}),t}function _(e,t,n,i){if(this.options.strict&&!this.isEnabled()&&t===c.default.sources.USER)return new o.default;var r=null==n?null:this.getSelection(),a=this.editor.delta,s=e();if(null!=r&&(!0===n&&(n=r.index),null==i?r=D(r,s,t):0!==i&&(r=D(r,n,i,t)),this.setSelection(r,c.default.sources.SILENT)),s.length()>0){var l,d,h=[c.default.events.TEXT_CHANGE,s,a,t];(l=this.emitter).emit.apply(l,[c.default.events.EDITOR_CHANGE].concat(h)),t!==c.default.sources.SILENT&&(d=this.emitter).emit.apply(d,h)}return s}function w(e,t,n,r,a){var o={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(a=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(a=r,r=n,n=t,t=0),"object"===(void 0===n?"undefined":i(n))?(o=n,a=r):"string"==typeof n&&(null!=r?o[n]=r:a=n),[e,t,o,a=a||c.default.sources.API]}function D(e,t,n,i){if(null==e)return null;var a=void 0,s=void 0;if(t instanceof o.default){var l=[e.index,e.index+e.length].map(function(e){return t.transformPosition(e,i!==c.default.sources.USER)}),d=r(l,2);a=d[0],s=d[1]}else{var u=[e.index,e.index+e.length].map(function(e){return e<t||e===t&&i===c.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)}),p=r(u,2);a=p[0],s=p[1]}return new h.Range(a,s-a)}v.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},v.events=c.default.events,v.sources=c.default.sources,v.version="1.3.7",v.imports={delta:o.default,parchment:d.default,"core/module":l.default,"core/theme":g.default},t.expandConfig=x,t.overload=w,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=s(n(7)),o=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"formatAt",value:function(e,n,i,a){if(t.compare(this.statics.blotName,i)<0&&o.default.query(i,o.default.Scope.BLOT)){var s=this.isolate(e,n);a&&s.wrap(i,a)}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,a)}},{key:"optimize",value:function(e){if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var i=t.order.indexOf(e),r=t.order.indexOf(n);return i>=0||r>=0?i-r:e===n?0:e<n?-1:1}}]),t}(o.default.Inline);c.allowedChildren=[c,o.default.Embed,a.default],c.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default.Text);t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=o(n(54));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,o(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)})})});var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",s.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"emit",value:function(){s.log.apply(s,arguments),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(this.listeners[e.type]||[]).forEach(function(t){var i=t.node,r=t.handler;(e.target===i||i.contains(e.target))&&r.apply(void 0,[e].concat(n))})}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(a.default);c.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},c.sources={API:"api",SILENT:"silent",USER:"user"},t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n};i.DEFAULTS={},t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=["error","warn","log","info"],r="warn";function a(e){if(i.indexOf(e)<=i.indexOf(r)){for(var t,n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];(t=console)[e].apply(t,a)}}function o(e){return i.reduce(function(t,n){return t[n]=a.bind(console,n,e),t},{})}a.level=o.level=function(e){r=e},t.default=o},function(e,t,n){var i=Array.prototype.slice,r=n(52),a=n(53),o=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var l,d;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(a(e))return!!a(t)&&(e=i.call(e),t=i.call(t),o(e,t,n));if(c(e)){if(!c(t))return!1;if(e.length!==t.length)return!1;for(l=0;l<e.length;l++)if(e[l]!==t[l])return!1;return!0}try{var h=r(e),u=r(t)}catch(Pw){return!1}if(h.length!=u.length)return!1;for(h.sort(),u.sort(),l=h.length-1;l>=0;l--)if(h[l]!=u[l])return!1;for(l=h.length-1;l>=0;l--)if(d=h[l],!o(e[d],t[d],n))return!1;return typeof e==typeof t}(e,t,n))};function s(e){return null==e}function c(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var r=i.Scope.TYPE&i.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&i.Scope.LEVEL|r:this.scope=i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=i.query(e,i.Scope.BLOT&(this.scope|i.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=h(n(2)),s=h(n(0)),c=h(n(4)),l=h(n(6)),d=h(n(7));function h(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return u(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),t}(l.default);g.blotName="code",g.tagName="CODE";var m=function(e){function t(){return u(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce(function(t,n){return t.insert(n).insert("\n",e.formats())},new o.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var r=this.descendant(d.default,this.length()-1),o=i(r,1)[0];null!=o&&o.deleteAt(o.length()-1,1),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,i,r){if(0!==n&&null!=s.default.query(i,s.default.Scope.BLOCK)&&(i!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var a=this.newlineIndex(e);if(!(a<0||a>=e+n)){var o=this.newlineIndex(e,!0)+1,c=a-o+1,l=this.isolate(o,c),d=l.next;l.format(i,r),d instanceof t&&d.formatAt(0,e-o+n-c,i,r)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var r=this.descendant(d.default,e),a=i(r,2),o=a[0],s=a[1];o.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()})}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(c.default);m.blotName="code-block",m.tagName="PRE",m.TAB="  ",t.Code=g,t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=b(n(2)),s=b(n(20)),c=b(n(0)),l=b(n(13)),d=b(n(24)),h=n(4),u=b(h),p=b(n(16)),f=b(n(21)),g=b(n(11)),m=b(n(3));function b(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return a(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var a=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce(function(e,t){if(1===t.insert){var n=(0,f.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,f.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var i=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(i,t.attributes)}return e.push(t)},new o.default)}(e)).reduce(function(e,o){var l=o.retain||o.delete||o.insert.length||1,d=o.attributes||{};if(null!=o.insert){if("string"==typeof o.insert){var p=o.insert;p.endsWith("\n")&&n&&(n=!1,p=p.slice(0,-1)),e>=a&&!p.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,p);var f=t.scroll.line(e),g=r(f,2),b=g[0],y=g[1],v=(0,m.default)({},(0,h.bubbleFormats)(b));if(b instanceof u.default){var x=b.descendant(c.default.Leaf,y),_=r(x,1)[0];v=(0,m.default)(v,(0,h.bubbleFormats)(_))}d=s.default.attributes.diff(v,d)||{}}else if("object"===i(o.insert)){var w=Object.keys(o.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,o.insert[w])}a+=l}return Object.keys(d).forEach(function(n){t.scroll.formatAt(e,l,n,d[n])}),e+l},0),e.reduce(function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)},0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new o.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach(function(r){if(null==n.scroll.whitelist||n.scroll.whitelist[r]){var a=n.scroll.lines(e,Math.max(t,1)),o=t;a.forEach(function(t){var a=t.length();if(t instanceof l.default){var s=e-t.offset(n.scroll),c=t.newlineIndex(s+o)-s+1;t.formatAt(s,c,r,i[r])}else t.format(r,i[r]);o-=a})}}),this.scroll.optimize(),this.update((new o.default).retain(e).retain(t,(0,f.default)(i)))}},{key:"formatText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach(function(r){n.scroll.formatAt(e,t,r,i[r])}),this.update((new o.default).retain(e).retain(t,(0,f.default)(i)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new o.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===t?this.scroll.path(e).forEach(function(e){var t=r(e,1)[0];t instanceof u.default?n.push(t):t instanceof c.default.Leaf&&i.push(t)}):(n=this.scroll.lines(e,t),i=this.scroll.descendants(c.default.Leaf,e,t));var a=[n,i].map(function(e){if(0===e.length)return{};for(var t=(0,h.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=x((0,h.bubbleFormats)(n),t)}return t});return m.default.apply(m.default,a)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"==typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new o.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(i).forEach(function(r){n.scroll.formatAt(e,t.length,r,i[r])}),this.update((new o.default).retain(e).insert(t,(0,f.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===u.default.blotName&&!(e.children.length>1)&&e.children.head instanceof p.default}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),i=this.scroll.line(e+t),a=r(i,2),s=a[0],c=a[1],d=0,h=new o.default;null!=s&&(d=s instanceof l.default?s.newlineIndex(c)-c+1:s.length()-c,h=s.delta().slice(c,c+d-1).insert("\n"));var u=this.getContents(e,t+d).diff((new o.default).insert(n).concat(h)),p=(new o.default).retain(e).concat(u);return this.applyDelta(p)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&c.default.find(t[0].target)){var r=c.default.find(t[0].target),a=(0,h.bubbleFormats)(r),s=r.offset(this.scroll),l=t[0].oldValue.replace(d.default.CONTENTS,""),u=(new o.default).insert(l),p=(new o.default).insert(r.value());e=(new o.default).retain(s).concat(u.diff(p,n)).reduce(function(e,t){return t.insert?e.insert(t.insert,a):e.push(t)},new o.default),this.delta=i.compose(e)}else this.delta=this.getDelta(),e&&(0,g.default)(i.compose(e),this.delta)||(e=i.diff(this.delta,n));return e}}]),e}();function x(e,t){return Object.keys(t).reduce(function(n,i){return null==e[i]||(t[i]===e[i]?n[i]=t[i]:Array.isArray(t[i])?t[i].indexOf(e[i])<0&&(n[i]=t[i].concat([e[i]])):n[i]=[t[i],e[i]]),n},{})}t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=l(n(0)),o=l(n(21)),s=l(n(11)),c=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=(0,l(n(10)).default)("quill:selection"),p=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h(this,e),this.index=t,this.length=n},f=function(){function e(t,n){var i=this;h(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=a.default.create("cursor",this),this.lastRange=this.savedRange=new p(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){i.mouseDown||setTimeout(i.update.bind(i,c.default.sources.USER),1)}),this.emitter.on(c.default.events.EDITOR_CHANGE,function(e,t){e===c.default.events.TEXT_CHANGE&&t.length()>0&&i.update(c.default.sources.SILENT)}),this.emitter.on(c.default.events.SCROLL_BEFORE_UPDATE,function(){if(i.hasFocus()){var e=i.getNativeRange();null!=e&&e.start.node!==i.cursor.textNode&&i.emitter.once(c.default.events.SCROLL_UPDATE,function(){try{i.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}})}}),this.emitter.on(c.default.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var n=t.range,r=n.startNode,a=n.startOffset,o=n.endNode,s=n.endOffset;i.setNativeRange(r,a,o,s)}}),this.update(c.default.sources.SILENT)}return r(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",function(){e.composing=!0}),this.root.addEventListener("compositionend",function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout(function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(c.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!a.default.query(e,a.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=a.default.find(n.start.node,!1);if(null==i)return;if(i instanceof a.default.Leaf){var r=i.split(n.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var r=void 0,a=this.scroll.leaf(e),o=i(a,2),s=o[0],c=o[1];if(null==s)return null;var l=s.position(c,!0),d=i(l,2);r=d[0],c=d[1];var h=document.createRange();if(t>0){h.setStart(r,c);var u=this.scroll.leaf(e+t),p=i(u,2);if(s=p[0],c=p[1],null==s)return null;var f=s.position(c,!0),g=i(f,2);return r=g[0],c=g[1],h.setEnd(r,c),h.getBoundingClientRect()}var m="left",b=void 0;return r instanceof Text?(c<r.data.length?(h.setStart(r,c),h.setEnd(r,c+1)):(h.setStart(r,c-1),h.setEnd(r,c),m="right"),b=h.getBoundingClientRect()):(b=s.domNode.getBoundingClientRect(),c>0&&(m="right")),{bottom:b.top+b.height,height:b.height,left:b[m],right:b[m],top:b.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return u.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var r=n.map(function(e){var n=i(e,2),r=n[0],o=n[1],s=a.default.find(r,!0),c=s.offset(t.scroll);return 0===o?c:s instanceof a.default.Container?c+s.length():c+s.index(r,o)}),o=Math.min(Math.max.apply(Math,d(r)),this.scroll.length()-1),s=Math.min.apply(Math,[o].concat(d(r)));return new p(s,o-s)}},{key:"normalizeNative",value:function(e){if(!g(this.root,e.startContainer)||!e.collapsed&&!g(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n}),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],r=[],a=this.scroll.length();return n.forEach(function(e,n){e=Math.min(a-1,e);var o,s=t.scroll.leaf(e),c=i(s,2),l=c[0],d=c[1],h=l.position(d,0!==n),u=i(h,2);o=u[0],d=u[1],r.push(o,d)}),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var r=this.scroll.length()-1,a=this.scroll.line(Math.min(t.index,r)),o=i(a,1)[0],s=o;if(t.length>0){var c=this.scroll.line(Math.min(t.index+t.length,r));s=i(c,1)[0]}if(null!=o&&null!=s){var l=e.getBoundingClientRect();n.top<l.top?e.scrollTop-=l.top-n.top:n.bottom>l.bottom&&(e.scrollTop+=n.bottom-l.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(u.info("setNativeRange",e,t,n,i),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var a=document.getSelection();if(null!=a)if(null!=e){this.hasFocus()||this.root.focus();var o=(this.getNativeRange()||{}).native;if(null==o||r||e!==o.startContainer||t!==o.startOffset||n!==o.endContainer||i!==o.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,i),a.removeAllRanges(),a.addRange(s)}}else a.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"==typeof t&&(n=t,t=!1),u.info("setRange",e),null!=e){var i=this.rangeToNative(e);this.setNativeRange.apply(this,d(i).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.sources.USER,t=this.lastRange,n=this.getRange(),r=i(n,2),a=r[0],l=r[1];if(this.lastRange=a,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var d;!this.composing&&null!=l&&l.native.collapsed&&l.start.node!==this.cursor.textNode&&this.cursor.restore();var h,u=[c.default.events.SELECTION_CHANGE,(0,o.default)(this.lastRange),(0,o.default)(t),e];(d=this.emitter).emit.apply(d,[c.default.events.EDITOR_CHANGE].concat(u)),e!==c.default.sources.SILENT&&(h=this.emitter).emit.apply(h,u)}}}]),e}();function g(e,t){try{t.parentNode}catch(Pw){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=p,t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(0),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"insertInto",value:function(e,n){0===e.children.length?a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default.Embed);s.blotName="break",s.tagName="BR",t.default=s},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(44),o=n(30),s=n(1),c=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.build=function(){var e=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(t){try{var n=l(t);e.insertBefore(n,e.children.head||void 0)}catch(i){if(i instanceof s.ParchmentError)return;throw i}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,n){e.deleteAt(t,n)})},t.prototype.descendant=function(e,n){var i=this.children.find(n),r=i[0],a=i[1];return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,a]:r instanceof t?r.descendant(e,a):[null,-1]},t.prototype.descendants=function(e,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var r=[],a=i;return this.children.forEachAt(n,i,function(n,i,o){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&r.push(n),n instanceof t&&(r=r.concat(n.descendants(e,i,a))),a-=o}),r},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,i){this.children.forEachAt(e,t,function(e,t,r){e.formatAt(t,r,n,i)})},t.prototype.insertAt=function(e,t,n){var i=this.children.find(e),r=i[0],a=i[1];if(r)r.insertAt(a,t,n);else{var o=null==n?s.create("text",t):s.create(t,n);this.appendChild(o)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(t){return e instanceof t}))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(n){e.insertBefore(n,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var i=this.children.find(e,n),r=i[0],a=i[1],o=[[this,e]];return r instanceof t?o.concat(r.path(a,n)):(null!=r&&o.push([r,a]),o)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),function(e,i,r){e=e.split(i,t),n.appendChild(e)}),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,i=[],r=[];e.forEach(function(e){e.target===n.domNode&&"childList"===e.type&&(i.push.apply(i,e.addedNodes),r.push.apply(r,e.removedNodes))}),r.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}}),i.filter(function(e){return e.parentNode==n.domNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var i=l(e);i.next==t&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,t||void 0))})},t}(o.default);function l(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(Pw){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(e){t.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=c},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(12),o=n(31),s=n(17),c=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new o.default(n.domNode),n}return r(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=c.query(e);n instanceof a.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var i=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(i),i},t.prototype.update=function(t,n){var i=this;e.prototype.update.call(this,t,n),t.some(function(e){return e.target===i.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(n,i){var r=e.prototype.wrap.call(this,n,i);return r instanceof t&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},t}(s.default);t.default=l},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(30),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=o.Scope.INLINE_BLOT,t}(a.default);t.default=s},function(e,t,n){var i=n(11),r=n(3),a={attributes:{compose:function(e,t,n){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var i=r(!0,{},t);for(var a in n||(i=Object.keys(i).reduce(function(e,t){return null!=i[t]&&(e[t]=i[t]),e},{})),e)void 0!==e[a]&&void 0===t[a]&&(i[a]=e[a]);return Object.keys(i).length>0?i:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce(function(n,r){return i(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n},{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!=typeof e)return t;if("object"==typeof t){if(!n)return t;var i=Object.keys(t).reduce(function(n,i){return void 0===e[i]&&(n[i]=t[i]),n},{});return Object.keys(i).length>0?i:void 0}}},iterator:function(e){return new o(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function o(e){this.ops=e,this.index=0,this.offset=0}o.prototype.hasNext=function(){return this.peekLength()<1/0},o.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,i=a.length(t);if(e>=i-n?(e=i-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var r={};return t.attributes&&(r.attributes=t.attributes),"number"==typeof t.retain?r.retain=e:"string"==typeof t.insert?r.insert=t.insert.substr(n,e):r.insert=t.insert,r}return{retain:1/0}},o.prototype.peek=function(){return this.ops[this.index]},o.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},o.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},o.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(i)}return[]},e.exports=a},function(e,t){var n=function(){function e(e,t){return null!=t&&e instanceof t}var t,n,i;try{t=Map}catch(pu){t=function(){}}try{n=Set}catch(pu){n=function(){}}try{i=Promise}catch(pu){i=function(){}}function r(a,s,c,l,d){"object"==typeof s&&(c=s.depth,l=s.prototype,d=s.includeNonEnumerable,s=s.circular);var h=[],u=[],p="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===c&&(c=1/0),function a(c,f){if(null===c)return null;if(0===f)return c;var g,m;if("object"!=typeof c)return c;if(e(c,t))g=new t;else if(e(c,n))g=new n;else if(e(c,i))g=new i(function(e,t){c.then(function(t){e(a(t,f-1))},function(e){t(a(e,f-1))})});else if(r.__isArray(c))g=[];else if(r.__isRegExp(c))g=new RegExp(c.source,o(c)),c.lastIndex&&(g.lastIndex=c.lastIndex);else if(r.__isDate(c))g=new Date(c.getTime());else{if(p&&Buffer.isBuffer(c))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(c.length):new Buffer(c.length),c.copy(g),g;e(c,Error)?g=Object.create(c):void 0===l?(m=Object.getPrototypeOf(c),g=Object.create(m)):(g=Object.create(l),m=l)}if(s){var b=h.indexOf(c);if(-1!=b)return u[b];h.push(c),u.push(g)}for(var y in e(c,t)&&c.forEach(function(e,t){var n=a(t,f-1),i=a(e,f-1);g.set(n,i)}),e(c,n)&&c.forEach(function(e){var t=a(e,f-1);g.add(t)}),c){var v;m&&(v=Object.getOwnPropertyDescriptor(m,y)),v&&null==v.set||(g[y]=a(c[y],f-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(c);for(y=0;y<x.length;y++){var _=x[y];(!(D=Object.getOwnPropertyDescriptor(c,_))||D.enumerable||d)&&(g[_]=a(c[_],f-1),D.enumerable||Object.defineProperty(g,_,{enumerable:!1}))}}if(d){var w=Object.getOwnPropertyNames(c);for(y=0;y<w.length;y++){var D,T=w[y];(D=Object.getOwnPropertyDescriptor(c,T))&&D.enumerable||(g[T]=a(c[T],f-1),Object.defineProperty(g,T,{enumerable:!1}))}}return g}(a,c)}function a(e){return Object.prototype.toString.call(e)}function o(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=a,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===a(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===a(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===a(e)},r.__getRegExpFlags=o,r}();"object"==typeof e&&e.exports&&(e.exports=n)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=p(n(0)),s=p(n(8)),c=n(4),l=p(c),d=p(n(16)),h=p(n(13)),u=p(n(25));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){return e instanceof l.default||e instanceof c.BlockEmbed}var g=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.emitter=n.emitter,Array.isArray(n.whitelist)&&(i.whitelist=n.whitelist.reduce(function(e,t){return e[t]=!0,e},{})),i.domNode.addEventListener("DOMNodeInserted",function(){}),i.optimize(),i.enable(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var r=this.line(e),o=i(r,2),s=o[0],l=o[1],u=this.line(e+n),p=i(u,1)[0];if(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=p&&s!==p&&l>0){if(s instanceof c.BlockEmbed||p instanceof c.BlockEmbed)return void this.optimize();if(s instanceof h.default){var f=s.newlineIndex(s.length(),!0);if(f>-1&&(s=s.split(f+1))===p)return void this.optimize()}else if(p instanceof h.default){var g=p.newlineIndex(0);g>-1&&p.split(g+1)}var m=p.children.head instanceof d.default?null:p.children.head;s.moveChildren(p,m),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,i,r){(null==this.whitelist||this.whitelist[i])&&(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,r),this.optimize())}},{key:"insertAt",value:function(e,n,i){if(null==i||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==i||null==o.default.query(n,o.default.Scope.BLOCK)){var r=o.default.create(this.statics.defaultChild);this.appendChild(r),null==i&&n.endsWith("\n")&&(n=n.slice(0,-1)),r.insertAt(0,n,i)}else{var s=o.default.create(n,i);this.appendChild(s)}else a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===o.default.Scope.INLINE_BLOT){var i=o.default.create(this.statics.defaultChild);i.appendChild(e),e=i}a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(f,e)}},{key:"lines",value:function(){return function e(t,n,i){var r=[],a=i;return t.children.forEachAt(n,i,function(t,n,i){f(t)?r.push(t):t instanceof o.default.Container&&(r=r.concat(e(t,n,a))),a-=i}),r}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,e),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,e)}}}]),t}(o.default.Scroll);g.blotName="scroll",g.className="ql-editor",g.tagName="DIV",g.defaultChild="block",g.allowedChildren=[l.default,c.BlockEmbed,u.default],t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=g(n(21)),s=g(n(11)),c=g(n(3)),l=g(n(2)),d=g(n(20)),h=g(n(0)),u=g(n(5)),p=g(n(10)),f=g(n(9));function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(0,p.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",v=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.bindings={},Object.keys(i.options.bindings).forEach(function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&i.options.bindings[t]&&i.addBinding(i.options.bindings[t])}),i.addBinding({key:t.keys.ENTER,shiftKey:null},T),i.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},_),i.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},_),i.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),i.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},D),i.addBinding({key:t.keys.DELETE},{collapsed:!1},D),i.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},_),i.listen(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"match",value:function(e,t){return t=C(t),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!t[n]!==e[n]&&null!==t[n]})&&t.key===(e.which||e.keyCode)}}]),a(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=C(e);if(null==i||null==i.key)return b.warn("Attempted to add invalid keyboard binding",i);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),i=(0,c.default)(i,t,n),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(n){if(!n.defaultPrevented){var a=n.which||n.keyCode,o=(e.bindings[a]||[]).filter(function(e){return t.match(n,e)});if(0!==o.length){var c=e.quill.getSelection();if(null!=c&&e.quill.hasFocus()){var l=e.quill.getLine(c.index),d=r(l,2),u=d[0],p=d[1],f=e.quill.getLeaf(c.index),g=r(f,2),m=g[0],b=g[1],y=0===c.length?[m,b]:e.quill.getLeaf(c.index+c.length),v=r(y,2),x=v[0],_=v[1],w=m instanceof h.default.Text?m.value().slice(0,b):"",D=x instanceof h.default.Text?x.value().slice(_):"",T={collapsed:0===c.length,empty:0===c.length&&u.length()<=1,format:e.quill.getFormat(c),offset:p,prefix:w,suffix:D};o.some(function(t){if(null!=t.collapsed&&t.collapsed!==T.collapsed)return!1;if(null!=t.empty&&t.empty!==T.empty)return!1;if(null!=t.offset&&t.offset!==T.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==T.format[e]}))return!1}else if("object"===i(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=T.format[e]:!1===t.format[e]?null==T.format[e]:(0,s.default)(t.format[e],T.format[e])}))return!1;return!(null!=t.prefix&&!t.prefix.test(T.prefix)||null!=t.suffix&&!t.suffix.test(T.suffix)||!0===t.handler.call(e,c,T))})&&n.preventDefault()}}}})}}]),t}(f.default);function x(e,t){var n,i=e===v.keys.LEFT?"prefix":"suffix";return m(n={key:e,shiftKey:t,altKey:null},i,/^$/),m(n,"handler",function(n){var i=n.index;e===v.keys.RIGHT&&(i+=n.length+1);var a=this.quill.getLeaf(i);return!(r(a,1)[0]instanceof h.default.Embed&&(e===v.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,u.default.sources.USER):this.quill.setSelection(n.index-1,u.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,u.default.sources.USER):this.quill.setSelection(n.index+n.length+1,u.default.sources.USER),1))}),n}function _(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),i=r(n,1)[0],a={};if(0===t.offset){var o=this.quill.getLine(e.index-1),s=r(o,1)[0];if(null!=s&&s.length()>1){var c=i.formats(),l=this.quill.getFormat(e.index-1,1);a=d.default.attributes.diff(c,l)||{}}}var h=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-h,h,u.default.sources.USER),Object.keys(a).length>0&&this.quill.formatLine(e.index-h,h,a,u.default.sources.USER),this.quill.focus()}}function w(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var i={},a=0,o=this.quill.getLine(e.index),s=r(o,1)[0];if(t.offset>=s.length()-1){var c=this.quill.getLine(e.index+1),l=r(c,1)[0];if(l){var h=s.formats(),p=this.quill.getFormat(e.index,1);i=d.default.attributes.diff(h,p)||{},a=l.length()}}this.quill.deleteText(e.index,n,u.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index+a-1,n,i,u.default.sources.USER)}}function D(e){var t=this.quill.getLines(e),n={};if(t.length>1){var i=t[0].formats(),r=t[t.length-1].formats();n=d.default.attributes.diff(r,i)||{}}this.quill.deleteText(e,u.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,u.default.sources.USER),this.quill.setSelection(e.index,u.default.sources.SILENT),this.quill.focus()}function T(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var i=Object.keys(t.format).reduce(function(e,n){return h.default.query(n,h.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e},{});this.quill.insertText(e.index,"\n",i,u.default.sources.USER),this.quill.setSelection(e.index+1,u.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==i[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],u.default.sources.USER))})}function A(e){return{key:v.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=h.default.query("code-block"),i=t.index,a=t.length,o=this.quill.scroll.descendant(n,i),s=r(o,2),c=s[0],l=s[1];if(null!=c){var d=this.quill.getIndex(c),p=c.newlineIndex(l,!0)+1,f=c.newlineIndex(d+l+a),g=c.domNode.textContent.slice(p,f).split("\n");l=0,g.forEach(function(t,r){e?(c.insertAt(p+l,n.TAB),l+=n.TAB.length,0===r?i+=n.TAB.length:a+=n.TAB.length):t.startsWith(n.TAB)&&(c.deleteAt(p+l,n.TAB.length),l-=n.TAB.length,0===r?i-=n.TAB.length:a-=n.TAB.length),l+=t.length+1}),this.quill.update(u.default.sources.USER),this.quill.setSelection(i,a,u.default.sources.SILENT)}}}}function E(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],u.default.sources.USER)}}}function C(e){if("string"==typeof e||"number"==typeof e)return C({key:e});if("object"===(void 0===e?"undefined":i(e))&&(e=(0,o.default)(e,!1)),"string"==typeof e.key)if(null!=v.keys[e.key.toUpperCase()])e.key=v.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}v.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},v.DEFAULTS={bindings:{bold:E("bold"),italic:E("italic"),underline:E("underline"),indent:{key:v.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",u.default.sources.USER)}},outdent:{key:v.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",u.default.sources.USER)}},"outdent backspace":{key:v.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",u.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,u.default.sources.USER)}},"indent code-block":A(!0),"outdent code-block":A(!1),"remove tab":{key:v.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,u.default.sources.USER)}},tab:{key:v.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new l.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,u.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,u.default.sources.SILENT)}},"list empty enter":{key:v.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,u.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,u.default.sources.USER)}},"checklist enter":{key:v.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=r(t,2),i=n[0],a=n[1],o=(0,c.default)({},i.formats(),{list:"checked"}),s=(new l.default).retain(e.index).insert("\n",o).retain(i.length()-a-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,u.default.sources.USER),this.quill.setSelection(e.index+1,u.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:v.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),i=r(n,2),a=i[0],o=i[1],s=(new l.default).retain(e.index).insert("\n",t.format).retain(a.length()-o-1).retain(1,{header:null});this.quill.updateContents(s,u.default.sources.USER),this.quill.setSelection(e.index+1,u.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,i=this.quill.getLine(e.index),a=r(i,2),o=a[0],s=a[1];if(s>n)return!0;var c=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":c="unchecked";break;case"[x]":c="checked";break;case"-":case"*":c="bullet";break;default:c="ordered"}this.quill.insertText(e.index," ",u.default.sources.USER),this.quill.history.cutoff();var d=(new l.default).retain(e.index-s).delete(n+1).retain(o.length()-2-s).retain(1,{list:c});this.quill.updateContents(d,u.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,u.default.sources.SILENT)}},"code exit":{key:v.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=r(t,2),i=n[0],a=n[1],o=(new l.default).retain(e.index+i.length()-a-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(o,u.default.sources.USER)}},"embed left":x(v.keys.LEFT,!1),"embed left shift":x(v.keys.LEFT,!0),"embed right":x(v.keys.RIGHT,!1),"embed right shift":x(v.keys.RIGHT,!0)}},t.default=v,t.SHORTKEY=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=c(n(0)),s=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.selection=n,i.textNode=document.createTextNode(t.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"value",value:function(){}}]),a(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var i=this,a=0;null!=i&&i.statics.scope!==o.default.Scope.BLOCK_BLOT;)a+=i.offset(i.parent),i=i.parent;null!=i&&(this._length=t.CONTENTS.length,i.optimize(),i.formatAt(a,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),r=void 0,a=void 0,c=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var l=[e,n.start.offset,n.end.offset];r=l[0],a=l[1],c=l[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var d=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof s.default?(r=this.next.domNode,this.next.insertAt(0,d),this.textNode.data=t.CONTENTS):(this.textNode.data=d,this.parent.insertBefore(o.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=a){var h=[a,c].map(function(e){return Math.max(0,Math.min(r.data.length,e-1))}),u=i(h,2);return a=u[0],c=u[1],{startNode:r,startOffset:a,endNode:r,endOffset:c}}}}},{key:"update",value:function(e,t){var n=this;if(e.some(function(e){return"characterData"===e.type&&e.target===n.textNode})){var i=this.restore();i&&(t.range=i)}}},{key:"value",value:function(){return""}}]),t}(o.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\ufeff",t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),r=n(4),a=o(r);function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default.Container);s.allowedChildren=[a.default,r.BlockEmbed,s],t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(0),s=(i=o)&&i.__esModule?i:{default:i},c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(e){return("00"+parseInt(e).toString(16)).slice(-2)}).join("")):n}}]),t}(s.default.Attributor.Style),l=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),d=new c("color","color",{scope:s.default.Scope.INLINE});t.ColorAttributor=c,t.ColorClass=l,t.ColorStyle=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return c(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);function c(e,t){var n=document.createElement("a");n.href=e;var i=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(i)>-1}s.blotName="link",s.tagName="A",s.SANITIZED_URL="about:blank",s.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=s,t.sanitize=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=s(n(23)),o=s(n(107));function s(e){return e&&e.__esModule?e:{default:e}}var c=0;function l(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var d=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){n.togglePicker()}),this.label.addEventListener("keydown",function(e){switch(e.keyCode){case a.default.keys.ENTER:n.togglePicker();break;case a.default.keys.ESCAPE:n.escape(),e.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return r(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),l(this.label,"aria-expanded"),l(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",function(){t.selectItem(n,!0)}),n.addEventListener("keydown",function(e){switch(e.keyCode){case a.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case a.default.keys.ESCAPE:t.escape(),e.preventDefault()}}),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=o.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+c,c+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach(function(n){var i=e.buildItem(n);t.appendChild(i),!0===n.selected&&e.selectItem(i)}),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach(function(t){e.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout(function(){return e.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":i(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=b(n(0)),r=b(n(5)),a=n(4),o=b(a),s=b(n(16)),c=b(n(25)),l=b(n(24)),d=b(n(35)),h=b(n(6)),u=b(n(22)),p=b(n(7)),f=b(n(55)),g=b(n(42)),m=b(n(23));function b(e){return e&&e.__esModule?e:{default:e}}r.default.register({"blots/block":o.default,"blots/block/embed":a.BlockEmbed,"blots/break":s.default,"blots/container":c.default,"blots/cursor":l.default,"blots/embed":d.default,"blots/inline":h.default,"blots/scroll":u.default,"blots/text":p.default,"modules/clipboard":f.default,"modules/history":g.default,"modules/keyboard":m.default}),i.default.register(o.default,s.default,l.default,h.default,u.default,p.default),t.default=r.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(){function e(e){this.domNode=e,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return i.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,r){var a=this.isolate(e,t);if(null!=i.query(n,i.Scope.BLOT)&&r)a.wrap(n,r);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var o=i.create(this.statics.scope);a.wrap(o),o.format(n,r)}},e.prototype.insertAt=function(e,t,n){var r=null==n?i.create("text",t):i.create(t,n),a=this.split(e);this.parent.insertBefore(r,a)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?i.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?i.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),r=n(32),a=n(33),o=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=i.default.keys(this.domNode),n=r.default.keys(this.domNode),s=a.default.keys(this.domNode);t.concat(n).concat(s).forEach(function(t){var n=o.query(t,o.Scope.ATTRIBUTE);n instanceof i.default&&(e.attributes[n.attrName]=n)})},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(n){var i=t.attributes[n].value(t.domNode);e.format(n,i)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,n){return t[n]=e.attributes[n].value(e.domNode),t},{})},e}();t.default=s},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function a(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf(t+"-")})}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){a(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(a(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=o},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function a(e){var t=e.split("-"),n=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[a(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[a(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[a(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return i(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();r.DEFAULTS={modules:{}},r.themes={default:r},t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=s(n(0)),o=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var c="\ufeff",l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(e){n.contentNode.appendChild(e)}),n.leftGuard=document.createTextNode(c),n.rightGuard=document.createTextNode(c),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,i=e.data.split(c).join("");if(e===this.leftGuard)if(this.prev instanceof o.default){var r=this.prev.length();this.prev.insertAt(r,i),t={startNode:this.prev.domNode,startOffset:r+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(a.default.create(n),this),t={startNode:n,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof o.default?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(a.default.create(n),this.next),t={startNode:n,startOffset:i.length}));return e.data=c,t}},{key:"update",value:function(e,t){var n=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var i=n.restore(e.target);i&&(t.range=i)}})}}]),t}(a.default.Embed);t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i},o={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new a.default.Attributor.Attribute("align","align",o),c=new a.default.Attributor.Class("align","ql-align",o),l=new a.default.Attributor.Style("align","text-align",o);t.AlignAttribute=s,t.AlignClass=c,t.AlignStyle=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i},o=n(26),s=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),c=new o.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});t.BackgroundClass=s,t.BackgroundStyle=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i},o={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},s=new a.default.Attributor.Attribute("direction","dir",o),c=new a.default.Attributor.Class("direction","ql-direction",o),l=new a.default.Attributor.Style("direction","direction",o);t.DirectionAttribute=s,t.DirectionClass=c,t.DirectionStyle=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(0),s=(i=o)&&i.__esModule?i:{default:i},c={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},l=new s.default.Attributor.Class("font","ql-font",c),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(s.default.Attributor.Style),h=new d("font","font-family",c);t.FontStyle=h,t.FontClass=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var i,r=n(0),a=(i=r)&&i.__esModule?i:{default:i},o=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=o,t.SizeStyle=s},function(e,t,n){e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=o(n(0)),a=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(a.default.events.EDITOR_CHANGE,function(e,t,n,r){e!==a.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&r!==a.default.sources.USER?i.transform(t):i.record(t,n))}),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],a.default.sources.USER),this.ignoreChange=!1;var i=c(n[e]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var r=this.stack.undo.pop();n=n.compose(r.undo),e=r.redo.compose(e)}else this.lastRecorded=i;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}),this.stack.redo.forEach(function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(o(n(9)).default);function c(e){var t=e.reduce(function(e,t){return e+=t.delete||0},0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(e){return null!=r.default.query(e,r.default.Scope.BLOCK)}))}(e)&&(n-=1),n}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=f(n(3)),o=f(n(2)),s=f(n(8)),c=f(n(23)),l=f(n(34)),d=f(n(59)),h=f(n(60)),u=f(n(28)),p=f(n(61));function f(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],v=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],x=[!1,"serif","monospace"],_=["1","2","3",!1],w=["small",!1,"large","huge"],D=function(e){function t(e,n){g(this,t);var i=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==i.tooltip||i.tooltip.root.contains(n.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach(function(e){e.container.contains(n.target)||e.close()})}),i}return b(t,e),i(t,[{key:"addModule",value:function(e){var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach(function(e){(e.getAttribute("class")||"").split(/\s+/).forEach(function(n){if(n.startsWith("ql-")&&(n=n.slice(3),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var i=e.value||"";null!=i&&t[n][i]&&(e.innerHTML=t[n][i])}})})}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map(function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&A(e,y),new h.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&A(e,v,"background"===n?"#ffffff":"#000000"),new d.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?A(e,x):e.classList.contains("ql-header")?A(e,_):e.classList.contains("ql-size")&&A(e,w)),new u.default(e)}),this.quill.on(s.default.events.EDITOR_CHANGE,function(){n.pickers.forEach(function(e){e.update()})})}}]),t}(l.default);D.DEFAULTS=(0,a.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var i=e.quill.getSelection(!0);e.quill.updateContents((new o.default).retain(i.index).delete(i.length).insert({image:n.target.result}),s.default.sources.USER),e.quill.setSelection(i.index+1,s.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}}),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var T=function(e){function t(e,n){g(this,t);var i=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return b(t,e),i(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",function(t){c.default.match(t,"enter")?(e.save(),t.preventDefault()):c.default.match(t,"escape")&&(e.cancel(),t.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,n=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var i=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",n,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",n,s.default.sources.USER)),this.quill.root.scrollTop=i;break;case"video":n=(t=(e=n).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!n)break;var r=this.quill.getSelection(!0);if(null!=r){var a=r.index+r.length;this.quill.insertEmbed(a,this.root.getAttribute("data-mode"),n,s.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(a+1," ",s.default.sources.USER),this.quill.setSelection(a+2,s.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(p.default);function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach(function(t){var i=document.createElement("option");t===n?i.setAttribute("selected","selected"):i.setAttribute("value",t),e.appendChild(i)})}t.BaseTooltip=T,t.default=D},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,i=this.iterator();n=i();){var r=n.length();if(e<r||t&&e===r&&(null==n.next||0!==n.next.length()))return[n,e];e-=r}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var i,r=this.find(e),a=r[0],o=e-r[1],s=this.iterator(a);(i=s())&&o<e+t;){var c=i.length();e>o?n(i,e-o,Math.min(t,o+c-e)):n(i,0,Math.min(c,e+t-o)),o+=c}},e.prototype.map=function(e){return this.reduce(function(t,n){return t.push(e(n)),t},[])},e.prototype.reduce=function(e,t){for(var n,i=this.iterator();n=i();)t=e(t,n);return t},e}();t.default=i},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(17),o=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},c=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver(function(e){n.update(e)}),n.observer.observe(n.domNode,s),n.attach(),n}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,i,r){this.update(),e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.insertAt=function(t,n,i){this.update(),e.prototype.insertAt.call(this,t,n,i)},t.prototype.optimize=function(t,n){var i=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var r=[].slice.call(this.observer.takeRecords());r.length>0;)t.push(r.pop());for(var s=function(e,t){void 0===t&&(t=!0),null!=e&&e!==i&&null!=e.domNode.parentNode&&(null==e.domNode[o.DATA_KEY].mutations&&(e.domNode[o.DATA_KEY].mutations=[]),t&&s(e.parent))},c=function(e){null!=e.domNode[o.DATA_KEY]&&null!=e.domNode[o.DATA_KEY].mutations&&(e instanceof a.default&&e.children.forEach(c),e.optimize(n))},l=t,d=0;l.length>0;d+=1){if(d>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(function(e){var t=o.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(o.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,function(e){var t=o.find(e,!1);s(t,!1),t instanceof a.default&&t.children.forEach(function(e){s(e,!1)})})):"attributes"===e.type&&s(t.prev)),s(t))}),this.children.forEach(c),r=(l=[].slice.call(this.observer.takeRecords())).slice();r.length>0;)t.push(r.pop())}},t.prototype.update=function(t,n){var i=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map(function(e){var t=o.find(e.target,!0);return null==t?null:null==t.domNode[o.DATA_KEY].mutations?(t.domNode[o.DATA_KEY].mutations=[e],t):(t.domNode[o.DATA_KEY].mutations.push(e),null)}).forEach(function(e){null!=e&&e!==i&&null!=e.domNode[o.DATA_KEY]&&e.update(e.domNode[o.DATA_KEY].mutations||[],n)}),null!=this.domNode[o.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="DIV",t}(a.default);t.default=c},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,i){var r=this;n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):(this.children.forEach(function(e){e instanceof a.default||(e=e.wrap(t.blotName,!0)),r.attributes.copy(e)}),this.unwrap())},t.prototype.formatAt=function(t,n,i,r){null!=this.formats()[i]||o.query(i,o.Scope.ATTRIBUTE)?this.isolate(t,n).format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var r=this.next;r instanceof t&&r.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(i,r.formats())&&(r.moveChildren(this),r.remove())},t.blotName="inline",t.scope=o.Scope.INLINE_BLOT,t.tagName="SPAN",t}(a.default);t.default=s},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),o=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){var i=o.query(t.blotName).tagName;if(n.tagName!==i)return e.formats.call(this,n)},t.prototype.format=function(n,i){null!=o.query(n,o.Scope.BLOCK)&&(n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,i,r){null!=o.query(i,o.Scope.BLOCK)?this.format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.insertAt=function(t,n,i){if(null==i||null!=o.query(n,o.Scope.INLINE))e.prototype.insertAt.call(this,t,n,i);else{var r=this.split(t),a=o.create(n,i);r.parent.insertBefore(a,r)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=o.Scope.BLOCK_BLOT,t.tagName="P",t}(a.default);t.default=s},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,i,r){0===t&&n===this.length()?this.format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=a},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),o=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,i){null==i?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,i)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=o.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some(function(e){return"characterData"===e.type&&e.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=o.Scope.INLINE_BLOT,t}(a.default);t.default=s},function(e,t,n){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:r.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,r=arguments[1],a=0;a<i;a++)if(t=n[a],e.call(r,t,a,n))return t}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(e,t){var n=-1;function i(e,t,c){if(e==t)return e?[[0,e]]:[];(c<0||e.length<c)&&(c=null);var d=a(e,t),h=e.substring(0,d);d=o(e=e.substring(d),t=t.substring(d));var u=e.substring(e.length-d),p=function(e,t){var s;if(!e)return[[1,t]];if(!t)return[[n,e]];var c=e.length>t.length?e:t,l=e.length>t.length?t:e,d=c.indexOf(l);if(-1!=d)return s=[[1,c.substring(0,d)],[0,l],[1,c.substring(d+l.length)]],e.length>t.length&&(s[0][0]=s[2][0]=n),s;if(1==l.length)return[[n,e],[1,t]];var h=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function r(e,t,n){for(var i,r,s,c,l=e.substring(n,n+Math.floor(e.length/4)),d=-1,h="";-1!=(d=t.indexOf(l,d+1));){var u=a(e.substring(n),t.substring(d)),p=o(e.substring(0,n),t.substring(0,d));h.length<p+u&&(h=t.substring(d-p,d)+t.substring(d,d+u),i=e.substring(0,n-p),r=e.substring(n+u),s=t.substring(0,d-p),c=t.substring(d+u))}return 2*h.length>=e.length?[i,r,s,c,h]:null}var s,c,l,d,h,u=r(n,i,Math.ceil(n.length/4)),p=r(n,i,Math.ceil(n.length/2));if(!u&&!p)return null;s=p?u&&u[4].length>p[4].length?u:p:u,e.length>t.length?(c=s[0],l=s[1],d=s[2],h=s[3]):(d=s[0],h=s[1],c=s[2],l=s[3]);var f=s[4];return[c,l,d,h,f]}(e,t);if(h){var u=h[0],p=h[1],f=h[2],g=h[3],m=h[4],b=i(u,f),y=i(p,g);return b.concat([[0,m]],y)}return function(e,t){for(var i=e.length,a=t.length,o=Math.ceil((i+a)/2),s=o,c=2*o,l=new Array(c),d=new Array(c),h=0;h<c;h++)l[h]=-1,d[h]=-1;l[s+1]=0,d[s+1]=0;for(var u=i-a,p=u%2!=0,f=0,g=0,m=0,b=0,y=0;y<o;y++){for(var v=-y+f;v<=y-g;v+=2){for(var x=s+v,_=(E=v==-y||v!=y&&l[x-1]<l[x+1]?l[x+1]:l[x-1]+1)-v;E<i&&_<a&&e.charAt(E)==t.charAt(_);)E++,_++;if(l[x]=E,E>i)g+=2;else if(_>a)f+=2;else if(p&&(T=s+u-v)>=0&&T<c&&-1!=d[T]&&E>=(D=i-d[T]))return r(e,t,E,_)}for(var w=-y+m;w<=y-b;w+=2){for(var D,T=s+w,A=(D=w==-y||w!=y&&d[T-1]<d[T+1]?d[T+1]:d[T-1]+1)-w;D<i&&A<a&&e.charAt(i-D-1)==t.charAt(a-A-1);)D++,A++;if(d[T]=D,D>i)b+=2;else if(A>a)m+=2;else if(!p){var E;if((x=s+u-w)>=0&&x<c&&-1!=l[x]&&(_=s+(E=l[x])-x,E>=(D=i-D)))return r(e,t,E,_)}}}return[[n,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-d),t=t.substring(0,t.length-d));return h&&p.unshift([0,h]),u&&p.push([0,u]),s(p),null!=c&&(p=function(e,t){var i=function(e,t){if(0===t)return[0,e];for(var i=0,r=0;r<e.length;r++){var a=e[r];if(a[0]===n||0===a[0]){var o=i+a[1].length;if(t===o)return[r+1,e];if(t<o){e=e.slice();var s=t-i,c=[a[0],a[1].slice(0,s)],l=[a[0],a[1].slice(s)];return e.splice(r,1,c,l),[r+1,e]}i=o}}throw new Error("cursor_pos is out of bounds!")}(e,t),r=i[1],a=i[0],o=r[a],s=r[a+1];if(null==o)return e;if(0!==o[0])return e;if(null!=s&&o[1]+s[1]===s[1]+o[1])return r.splice(a,2,s,o),l(r,a,2);if(null!=s&&0===s[1].indexOf(o[1])){r.splice(a,2,[s[0],o[1]],[0,o[1]]);var c=s[1].slice(o[1].length);return c.length>0&&r.splice(a+2,0,[s[0],c]),l(r,a,3)}return e}(p,c)),p=function(e){for(var t=!1,i=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},r=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},a=2;a<e.length;a+=1)0===e[a-2][0]&&r(e[a-2][1])&&e[a-1][0]===n&&i(e[a-1][1])&&1===e[a][0]&&i(e[a][1])&&(t=!0,e[a-1][1]=e[a-2][1].slice(-1)+e[a-1][1],e[a][1]=e[a-2][1].slice(-1)+e[a][1],e[a-2][1]=e[a-2][1].slice(0,-1));if(!t)return e;var o=[];for(a=0;a<e.length;a+=1)e[a][1].length>0&&o.push(e[a]);return o}(p),p}function r(e,t,n,r){var a=e.substring(0,n),o=t.substring(0,r),s=e.substring(n),c=t.substring(r),l=i(a,o),d=i(s,c);return l.concat(d)}function a(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,a=0;n<r;)e.substring(a,r)==t.substring(a,r)?a=n=r:i=r,r=Math.floor((i-n)/2+n);return r}function o(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,a=0;n<r;)e.substring(e.length-r,e.length-a)==t.substring(t.length-r,t.length-a)?a=n=r:i=r,r=Math.floor((i-n)/2+n);return r}function s(e){e.push([0,""]);for(var t,i=0,r=0,c=0,l="",d="";i<e.length;)switch(e[i][0]){case 1:c++,d+=e[i][1],i++;break;case n:r++,l+=e[i][1],i++;break;case 0:r+c>1?(0!==r&&0!==c&&(0!==(t=a(d,l))&&(i-r-c>0&&0==e[i-r-c-1][0]?e[i-r-c-1][1]+=d.substring(0,t):(e.splice(0,0,[0,d.substring(0,t)]),i++),d=d.substring(t),l=l.substring(t)),0!==(t=o(d,l))&&(e[i][1]=d.substring(d.length-t)+e[i][1],d=d.substring(0,d.length-t),l=l.substring(0,l.length-t))),0===r?e.splice(i-c,r+c,[1,d]):0===c?e.splice(i-r,r+c,[n,l]):e.splice(i-r-c,r+c,[n,l],[1,d]),i=i-r-c+(r?1:0)+(c?1:0)+1):0!==i&&0==e[i-1][0]?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,c=0,r=0,l="",d=""}""===e[e.length-1][1]&&e.pop();var h=!1;for(i=1;i<e.length-1;)0==e[i-1][0]&&0==e[i+1][0]&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),h=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),h=!0)),i++;h&&s(e)}var c=i;function l(e,t,n){for(var i=t+n-1;i>=0&&i>=t-1;i--)if(i+1<e.length){var r=e[i],a=e[i+1];r[0]===a[1]&&e.splice(i,2,[r[0],r[1]+a[1]])}return e}c.INSERT=1,c.DELETE=n,c.EQUAL=0,e.exports=c},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?i:r).supported=i,t.unsupported=r},function(e,t){var n=Object.prototype.hasOwnProperty,i="~";function r(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),o.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},o.prototype.listeners=function(e,t){var n=i?i+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var a=0,o=r.length,s=new Array(o);a<o;a++)s[a]=r[a].fn;return s},o.prototype.emit=function(e,t,n,r,a,o){var s=i?i+e:e;if(!this._events[s])return!1;var c,l,d=this._events[s],h=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),h){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,r),!0;case 5:return d.fn.call(d.context,t,n,r,a),!0;case 6:return d.fn.call(d.context,t,n,r,a,o),!0}for(l=1,c=new Array(h-1);l<h;l++)c[l-1]=arguments[l];d.fn.apply(d.context,c)}else{var u,p=d.length;for(l=0;l<p;l++)switch(d[l].once&&this.removeListener(e,d[l].fn,void 0,!0),h){case 1:d[l].fn.call(d[l].context);break;case 2:d[l].fn.call(d[l].context,t);break;case 3:d[l].fn.call(d[l].context,t,n);break;case 4:d[l].fn.call(d[l].context,t,n,r);break;default:if(!c)for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];d[l].fn.apply(d[l].context,c)}}return!0},o.prototype.on=function(e,t,n){var r=new a(t,n||this),o=i?i+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.once=function(e,t,n){var r=new a(t,n||this,!0),o=i?i+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},o.prototype.removeListener=function(e,t,n,a){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return 0===--this._eventsCount?this._events=new r:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==t||a&&!s.once||n&&s.context!==n||(0===--this._eventsCount?this._events=new r:delete this._events[o]);else{for(var c=0,l=[],d=s.length;c<d;c++)(s[c].fn!==t||a&&!s[c].once||n&&s[c].context!==n)&&l.push(s[c]);l.length?this._events[o]=1===l.length?l[0]:l:0===--this._eventsCount?this._events=new r:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=i,o.EventEmitter=o,void 0!==e&&(e.exports=o)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=v(n(3)),s=v(n(2)),c=v(n(0)),l=v(n(5)),d=v(n(10)),h=v(n(9)),u=n(36),p=n(37),f=v(n(13)),g=n(26),m=n(38),b=n(39),y=n(40);function v(e){return e&&e.__esModule?e:{default:e}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=(0,d.default)("quill:clipboard"),w="__ql-matcher",D=[[Node.TEXT_NODE,R],[Node.TEXT_NODE,I],["br",function(e,t){return S(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,M],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,function(e,t){var n={},i=e.style||{};return i.fontStyle&&"italic"===k(e).fontStyle&&(n.italic=!0),i.fontWeight&&(k(e).fontWeight.startsWith("bold")||parseInt(k(e).fontWeight)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=C(t,n)),parseFloat(i.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t)),t}],["li",function(e,t){var n=c.default.query(e);if(null==n||"list-item"!==n.blotName||!S(t,"\n"))return t;for(var i=-1,r=e.parentNode;!r.classList.contains("ql-clipboard");)"list"===(c.default.query(r)||{}).blotName&&(i+=1),r=r.parentNode;return i<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:i}))}],["b",F.bind(F,"bold")],["i",F.bind(F,"italic")],["style",function(){return new s.default}]],T=[u.AlignAttribute,m.DirectionAttribute].reduce(function(e,t){return e[t.keyName]=t,e},{}),A=[u.AlignStyle,p.BackgroundStyle,g.ColorStyle,m.DirectionStyle,b.FontStyle,y.SizeStyle].reduce(function(e,t){return e[t.keyName]=t,e},{}),E=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],D.concat(i.options.matchers).forEach(function(e){var t=r(e,2),a=t[0],o=t[1];(n.matchVisual||o!==M)&&i.addMatcher(a,o)}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[f.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,x({},f.default.blotName,t[f.default.blotName]))}var i=this.prepareMatching(),a=r(i,2),o=a[0],c=a[1],l=O(this.container,o,c);return S(l,"\n")&&null==l.ops[l.ops.length-1].attributes&&(l=l.compose((new s.default).retain(l.length()-1).delete(1))),_.log("convert",this.container.innerHTML,l),this.container.innerHTML="",l}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,l.default.sources.SILENT);else{var i=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(i),n),this.quill.setSelection(e+i.length(),l.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=(new s.default).retain(n.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(l.default.sources.SILENT),setTimeout(function(){i=i.concat(t.convert()).delete(n.length),t.quill.updateContents(i,l.default.sources.USER),t.quill.setSelection(i.length()-n.length,l.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=r,t.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach(function(i){var a=r(i,2),o=a[0],s=a[1];switch(o){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(o),function(e){e[w]=e[w]||[],e[w].push(s)})}}),[t,n]}}]),t}(h.default);function C(e,t,n){return"object"===(void 0===t?"undefined":i(t))?Object.keys(t).reduce(function(e,n){return C(e,n,t[n])},e):e.reduce(function(e,i){return i.attributes&&i.attributes[t]?e.push(i):e.insert(i.insert,(0,o.default)({},x({},t,n),i.attributes))},new s.default)}function k(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function S(e,t){for(var n="",i=e.ops.length-1;i>=0&&n.length<t.length;--i){var r=e.ops[i];if("string"!=typeof r.insert)break;n=r.insert+n}return n.slice(-1*t.length)===t}function U(e){if(0===e.childNodes.length)return!1;var t=k(e);return["block","list-item"].indexOf(t.display)>-1}function O(e,t,n){return e.nodeType===e.TEXT_NODE?n.reduce(function(t,n){return n(e,t)},new s.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],function(i,r){var a=O(r,t,n);return r.nodeType===e.ELEMENT_NODE&&(a=t.reduce(function(e,t){return t(r,e)},a),a=(r[w]||[]).reduce(function(e,t){return t(r,e)},a)),i.concat(a)},new s.default):new s.default}function F(e,t,n){return C(n,e,!0)}function N(e,t){var n=c.default.Attributor.Attribute.keys(e),i=c.default.Attributor.Class.keys(e),r=c.default.Attributor.Style.keys(e),a={};return n.concat(i).concat(r).forEach(function(t){var n=c.default.query(t,c.default.Scope.ATTRIBUTE);null!=n&&(a[n.attrName]=n.value(e),a[n.attrName])||(null==(n=T[t])||n.attrName!==t&&n.keyName!==t||(a[n.attrName]=n.value(e)||void 0),null==(n=A[t])||n.attrName!==t&&n.keyName!==t||(n=A[t],a[n.attrName]=n.value(e)||void 0))}),Object.keys(a).length>0&&(t=C(t,a)),t}function P(e,t){var n=c.default.query(e);if(null==n)return t;if(n.prototype instanceof c.default.Embed){var i={},r=n.value(e);null!=r&&(i[n.blotName]=r,t=(new s.default).insert(i,n.formats(e)))}else"function"==typeof n.formats&&(t=C(t,n.blotName,n.formats(e)));return t}function I(e,t){return S(t,"\n")||(U(e)||t.length()>0&&e.nextSibling&&U(e.nextSibling))&&t.insert("\n"),t}function M(e,t){if(U(e)&&null!=e.nextElementSibling&&!S(t,"\n\n")){var n=e.offsetHeight+parseFloat(k(e).marginTop)+parseFloat(k(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function R(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!k(e.parentNode).whiteSpace.startsWith("pre")){var i=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==e.previousSibling&&U(e.parentNode)||null!=e.previousSibling&&U(e.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==e.nextSibling&&U(e.parentNode)||null!=e.nextSibling&&U(e.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return t.insert(n)}E.DEFAULTS={matchers:[],matchVisual:!0},t.default=E,t.matchAttributor=N,t.matchBlot=P,t.matchNewline=I,t.matchSpacing=M,t.matchText=R},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"optimize",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);s.blotName="bold",s.tagName=["STRONG","B"],t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=d(n(2)),o=d(n(0)),s=d(n(5)),c=d(n(10)),l=d(n(9));function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=(0,c.default)("quill:toolbar"),p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,a=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(a.options.container)){var o=document.createElement("div");g(o,a.options.container),e.container.parentNode.insertBefore(o,e.container),a.container=o}else"string"==typeof a.options.container?a.container=document.querySelector(a.options.container):a.container=a.options.container;return a.container instanceof HTMLElement?(a.container.classList.add("ql-toolbar"),a.controls=[],a.handlers={},Object.keys(a.options.handlers).forEach(function(e){a.addHandler(e,a.options.handlers[e])}),[].forEach.call(a.container.querySelectorAll("button, select"),function(e){a.attach(e)}),a.quill.on(s.default.events.EDITOR_CHANGE,function(e,t){e===s.default.events.SELECTION_CHANGE&&a.update(t)}),a.quill.on(s.default.events.SCROLL_OPTIMIZE,function(){var e=a.quill.selection.getRange(),t=i(e,1)[0];a.update(t)}),a):(r=u.error("Container required for toolbar",a.options),h(a,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,function(e){return 0===e.indexOf("ql-")});if(n){if(n=n.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void u.warn("ignoring attaching to disabled format",n,e);if(null==o.default.query(n))return void u.warn("ignoring attaching to nonexistent format",n,e)}var r="SELECT"===e.tagName?"change":"click";e.addEventListener(r,function(r){var c=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var l=e.options[e.selectedIndex];c=!l.hasAttribute("selected")&&(l.value||!1)}else c=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),r.preventDefault();t.quill.focus();var d=t.quill.selection.getRange(),h=i(d,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,c);else if(o.default.query(n).prototype instanceof o.default.Embed){if(!(c=prompt("Enter "+n)))return;t.quill.updateContents((new a.default).retain(h.index).delete(h.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,c)),s.default.sources.USER)}else t.quill.format(n,c,s.default.sources.USER);t.update(h)}),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach(function(n){var r=i(n,2),a=r[0],o=r[1];if("SELECT"===o.tagName){var s=void 0;if(null==e)s=null;else if(null==t[a])s=o.querySelector("option[selected]");else if(!Array.isArray(t[a])){var c=t[a];"string"==typeof c&&(c=c.replace(/\"/g,'\\"')),s=o.querySelector('option[value="'+c+'"]')}null==s?(o.value="",o.selectedIndex=-1):s.selected=!0}else if(null==e)o.classList.remove("ql-active");else if(o.hasAttribute("value")){var l=t[a]===o.getAttribute("value")||null!=t[a]&&t[a].toString()===o.getAttribute("value")||null==t[a]&&!o.getAttribute("value");o.classList.toggle("ql-active",l)}else o.classList.toggle("ql-active",null!=t[a])})}}]),t}(l.default);function f(e,t,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+t),null!=n&&(i.value=n),e.appendChild(i)}function g(e,t){Array.isArray(t[0])||(t=[t]),t.forEach(function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach(function(e){if("string"==typeof e)f(n,e);else{var t=Object.keys(e)[0],i=e[t];Array.isArray(i)?function(e,t,n){var i=document.createElement("select");i.classList.add("ql-"+t),n.forEach(function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),i.appendChild(t)}),e.appendChild(i)}(n,t,i):f(n,t,i)}}),e.appendChild(n)})}p.DEFAULTS={},p.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach(function(t){null!=o.default.query(t,o.default.Scope.INLINE)&&e.quill.format(t,!1)})}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),i=parseInt(n.indent||0);if("+1"===e||"-1"===e){var r="+1"===e?1:-1;"rtl"===n.direction&&(r*=-1),this.quill.format("indent",i+r,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=p,t.addControls=g},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(28),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(e){e.classList.add("ql-primary")}),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"buildItem",value:function(e){var n=a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var i=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=r:i.style.fill=r)}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(28),s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),function(e){e.innerHTML=n[e.getAttribute("data-value")||""]}),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"selectItem",value:function(e,n){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"}),this.hide()}return i(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),a=0;if(r.right>i.right&&(a=i.right-r.right,this.root.style.left=t+a+"px"),r.left<i.left&&(a=i.left-r.left,this.root.style.left=t+a+"px"),r.bottom>i.bottom){var o=r.bottom-r.top,s=e.bottom-e.top+o;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return a}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){r=!0,a=c}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=p(n(3)),s=p(n(8)),c=n(43),l=p(c),d=p(n(27)),h=n(15),u=p(n(41));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,n){f(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=b);var i=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-snow"),i}return m(t,e),a(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),u.default),this.tooltip=new v(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(t,n){e.handlers.link.call(e,!n.format.link)})}}]),t}(l.default);y.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var v=function(e){function t(e,n){f(this,t);var i=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.preview=i.root.querySelector("a.ql-preview"),i}return m(t,e),a(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()}),this.quill.on(s.default.events.SELECTION_CHANGE,function(t,n,r){if(null!=t){if(0===t.length&&r===s.default.sources.USER){var a=e.quill.scroll.descendant(d.default,t.index),o=i(a,2),c=o[0],l=o[1];if(null!=c){e.linkRange=new h.Range(t.index-l,c.length());var u=d.default.formats(c.domNode);return e.preview.textContent=u,e.preview.setAttribute("href",u),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}})}},{key:"show",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(c.BaseTooltip);v.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=I(n(29)),r=n(36),a=n(38),o=n(64),s=I(n(65)),c=I(n(66)),l=n(67),d=I(l),h=n(37),u=n(26),p=n(39),f=n(40),g=I(n(56)),m=I(n(68)),b=I(n(27)),y=I(n(69)),v=I(n(70)),x=I(n(71)),_=I(n(72)),w=I(n(73)),D=n(13),T=I(D),A=I(n(74)),E=I(n(75)),C=I(n(57)),k=I(n(41)),S=I(n(28)),U=I(n(59)),O=I(n(60)),F=I(n(61)),N=I(n(108)),P=I(n(62));function I(e){return e&&e.__esModule?e:{default:e}}i.default.register({"attributors/attribute/direction":a.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":h.BackgroundClass,"attributors/class/color":u.ColorClass,"attributors/class/direction":a.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":h.BackgroundStyle,"attributors/style/color":u.ColorStyle,"attributors/style/direction":a.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":f.SizeStyle},!0),i.default.register({"formats/align":r.AlignClass,"formats/direction":a.DirectionClass,"formats/indent":o.IndentClass,"formats/background":h.BackgroundStyle,"formats/color":u.ColorStyle,"formats/font":p.FontClass,"formats/size":f.SizeClass,"formats/blockquote":s.default,"formats/code-block":T.default,"formats/header":c.default,"formats/list":d.default,"formats/bold":g.default,"formats/code":D.Code,"formats/italic":m.default,"formats/link":b.default,"formats/script":y.default,"formats/strike":v.default,"formats/underline":x.default,"formats/image":_.default,"formats/video":w.default,"formats/list/item":l.ListItem,"modules/formula":A.default,"modules/syntax":E.default,"modules/toolbar":C.default,"themes/bubble":N.default,"themes/snow":P.default,"ui/icons":k.default,"ui/picker":S.default,"ui/icon-picker":O.default,"ui/color-picker":U.default,"ui/tooltip":F.default},!0),t.default=i.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(0),s=(i=o)&&i.__esModule?i:{default:i},c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var i=this.value(e)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(e),!0):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(s.default.Attributor.Class),l=new c("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(4),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);a.blotName="blockquote",a.tagName="blockquote",t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(4),o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default);o.blotName="header",o.tagName=["H1","H2","H3","H4","H5","H6"],t.default=o},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=c(n(0)),o=c(n(4)),s=c(n(25));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),i(t,[{key:"format",value:function(e,n){e!==p.blotName||n?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(a.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:r(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(o.default);u.blotName="list-item",u.tagName="LI";var p=function(e){function t(e){l(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=function(t){if(t.target.parentNode===e){var i=n.statics.formats(e),r=a.default.find(t.target);"checked"===i?r.format("list","unchecked"):"unchecked"===i&&r.format("list","checked")}};return e.addEventListener("touchstart",i),e.addEventListener("mousedown",i),n}return h(t,e),i(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",i=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||i.setAttribute("data-checked","checked"===e),i}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),i(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof u)r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var i=null==n?this.length():n.offset(this),a=this.split(i);a.parent.insertBefore(e,a)}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=a.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(s.default);p.blotName="list",p.scope=a.default.Scope.BLOCK_BLOT,p.tagName=["OL","UL"],p.defaultChild="list-item",p.allowedChildren=[u],t.ListItem=u,t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(56),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);a.blotName="italic",a.tagName=["EM","I"],t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(6),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);s.blotName="script",s.tagName=["SUB","SUP"],t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(6),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);a.blotName="strike",a.tagName="S",t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(6),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);a.blotName="underline",a.tagName="U",t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(0),s=(i=o)&&i.__esModule?i:{default:i},c=n(27),l=["alt","height","width"],d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){l.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return l.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,c.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.default.Embed);d.blotName="image",d.tagName="IMG",t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},o=n(4),s=n(27),c=(i=s)&&i.__esModule?i:{default:i},l=["height","width"],d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){l.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=a(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return l.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"sanitize",value:function(e){return c.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(o.BlockEmbed);d.blotName="video",d.className="ql-video",d.tagName="IFRAME",t.default=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=c(n(35)),o=c(n(5)),s=c(n(9));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),i(t,null,[{key:"create",value:function(e){var n=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(a.default);u.blotName="formula",u.className="ql-formula",u.tagName="SPAN";var p=function(e){function t(){l(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return h(t,e),i(t,null,[{key:"register",value:function(){o.default.register(u,!0)}}]),t}(s.default);t.FormulaBlot=u,t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},a=c(n(0)),o=c(n(5)),s=c(n(9));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){function t(){return l(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),i(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(c(n(13)).default);u.className="ql-syntax";var p=new a.default.Attributor.Class("token","hljs",{scope:a.default.Scope.INLINE}),f=function(e){function t(e,n){l(this,t);var i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var r=null;return i.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(r),r=setTimeout(function(){i.highlight(),r=null},i.options.interval)}),i.highlight(),i}return h(t,e),i(t,null,[{key:"register",value:function(){o.default.register(p,!0),o.default.register(u,!0)}}]),i(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(o.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(u).forEach(function(t){t.highlight(e.options.highlight)}),this.quill.update(o.default.sources.SILENT),null!=t&&this.quill.setSelection(t,o.default.sources.SILENT)}}}]),t}(s.default);f.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=u,t.CodeToken=p,t.default=f},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=h(n(3)),o=h(n(8)),s=n(43),c=h(s),l=n(15),d=h(n(41));function h(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],m=function(e){function t(e,n){u(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=g);var i=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-bubble"),i}return f(t,e),r(t,[{key:"extendToolbar",value:function(e){this.tooltip=new b(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),d.default)}}]),t}(c.default);m.DEFAULTS=(0,a.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var b=function(e){function t(e,n){u(this,t);var i=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.on(o.default.events.EDITOR_CHANGE,function(e,t,n,r){if(e===o.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&r===o.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var a=i.quill.getLines(t.index,t.length);if(1===a.length)i.position(i.quill.getBounds(t));else{var s=a[a.length-1],c=i.quill.getIndex(s),d=Math.min(s.length()-1,t.index+t.length-c),h=i.quill.getBounds(new l.Range(c,d));i.position(h)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()}),i}return f(t,e),r(t,[{key:"listen",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){e.root.classList.remove("ql-editing")}),this.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===n)return n;r.style.marginLeft=-1*n-r.offsetWidth/2+"px"}}]),t}(s.BaseTooltip);b.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=b,t.default=m},function(e,t,n){e.exports=n(63)}]).default};var yw,vw=bw.exports=gw(),xw=l&&l.__extends||(yw=function(e,t){return yw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},yw(e,t)},function(e,t){function n(){this.constructor=e}yw(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),_w=l&&l.__assign||function(){return _w=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},_w.apply(this,arguments)},ww=l&&l.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i},Dw=l&&l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Tw=Dw(s),Aw=Dw(d),Ew=Dw(mw),Cw=Dw(vw),kw=function(e){function t(t){var n=e.call(this,t)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(e,t,i,r){var a,o,s,c;"text-change"===e?null===(o=(a=n).onEditorChangeText)||void 0===o||o.call(a,n.editor.root.innerHTML,t,r,n.unprivilegedEditor):"selection-change"===e&&(null===(c=(s=n).onEditorChangeSelection)||void 0===c||c.call(s,t,r,n.unprivilegedEditor))};var i=n.isControlled()?t.value:t.defaultValue;return n.value=null!=i?i:"",n}return xw(t,e),t.prototype.validateProps=function(e){var t;if(Tw.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Tw.default.Children.count(e.children)&&"textarea"===(null===(t=Tw.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var n,i=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var r=this.getEditorContents(),a=null!=(n=e.value)?n:"";this.isEqualValue(a,r)||this.setEditorContents(this.editor,a)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),ww(this.cleanProps,this.dirtyProps).some(function(t){return!Ew.default(e[t],i.props[t])})},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(n){return!Ew.default(e[n],t.props[n])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var n=this;if(this.editor&&this.shouldComponentRegenerate(e)){var i=this.editor.getContents(),r=this.editor.getSelection();this.regenerationSnapshot={delta:i,selection:r},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var a=this.regenerationSnapshot,o=(i=a.delta,a.selection);delete this.regenerationSnapshot,this.instantiateEditor();var s=this.editor;s.setContents(i),Sw(function(){return n.setEditorSelection(s,o)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var n=new Cw.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(n,t.tabIndex),this.hookEditor(n),n},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?Ew.default(e.ops,t.ops):Ew.default(e,t)},t.prototype.setEditorContents=function(e,t){var n=this;this.value=t;var i=this.getEditorSelection();"string"==typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),Sw(function(){return n.setEditorSelection(e,i)})},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var n=e.getLength();t.index=Math.max(0,Math.min(t.index,n-1)),t.length=Math.max(0,Math.min(t.length,n-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var n,i;(null===(i=null===(n=e)||void 0===n?void 0:n.scroll)||void 0===i?void 0:i.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=Aw.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,n=t.children,i=t.preserveWhitespace,r={key:this.state.generation,ref:function(t){e.editingArea=t}};return Tw.default.Children.count(n)?Tw.default.cloneElement(Tw.default.Children.only(n),r):i?Tw.default.createElement("pre",_w({},r)):Tw.default.createElement("div",_w({},r))},t.prototype.render=function(){var e;return Tw.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!=e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,n,i){var r,a;if(this.editor){var o=this.isDelta(this.value)?i.getContents():i.getHTML();o!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=o,null===(a=(r=this.props).onChange)||void 0===a||a.call(r,e,t,n,i))}},t.prototype.onEditorChangeSelection=function(e,t,n){var i,r,a,o,s,c;if(this.editor){var l=this.getEditorSelection(),d=!l&&e,h=l&&!e;Ew.default(e,l)||(this.selection=e,null===(r=(i=this.props).onChangeSelection)||void 0===r||r.call(i,e,t,n),d?null===(o=(a=this.props).onFocus)||void 0===o||o.call(a,e,t,n):h&&(null===(c=(s=this.props).onBlur)||void 0===c||c.call(s,l,t,n)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=Cw.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(Tw.default.Component);function Sw(e){Promise.resolve().then(e)}const Uw=h(kw),Ow=f({title:g().min(1,"Job title is required"),department:g().min(1,"Department is required"),type:m(["Full-time","Part-time","Internship","Freelance"]),location:g().min(1,"Location is required"),experience:g().min(1,"Experience requirement is required"),salary:g().optional(),description:g().min(1,"Job description is required"),responsibilities:g().min(1,"Responsibilities are required"),requirements:g().min(1,"Requirements are required"),deadline:g().min(1,"Application deadline is required"),status:m(["Active","Draft","Closed"]),isVisible:b()}),Fw=({job:e,onSuccess:t,onCancel:n})=>{const[r,a]=s.useState(!1),[o,c]=s.useState(!1),[l,d]=s.useState(null),h=y({resolver:v(Ow),defaultValues:{title:e?.title||"",department:e?.department||"",type:e?.type||"Full-time",location:e?.location||"",experience:e?.experience||"",salary:e?.salary||"",description:e?.description||"",responsibilities:e?.responsibilities||"",requirements:e?.requirements||"",deadline:e?.deadline||"",status:e?.status||"Active",isVisible:e?.isVisible??!0}}),u={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]};return i.jsxs(x,{className:"max-w-4xl mx-auto",children:[i.jsxs(_,{children:[i.jsx(w,{children:e?"Edit Job Posting":"Create New Job Posting"}),!e&&i.jsx("div",{className:"text-sm text-gray-800",children:"You can upload a job description file (PDF/DOCX) to auto-fill the form fields, or fill them manually."})]}),i.jsx(D,{children:i.jsx(T,{...h,children:i.jsxs("form",{onSubmit:h.handleSubmit(async n=>{a(!0);try{let i=!1;if(e)i=await j.updateJobPosting(e.id,n),i?F.success("Job posting updated successfully"):F.error("Failed to update job posting");else{i=!!(await j.createJobPosting(n)),i?F.success("Job posting created successfully"):F.error("Failed to create job posting")}i&&t()}catch(i){F.error("An error occurred while saving")}finally{a(!1)}}),className:"space-y-6",children:[!e&&i.jsxs("div",{className:"space-y-2 p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Upload Job Description File (Optional)"}),i.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-primary/50 transition-colors",children:[i.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:async e=>{const t=e.target.files?.[0];if(!t)return;if(["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(t.type))if(t.size>10485760)F.error("File size must be less than 10MB");else{c(!0),d(t);try{F.info("Parsing job description file...");const e=await(async e=>{let t="";try{if("application/pdf"===e.type)t=await $b(e);else{if("application/msword"!==e.type&&"application/vnd.openxmlformats-officedocument.wordprocessingml.document"!==e.type)throw new Error("Unsupported file type");t=await Kb(e)}return Xb(t)}catch(n){throw new Error("Failed to parse job description file")}})(t);e.title&&h.setValue("title",e.title),e.department&&h.setValue("department",e.department),e.location&&h.setValue("location",e.location),e.experience&&h.setValue("experience",e.experience),e.salary&&h.setValue("salary",e.salary),e.description&&h.setValue("description",e.description),e.responsibilities&&h.setValue("responsibilities",e.responsibilities),e.requirements&&h.setValue("requirements",e.requirements),F.success("Job description parsed successfully! Please review and adjust the fields as needed.")}catch(n){F.error("Failed to parse job description file. Please fill the form manually.")}finally{c(!1)}}else F.error("Please upload a PDF or Word document")},className:"hidden",id:"jd-upload",disabled:o}),i.jsx("label",{htmlFor:"jd-upload",className:"cursor-pointer flex flex-col items-center gap-2 "+(o?"opacity-50":""),children:l?i.jsxs(i.Fragment,{children:[i.jsx(W,{className:"w-8 h-8 text-primary"}),i.jsx("div",{className:"text-sm font-medium text-foreground",children:l.name}),i.jsx("div",{className:"text-xs text-gray-800",children:o?"Parsing...":"Click to change file"})]}):i.jsxs(i.Fragment,{children:[i.jsx(q,{className:"w-8 h-8 text-gray-800"}),i.jsx("div",{className:"text-sm font-medium text-foreground",children:o?"Parsing file...":"Upload Job Description"}),i.jsx("div",{className:"text-xs text-gray-800",children:"PDF, DOC, or DOCX (max 10MB)"})]})})]}),i.jsx("div",{className:"text-xs text-gray-800",children:"The system will automatically extract job details and fill the form fields below."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(A,{control:h.control,name:"title",render:({field:e})=>i.jsxs(E,{children:[i.jsx(C,{children:"Job Title *"}),i.jsx(k,{children:i.jsx(S,{placeholder:"e.g. Senior Software Engineer",...e})}),i.jsx(U,{})]})}),i.jsx(A,{control:h.control,name:"department",render:({field:e})=>i.jsxs(E,{children:[i.jsx(C,{children:"Department *"}),i.jsx(k,{children:i.jsx(S,{placeholder:"e.g. Engineering",...e})}),i.jsx(U,{})]})}),i.jsx(A,{control:h.control,name:"type",render:({field:e})=>i.jsxs(E,{children:[i.jsx(C,{children:"Job Type *"}),i.jsxs(P,{onValueChange:e.onChange,defaultValue:e.value,children:[i.jsx(k,{children:i.jsx(I,{children:i.jsx(M,{placeholder:"Select job type"})})}),i.jsxs(R,{children:[i.jsx(B,{value:"Full-time",children:"Full-time"}),i.jsx(B,{value:"Part-time",children:"Part-time"}),i.jsx(B,{value:"Internship",children:"Internship"}),i.jsx(B,{value:"Freelance",children:"Freelance"})]})]}),i.jsx(U,{})]})}),i.jsx(A,{control:h.control,name:"location",render:({field:e})=>i.jsxs(E,{children:[i.jsx(C,{children:"Location *"}),i.jsx(k,{children:i.jsx(S,{placeholder:"e.g. Noida / Remote / Hybrid",...e})}),i.jsx(U,{})]})}),i.jsx(A,{control:h.control,name:"experience",render:({field:e})=>i.jsxs(E,{children:[i.jsx(C,{children:"Experience Required *"}),i.jsx(k,{children:i.jsx(S,{placeholder:"e.g. 3-5 years",...e})}),i.jsx(U,{})]})}),i.jsx(A,{control:h.control,name:"salary",render:({field:e})=>i.jsxs(E,{children:[i.jsx(C,{children:"Salary (Optional)"}),i.jsx(k,{children:i.jsx(S,{placeholder:"e.g. ₹8-12 LPA",...e})}),i.jsx(U,{})]})}),i.jsx(A,{control:h.control,name:"deadline",render:({field:e})=>i.jsxs(E,{children:[i.jsx(C,{children:"Application Deadline *"}),i.jsx(k,{children:i.jsx(S,{type:"date",...e})}),i.jsx(U,{})]})}),i.jsx(A,{control:h.control,name:"status",render:({field:e})=>i.jsxs(E,{children:[i.jsx(C,{children:"Status *"}),i.jsxs(P,{onValueChange:e.onChange,defaultValue:e.value,children:[i.jsx(k,{children:i.jsx(I,{children:i.jsx(M,{placeholder:"Select status"})})}),i.jsxs(R,{children:[i.jsx(B,{value:"Active",children:"Active"}),i.jsx(B,{value:"Draft",children:"Draft"}),i.jsx(B,{value:"Closed",children:"Closed"})]})]}),i.jsx(U,{})]})})]}),i.jsx(A,{control:h.control,name:"description",render:({field:e})=>i.jsxs(E,{children:[i.jsx(C,{children:"Job Description *"}),i.jsx(k,{children:i.jsx("div",{className:"min-h-[200px]",children:i.jsx(Uw,{theme:"snow",value:e.value,onChange:e.onChange,modules:u,placeholder:"Describe the role, company, and what makes this opportunity exciting..."})})}),i.jsx(U,{})]})}),i.jsx(A,{control:h.control,name:"responsibilities",render:({field:e})=>i.jsxs(E,{children:[i.jsx(C,{children:"Key Responsibilities *"}),i.jsx(k,{children:i.jsx("div",{className:"min-h-[150px]",children:i.jsx(Uw,{theme:"snow",value:e.value,onChange:e.onChange,modules:u,placeholder:"List the main responsibilities and duties..."})})}),i.jsx(U,{})]})}),i.jsx(A,{control:h.control,name:"requirements",render:({field:e})=>i.jsxs(E,{children:[i.jsx(C,{children:"Requirements & Qualifications *"}),i.jsx(k,{children:i.jsx("div",{className:"min-h-[150px]",children:i.jsx(Uw,{theme:"snow",value:e.value,onChange:e.onChange,modules:u,placeholder:"List required skills, qualifications, and experience..."})})}),i.jsx(U,{})]})}),i.jsx(A,{control:h.control,name:"isVisible",render:({field:e})=>i.jsxs(E,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(C,{className:"text-base",children:"Visible on Career Page"}),i.jsx("div",{className:"text-sm text-gray-800",children:"Make this job posting visible to candidates on the public career page"})]}),i.jsx(k,{children:i.jsx(de,{checked:e.value,onCheckedChange:e.onChange})})]})}),i.jsxs("div",{className:"flex gap-4 pt-6",children:[i.jsx(O,{type:"submit",disabled:r,className:"flex-1",children:r?"Saving...":e?"Update Job":"Create Job"}),i.jsx(O,{type:"button",variant:"outline",onClick:n,children:"Cancel"})]})]})})})]})},Nw=()=>{const[e,t]=s.useState([]),[n,r]=s.useState(!0),[a,o]=s.useState(!1),[c,l]=s.useState(),[d,h]=s.useState(""),[u,p]=s.useState("all");s.useEffect(()=>{f()},[]);const f=async()=>{try{const e=await j.getJobPostings(!0);t(e)}catch(e){F.error("Failed to load job postings")}finally{r(!1)}},g=()=>{o(!1),l(void 0),f()},m=()=>{o(!1),l(void 0)},b=e.filter(e=>{const t=e.title.toLowerCase().includes(d.toLowerCase())||e.department.toLowerCase().includes(d.toLowerCase()),n="all"===u||e.status===u;return t&&n}),y=e=>{switch(e){case"Active":return"bg-green-100 text-green-800";case"Draft":return"bg-yellow-100 text-yellow-800";case"Closed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a?i.jsx(L,{children:i.jsx(Fw,{job:c,onSuccess:g,onCancel:m})}):i.jsx(L,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Job Postings"}),i.jsx("p",{className:"text-gray-800",children:"Manage your job postings and internship opportunities"})]}),i.jsxs(O,{onClick:()=>o(!0),className:"gap-2",children:[i.jsx(z,{className:"w-4 h-4"}),"Add New Job"]})]}),i.jsx(x,{children:i.jsx(D,{className:"p-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-800"}),i.jsx(S,{placeholder:"Search jobs...",value:d,onChange:e=>h(e.target.value),className:"pl-10"})]}),i.jsxs(P,{value:u,onValueChange:p,children:[i.jsx(I,{className:"w-full sm:w-48",children:i.jsx(M,{placeholder:"Filter by status"})}),i.jsxs(R,{children:[i.jsx(B,{value:"all",children:"All Status"}),i.jsx(B,{value:"Active",children:"Active"}),i.jsx(B,{value:"Draft",children:"Draft"}),i.jsx(B,{value:"Closed",children:"Closed"})]})]})]})})}),n?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):0===b.length?i.jsx(x,{children:i.jsxs(D,{className:"p-12 text-center",children:[i.jsx(V,{className:"w-12 h-12 text-gray-800 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No job postings found"}),i.jsx("p",{className:"text-gray-800 mb-4",children:d||"all"!==u?"Try adjusting your search or filters":"Get started by creating your first job posting"}),!d&&"all"===u&&i.jsxs(O,{onClick:()=>o(!0),children:[i.jsx(z,{className:"w-4 h-4 mr-2"}),"Create Job Posting"]})]})}):i.jsx("div",{className:"grid gap-6",children:b.map(e=>i.jsxs(x,{className:"hover:shadow-md transition-shadow",children:[i.jsx(_,{className:"pb-3",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(w,{className:"text-xl",children:e.title}),i.jsx(N,{className:y(e.status),children:e.status}),!e.isVisible&&i.jsx(N,{variant:"outline",className:"text-gray-800",children:"Hidden"})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-800",children:[i.jsx("span",{children:e.department}),i.jsx("span",{children:"•"}),i.jsx("span",{children:e.type}),i.jsx("span",{children:"•"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(G,{className:"w-3 h-3"}),e.location]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(O,{variant:"ghost",size:"sm",onClick:()=>(async e=>{try{await j.updateJobPosting(e.id,{isVisible:!e.isVisible})?(F.success(`Job ${e.isVisible?"hidden":"made visible"} successfully`),f()):F.error("Failed to update visibility")}catch(t){F.error("An error occurred")}})(e),title:e.isVisible?"Hide from career page":"Show on career page",children:e.isVisible?i.jsx($,{className:"w-4 h-4"}):i.jsx(K,{className:"w-4 h-4"})}),i.jsx(O,{variant:"ghost",size:"sm",onClick:()=>(e=>{l(e),o(!0)})(e),children:i.jsx(X,{className:"w-4 h-4"})})]})]})}),i.jsxs(D,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-800",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Y,{className:"w-4 h-4"}),e.applicantCount||0," applicants"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Z,{className:"w-4 h-4"}),"Deadline: ",new Date(e.deadline).toLocaleDateString()]})]}),i.jsx("div",{className:"text-sm text-gray-800 line-clamp-2",dangerouslySetInnerHTML:{__html:e.description}})]})]},e.id))})]})})};export{Nw as default};
